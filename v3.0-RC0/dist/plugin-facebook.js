/*
-header

! JSON v3.2.3 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org
*/
try{window.FB||function(m){var J=m,n=m.document,H=m.setTimeout,O=m.setInterval,G=m.clearTimeout,E=m.clearInterval,P,g;(function(k){var C={},u={},s="global require requireDynamic requireLazy module exports".split(" ");P=function(f,g){if(u.hasOwnProperty(f))return u[f];if(!C.hasOwnProperty(f)){if(g)return null;throw Error("Module "+f+" has not been defined");}for(var c=C[f],a=c.deps,e=a.length,d,h=[],b=0;b<e;b++){switch(a[b]){case "module":d=c;break;case "exports":d=c.exports;break;case "global":d=
k;break;case "require":d=P;break;case "requireDynamic":d=P;break;case "requireLazy":d=null;break;default:d=P.call(null,a[b])}h.push(d)}c.factory.apply(k,h);return u[f]=c.exports};g=function(f,k,c,a){"function"==typeof c?(C[f]={factory:c,deps:s.concat(k),exports:{}},3===a&&P.call(null,f)):u[f]=c}})(this);g("ES5ArrayPrototype",[],function(k,C,g,s,f,t){var c={map:function(a,e){if("function"!=typeof a)throw new TypeError;var d,c=this.length,b=Array(c);for(d=0;d<c;++d)d in this&&(b[d]=a.call(e,this[d],
d,this));return b},forEach:function(a,e){c.map.call(this,a,e)},filter:function(a,e){if("function"!=typeof a)throw new TypeError;var d,c,b=this.length,l=[];for(d=0;d<b;++d)d in this&&(c=this[d],a.call(e,c,d,this)&&l.push(c));return l},every:function(a,e){if("function"!=typeof a)throw new TypeError;for(var d=Object(this),c=d.length,b=0;b<c;b++)if(b in d&&!a.call(e,d[b],b,d))return!1;return!0},some:function(a,e){if("function"!=typeof a)throw new TypeError;for(var d=Object(this),c=d.length,b=0;b<c;b++)if(b in
d&&a.call(e,d[b],b,d))return!0;return!1},indexOf:function(a,e){var d=this.length;e|=0;for(0>e&&(e+=d);e<d;e++)if(e in this&&this[e]===a)return e;return-1}};f.exports=c},null);g("ES5FunctionPrototype",[],function(k,C,g,s,f,t){f.exports={bind:function(c){function a(){return e.apply(c,d.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var e=this,d=Array.prototype.slice.call(arguments,1);a.displayName="bound:"+(e.displayName||
e.name||"(?)");a.toString=function(){return"bound: "+e};return a}}},null);g("ES5StringPrototype",[],function(k,C,g,s,f,t){f.exports={trim:function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},startsWith:function(c){var a=String(this);if(null==this)throw new TypeError("String.prototype.startsWith called on null or undefined");var e=1<arguments.length?Number(arguments[1]):0;isNaN(e)&&(e=0);var d=
Math.min(Math.max(e,0),a.length);return a.indexOf(String(c),e)==d},endsWith:function(c){var a=String(this);if(null==this)throw new TypeError("String.prototype.endsWith called on null or undefined");var e=a.length,d=String(c),h=1<arguments.length?Number(arguments[1]):e;isNaN(h)&&(h=0);e=Math.min(Math.max(h,0),e)-d.length;return 0>e?!1:a.lastIndexOf(d,e)==e},contains:function(c){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");var a=String(this),e=1<arguments.length?
Number(arguments[1]):0;isNaN(e)&&(e=0);return-1!=a.indexOf(String(c),e)},repeat:function(c){if(null==this)throw new TypeError("String.prototype.repeat called on null or undefined");var a=String(this);c=c?Number(c):0;isNaN(c)&&(c=0);if(0>c||Infinity===c)throw RangeError();if(1===c)return a;if(0===c)return"";for(var e="";c;)if(c&1&&(e+=a),c>>=1)a+=a;return e}}},null);g("ES5Array",[],function(k,C,g,s,f,t){f.exports={isArray:function(c){return"[object Array]"==Object.prototype.toString.call(c)}}},null);
g("ES5Object",[],function(k,C,g,s,f,t){f.exports={create:function(c){var a=typeof c;if("object"!=a&&"function"!=a)throw new TypeError("Object prototype may only be a Object or null");a=new Function;a.prototype=c;return new a},keys:function(c){var a=typeof c;if("object"!=a&&"function"!=a||null===c)throw new TypeError("Object.keys called on non-object");var a=[],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&a.push(e);e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf prototypeIsEnumerable constructor".split(" ");
if(!{toString:!0}.propertyIsEnumerable("toString"))for(var d=0;d<e.length;d++){var h=e[d];Object.prototype.hasOwnProperty.call(c,h)&&a.push(h)}return a}}},null);g("ES5Date",[],function(k,C,g,s,f,t){f.exports={now:function(){return(new Date).getTime()}}},null);g("JSON3",[],function(k,C,g,s,f,t){(function(){var c={}.toString,a,e,d=f.exports={},h='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',b,l,q,w,v,r,k,D,z,M,p,F,A,y,I,g=new Date(-0xc782b5b800cec),C,s,x;try{g=-109252==g.getUTCFullYear()&&0===
g.getUTCMonth()&&1==g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(Q){}g||(C=Math.floor,s=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(b,a){return s[a]+365*(b-1970)+C((b-1969+(a=+(1<a)))/4)-C((b-1901+a)/100)+C((b-1601+a)/400)});"object"==typeof JSON&&JSON&&(d.stringify=JSON.stringify,d.parse=JSON.parse);if(b="function"==typeof d.stringify&&!x){(g=function(){return 1}).toJSON=g;try{b="0"===d.stringify(0)&&"0"===d.stringify(new Number)&&
'""'==d.stringify(new String)&&void 0===d.stringify(c)&&void 0===d.stringify(void 0)&&void 0===d.stringify()&&"1"===d.stringify(g)&&"[1]"==d.stringify([g])&&"[null]"==d.stringify([void 0])&&"null"==d.stringify(null)&&"[null,null,null]"==d.stringify([void 0,c,null])&&d.stringify({result:[g,!0,!1,null,"\x00\b\n\f\r\t"]})==h&&"1"===d.stringify(null,g)&&"[\n 1,\n 2\n]"==d.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==d.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d.stringify(new Date(864E13))&&
'"-000001-01-01T00:00:00.000Z"'==d.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==d.stringify(new Date(-1))}catch(W){b=!1}}if("function"==typeof d.parse)try{if(0===d.parse("0")&&!d.parse(!1)&&(g=d.parse(h),r=5==g.A.length&&1==g.A[0])){try{r=!d.parse('"\t"')}catch(S){}if(r)try{r=1!=d.parse("01")}catch(u){}}}catch(t){r=!1}g=h=null;if(!b||!r){if(!(a={}.hasOwnProperty))a=function(b){var d={},e;(d.__proto__=null,d.__proto__={toString:1},d).toString!=c?a=function(b){var a=this.__proto__;
b=b in(this.__proto__=null,this);this.__proto__=a;return b}:(e=d.constructor,a=function(b){var a=(this.constructor||e).prototype;return b in this&&!(b in a&&this[b]===a[b])});d=null;return a.call(this,b)};e=function(b,d){var e=0,l,h,v;(l=function(){this.valueOf=0}).prototype.valueOf=0;h=new l;for(v in h)a.call(h,v)&&e++;l=h=null;e?e=2==e?function(b,d){var e={},l="[object Function]"==c.call(b),h;for(h in b)!(l&&"prototype"==h)&&(!a.call(e,h)&&(e[h]=1)&&a.call(b,h))&&d(h)}:function(b,d){var e="[object Function]"==
c.call(b),l,h;for(l in b)!(e&&"prototype"==l)&&(a.call(b,l)&&!(h="constructor"===l))&&d(l);(h||a.call(b,l="constructor"))&&d(l)}:(h="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),e=function(b,d){var e="[object Function]"==c.call(b),l;for(l in b)!(e&&"prototype"==l)&&a.call(b,l)&&d(l);for(e=h.length;l=h[--e];a.call(b,l)&&d(l));});return e(b,d)};b||(l={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},q=function(b,
a){return("000000"+(a||0)).slice(-b)},w=function(b){for(var a='"',d=0,e;e=b.charAt(d);d++)a+=-1<'\\"\b\f\n\r\t'.indexOf(e)?l[e]:" ">e?"\\u00"+q(2,e.charCodeAt(0).toString(16)):e;return a+'"'},v=function(b,d,l,h,r,F,Q){var f=d[b],p,k,D,A,S,z,M,g,B;if("object"==typeof f&&f)if(p=c.call(f),"[object Date]"==p&&!a.call(f,"toJSON"))if(f>-1/0&&f<1/0){if(x){D=C(f/864E5);for(p=C(D/365.2425)+1970-1;x(p+1,0)<=D;p++);for(k=C((D-x(p,0))/30.42);x(p,k+1)<=D;k++);D=1+D-x(p,k);A=(f%864E5+864E5)%864E5;S=C(A/36E5)%24;
z=C(A/6E4)%60;M=C(A/1E3)%60;A%=1E3}else p=f.getUTCFullYear(),k=f.getUTCMonth(),D=f.getUTCDate(),S=f.getUTCHours(),z=f.getUTCMinutes(),M=f.getUTCSeconds(),A=f.getUTCMilliseconds();f=(0>=p||1E4<=p?(0>p?"-":"+")+q(6,0>p?-p:p):q(4,p))+"-"+q(2,k+1)+"-"+q(2,D)+"T"+q(2,S)+":"+q(2,z)+":"+q(2,M)+"."+q(3,A)+"Z"}else f=null;else if("function"==typeof f.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||a.call(f,"toJSON")))f=f.toJSON(b);l&&(f=l.call(d,b,f));if(null===f)return"null";p=c.call(f);
if("[object Boolean]"==p)return""+f;if("[object Number]"==p)return f>-1/0&&f<1/0?""+f:"null";if("[object String]"==p)return w(f);if("object"==typeof f){for(b=Q.length;b--;)if(Q[b]===f)throw TypeError();Q.push(f);g=[];d=F;F+=r;if("[object Array]"==p){k=0;for(b=f.length;k<b;B||(B=!0),k++)p=v(k,f,l,h,r,F,Q),g.push(void 0===p?"null":p);return B?r?"[\n"+F+g.join(",\n"+F)+"\n"+d+"]":"["+g.join(",")+"]":"[]"}e(h||f,function(b){var d=v(b,f,l,h,r,F,Q);void 0!==d&&g.push(w(b)+":"+(r?" ":"")+d);B||(B=!0)});
return B?r?"{\n"+F+g.join(",\n"+F)+"\n"+d+"}":"{"+g.join(",")+"}":"{}"}},d.stringify=function(b,d,a){var e,l,h,q,w,r;if("function"==typeof d||"object"==typeof d&&d)if("[object Function]"==c.call(d))l=d;else if("[object Array]"==c.call(d)){h={};q=0;for(w=d.length;q<w;r=d[q++],("[object String]"==c.call(r)||"[object Number]"==c.call(r))&&(h[r]=1));}if(a)if("[object Number]"==c.call(a)){if(0<(a-=a%1)){e="";for(10<a&&(a=10);e.length<a;e+=" ");}}else"[object String]"==c.call(a)&&(e=10>=a.length?a:a.slice(0,
10));return v("",(r={},r[""]=b,r),l,h,e,"",[])});r||(k=String.fromCharCode,D={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},z=function(){y=I=null;throw SyntaxError();},M=function(){for(var b=I,d=b.length,a,e,c,l,h;y<d;)if(a=b.charAt(y),-1<"\t\r\n ".indexOf(a))y++;else{if(-1<"{}[]:,".indexOf(a))return y++,a;if('"'==a){e="@";for(y++;y<d;)if(a=b.charAt(y)," ">a)z();else if("\\"==a)if(a=b.charAt(++y),-1<'\\"/btnfr'.indexOf(a))e+=D[a],y++;else if("u"==a){c=++y;for(l=y+4;y<l;y++)a=b.charAt(y),
"0"<=a&&"9">=a||("a"<=a&&"f">=a||"A"<=a&&"F">=a)||z();e+=k("0x"+b.slice(c,y))}else z();else{if('"'==a)break;e+=a;y++}if('"'==b.charAt(y))return y++,e}else{c=y;"-"==a&&(h=!0,a=b.charAt(++y));if("0"<=a&&"9">=a){for("0"==a&&(a=b.charAt(y+1),"0"<=a&&"9">=a)&&z();y<d&&(a=b.charAt(y),"0"<=a&&"9">=a);y++);if("."==b.charAt(y)){for(l=++y;l<d&&(a=b.charAt(l),"0"<=a&&"9">=a);l++);l==y&&z();y=l}a=b.charAt(y);if("e"==a||"E"==a){a=b.charAt(++y);("+"==a||"-"==a)&&y++;for(l=y;l<d&&(a=b.charAt(l),"0"<=a&&"9">=a);l++);
l==y&&z();y=l}return+b.slice(c,y)}h&&z();if("true"==b.slice(y,y+4))return y+=4,!0;if("false"==b.slice(y,y+5))return y+=5,!1;if("null"==b.slice(y,y+4))return y+=4,null}z()}return"$"},p=function(b){var a,d;"$"==b&&z();if("string"==typeof b){if("@"==b.charAt(0))return b.slice(1);if("["==b){for(a=[];;d||(d=!0)){b=M();if("]"==b)break;d&&(","==b?(b=M(),"]"==b&&z()):z());","==b&&z();a.push(p(b))}return a}if("{"==b){for(a={};;d||(d=!0)){b=M();if("}"==b)break;d&&(","==b?(b=M(),"}"==b&&z()):z());(","==b||"string"!=
typeof b||"@"!=b.charAt(0)||":"!=M())&&z();a[b.slice(1)]=p(M())}return a}z()}return b},A=function(b,a,d){d=F(b,a,d);void 0===d?delete b[a]:b[a]=d},F=function(b,a,d){var l=b[a],h;if("object"==typeof l&&l)if("[object Array]"==c.call(l))for(h=l.length;h--;)A(l,h,d);else e(l,function(b){A(l,b,d)});return d.call(b,a,l)},d.parse=function(b,a){y=0;I=b;var d=p(M());"$"!=M()&&z();y=I=null;return a&&"[object Function]"==c.call(a)?F((g={},g[""]=d,g),"",a):d})}}).call(this)},null);g("ES5","ES5ArrayPrototype ES5FunctionPrototype ES5StringPrototype ES5Array ES5Object ES5Date JSON3".split(" "),
function(k,g,u,s,f,t,c,a,e,d,h,b,l){var q=Array.prototype.slice,w=Object.prototype.toString,v={"JSON.stringify":l.stringify,"JSON.parse":l.parse};k={array:c,"function":a,string:e,Object:h,Array:d,Date:b};for(var r in k)if(k.hasOwnProperty(r)){g=k[r];u=r===r.toLowerCase()?m[r.replace(/^\w/,function(b){return b.toUpperCase()})].prototype:m[r];for(var B in g)g.hasOwnProperty(B)&&(s=u[B],v[r+"."+B]=s&&/\{\s+\[native code\]\s\}/.test(s)?s:g[B])}f.exports=function(b,a,d){var e=q.call(arguments,3),c=d?/\s(.*)\]/.exec(w.call(b).toLowerCase())[1]:
b,c=v[c+"."+a]||b[a];if("function"===typeof c)return c.apply(b,e)}},null);var k=P("ES5");g("JSSDKRuntimeConfig",[],{locale:"zh_CN",rtl:!1,revision:"1272844"});g("JSSDKConfig",[],{bustCache:!0,tagCountLogRate:0.01,errorHandling:{rate:4},usePluginPipe:!0,features:{kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1E-6},xd_timeout:{rate:4,value:3E4},use_bundle:!0},api:{mode:"warn",whitelist:"Canvas Canvas.Prefetcher Canvas.Prefetcher.addStaticResource Canvas.Prefetcher.setCollectionMode Canvas.getPageInfo Canvas.hideFlashElement Canvas.scrollTo Canvas.setAutoGrow Canvas.setDoneLoading Canvas.setSize Canvas.setUrlHandler Canvas.showFlashElement Canvas.startTimer Canvas.stopTimer Data Data.process Data.query Data.query:wait Data.waitOn Data.waitOn:wait Event Event.subscribe Event.unsubscribe Music.flashCallback Music.init Music.send Payment Payment.cancelFlow Payment.continueFlow Payment.init Payment.lockForProcessing Payment.unlockForProcessing Payment.parse Payment.setSize ThirdPartyProvider ThirdPartyProvider.init ThirdPartyProvider.sendData UA UA.nativeApp XFBML XFBML.RecommendationsBar XFBML.RecommendationsBar.markRead XFBML.parse addFriend api getAccessToken getAuthResponse getLoginStatus getUserID init login logout publish share ui ui:subscribe".split(" ")},
initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,
manage_groups:!1,read_deals:!1}}});g("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"});g("JSSDKXDConfig",[],{XdUrl:"/connect/xd_arbiter.php?version\x3d41",XdBundleUrl:"/connect/xd_arbiter/V80PAcvrynR.js?version\x3d41",
Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:!0});g("JSSDKCssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset\x3ediv{overflow:hidden}.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:25px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity\x3d70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:15px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title\x3espan{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:13px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:13px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:17px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_connect_bar_container div,.fb_connect_bar_container span,.fb_connect_bar_container a,.fb_connect_bar_container img,.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode\x3d\x3d"CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:14px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}.fb_connect_bar a:hover{color:#fff}.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}.fb_connect_bar div a,.fb_connect_bar span,.fb_connect_bar span a{color:#bac6da;font-size:12px;text-decoration:none}.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}',
components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.connectbarwidget","css:fb.css.plugin.recommendationsbar"]});g("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}});g("JSSDKCanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500});g("JSSDKPluginPipeConfig",[],{threshold:0,enabledApps:{0xbec51e4718e7:1,0xaa568c1d5c06:1}});g("JSSDKConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",
missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}});g("QueryString",[],function(g,C,u,s,f,t){var c={encode:function(a){var e=[];k(k("Object","keys",!1,a).sort(),"forEach",!0,function(d){var c=a[d];"undefined"!==typeof c&&(null===c?e.push(d):e.push(encodeURIComponent(d)+"\x3d"+encodeURIComponent(c)))});return e.join("\x26")},decode:function(a,e){var d={};if(""===a)return d;for(var c=a.split("\x26"),b=0;b<c.length;b++){var l=c[b].split("\x3d",2),q=decodeURIComponent(l[0]);if(e&&d.hasOwnProperty(q))throw new URIError("Duplicate key: "+
q);d[q]=2===l.length?decodeURIComponent(l[1]):null}return d},appendToUrl:function(a,e){return a+(~k(a,"indexOf",!0,"?")?"\x26":"?")+("string"===typeof e?e:c.encode(e))}};f.exports=c},null);g("copyProperties",[],function(k,g,u,s,f,t){f.exports=function(c,a,e,d,h,b,l){c=c||{};a=[a,e,d,h,b];for(e=0;a[e];){d=a[e++];for(var q in d)c[q]=d[q];d.hasOwnProperty&&(d.hasOwnProperty("toString")&&"undefined"!=typeof d.toString&&c.toString!==d.toString)&&(c.toString=d.toString)}return c}},null);g("ManagedError",
[],function(k,g,u,s,f,t){function c(a,e){Error.prototype.constructor.call(this,a);this.message=a;this.innerError=e}c.prototype=Error();c.prototype.constructor=c;f.exports=c},null);g("AssertionError",["ManagedError"],function(k,g,u,s,f,t,c){function a(a){c.prototype.constructor.apply(this,arguments)}a.prototype=new c;a.prototype.constructor=a;f.exports=a},null);g("sprintf",[],function(k,g,u,s,f,t){f.exports=function(c){var a=Array.prototype.slice.call(arguments,1),e=0;return c.replace(/%s/g,function(d){return a[e++]})}},
null);g("Assert",["AssertionError","sprintf"],function(g,C,u,s,f,t,c,a){function e(b,a){if("boolean"!==typeof b||!b)throw new c(a);return b}function d(b,d,c){var h;void 0===d?h="undefined":null===d?h="null":(h=Object.prototype.toString.call(d),h=/\s(\w*)/.exec(h)[1].toLowerCase());e(-1!==k(b,"indexOf",!0,h),c||a("Expression is of type %s, not %s",h,b));return d}function h(a,d){b["is"+a]=d;b["maybe"+a]=function(b,a){null!=b&&d(b,a)}}var b={isInstanceOf:function(b,a,d){e(a instanceof b,d||"Expression not instance of type");
return a},isTrue:e,isTruthy:function(b,a){return e(!!b,a)},type:d,define:function(b,a){b=b.substring(0,1).toUpperCase()+b.substring(1).toLowerCase();h(b,function(b,d){e(a(b),d)})}};k("Array Boolean Date Function Null Number Object Regexp String Undefined".split(" "),"forEach",!0,function(b){h(b,k(d,"bind",!0,null,b.toLowerCase()))});f.exports=b},null);g("Type",["copyProperties","Assert"],function(g,C,u,s,f,t,c,a){function e(){var b=this.__mixins;if(b)for(var a=0;a<b.length;a++)b[a].apply(this,arguments)}
function d(b,a){if(a instanceof b)return!0;if(a instanceof e)for(var d=0;d<a.__mixins.length;d++)if(a.__mixins[d]==b)return!0;return!1}function h(b,a){var d=b.prototype;k("Array","isArray",!1,a)||(a=[a]);for(var e=0;e<a.length;e++){var c=a[e];"function"==typeof c&&(d.__mixins.push(c),c=c.prototype);k(k("Object","keys",!1,c),"forEach",!0,function(b){d[b]=c[b]})}}function b(d,q,w){var v=q&&q.hasOwnProperty("constructor")?q.constructor:function(){this.parent.apply(this,arguments)};a.isFunction(v);if(d&&
!1===d.prototype instanceof e)throw Error("parent type does not inherit from Type");d=d||e;var r=new Function;r.prototype=d.prototype;v.prototype=new r;c(v.prototype,q);v.prototype.constructor=v;v.parent=d;v.prototype.__mixins=d.prototype.__mixins?Array.prototype.slice.call(d.prototype.__mixins):[];w&&h(v,w);v.prototype.parent=function(){this.parent=d.prototype.parent;d.apply(this,arguments)};v.prototype.parentCall=function(b){return d.prototype[b].apply(this,Array.prototype.slice.call(arguments,
1))};v.extend=function(a,d){return b(this,a,d)};return v}c(e.prototype,{instanceOf:function(b){return d(b,this)}});c(e,{extend:function(a,d){return"function"===typeof a?b.apply(null,arguments):b(null,a,d)},instanceOf:d});f.exports=e},null);g("ObservableMixin",[],function(g,C,u,s,f,t){function c(){this.__observableEvents={}}c.prototype={inform:function(a){for(var e=Array.prototype.slice.call(arguments,1),d=Array.prototype.slice.call(this.getSubscribers(a)),c=0;c<d.length;c++)if(null!==d[c])try{d[c].apply(this,
e)}catch(b){H(function(){throw b;},0)}return this},getSubscribers:function(a){return this.__observableEvents[a]||(this.__observableEvents[a]=[])},clearSubscribers:function(a){a&&(this.__observableEvents[a]=[]);return this},clearAllSubscribers:function(){this.__observableEvents={};return this},subscribe:function(a,e){this.getSubscribers(a).push(e);return this},unsubscribe:function(a,e){for(var d=this.getSubscribers(a),c=0;c<d.length;c++)if(d[c]===e){d.splice(c,1);break}return this},monitor:function(a,
e){if(!e()){var d=k(function(c){e.apply(e,arguments)&&this.unsubscribe(a,d)},"bind",!0,this);this.subscribe(a,d)}return this}};f.exports=c},null);g("sdk.Model",["Type","ObservableMixin"],function(g,C,u,s,f,t,c,a){g=c.extend({constructor:function(a){this.parent();var d={},c=this;k(k("Object","keys",!1,a),"forEach",!0,function(b){d[b]=a[b];c["set"+b]=function(a){if(a===d[b])return this;d[b]=a;c.inform(b+".change",a);return c};c["get"+b]=function(){return d[b]}})}},a);f.exports=g},null);g("sdk.Runtime",
["sdk.Model","JSSDKRuntimeConfig","copyProperties"],function(k,g,u,s,f,t,c,a,e){var d={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},h=new c({AccessToken:"",ClientID:"",CookieUserID:"",Environment:d.UNKNOWN,Initialized:!1,IsVersioned:!1,KidDirectedSite:void 0,Locale:a.locale,LoginStatus:void 0,Revision:a.revision,Rtl:a.rtl,Scope:void 0,Secure:void 0,UseCookie:!1,UserID:"",Version:void 0});e(h,{ENVIRONMENTS:d,isEnvironment:function(b){var a=this.getEnvironment();return(b|a)===a}});(function(){var b=/app_runner/.test(m.name)?
d.PAGETAB:/iframe_canvas/.test(m.name)?d.CANVAS:d.UNKNOWN;(b|d.PAGETAB)===b&&(b|=d.CANVAS);h.setEnvironment(b)})();f.exports=h},null);g("sdk.Cookie",["QueryString","sdk.Runtime"],function(k,g,u,s,f,t,c,a){function e(b,d,e){b+=a.getClientID();var c=h&&"."!==h;c&&(n.cookie=b+"\x3d; expires\x3dWed, 04 Feb 2004 08:00:00 GMT;",n.cookie=b+"\x3d; expires\x3dWed, 04 Feb 2004 08:00:00 GMT;domain\x3d"+location.hostname+";");var v=(new Date(e)).toGMTString();n.cookie=b+"\x3d"+d+(d&&0===e?"":"; expires\x3d"+
v)+"; path\x3d/"+(c?"; domain\x3d"+h:"")}function d(b){b+=a.getClientID();return RegExp("\\b"+b+"\x3d([^;]*)\\b").test(n.cookie)?RegExp.$1:null}var h=null;f.exports={setDomain:function(b){h=b;b=c.encode({base_domain:h&&"."!==h?h:""});var a=new Date;a.setFullYear(a.getFullYear()+1);e("fbm_",b,a.getTime())},getDomain:function(){return h},loadMeta:function(){var b=d("fbm_");if(b)return b=c.decode(b),h||(h=b.base_domain),b},loadSignedRequest:function(){return d("fbsr_")},setSignedRequestCookie:function(b,
a){if(!b)throw Error("Value passed to Cookie.setSignedRequestCookie was empty.");e("fbsr_",b,a)},clearSignedRequestCookie:function(){e("fbsr_","",0)},setRaw:e}},null);g("guid",[],function(k,g,u,s,f,t){f.exports=function(){return"f"+(1073741824*Math.random()).toString(16).replace(".","")}},null);g("UserAgent",[],function(k,g,u,s,f,t){function c(){if(!a){a=!0;var c=navigator.userAgent,f=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(c),
k=/(Mac OS X)|(Windows)|(Linux)/.exec(c);z=/\b(iPhone|iP[ao]d)/.exec(c);N=/\b(iP[ao]d)/.exec(c);B=/Android/i.exec(c);p=/FBAN\/\w+;/i.exec(c);F=/Mobile/i.exec(c);D=!!/Win64/.exec(c);if(f){if((e=f[1]?parseFloat(f[1]):f[5]?parseFloat(f[5]):NaN)&&n&&n.documentMode)e=n.documentMode;var A=/(?:Trident\/(\d+.\d+))/.exec(c);q=A?parseFloat(A[1])+4:e;d=f[2]?parseFloat(f[2]):NaN;h=f[3]?parseFloat(f[3]):NaN;l=(b=f[4]?parseFloat(f[4]):NaN)?(f=/(?:Chrome\/(\d+\.\d+))/.exec(c))&&f[1]?parseFloat(f[1]):NaN:NaN}else e=
d=h=l=b=NaN;k?(w=k[1]?(c=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(c))?parseFloat(c[1].replace("_",".")):!0:!1,v=!!k[2],r=!!k[3]):w=v=r=!1}}var a=!1,e,d,h,b,l,q,w,v,r,B,D,z,N,p,F,A={ie:function(){return c()||e},ieCompatibilityMode:function(){return c()||q>e},ie64:function(){return A.ie()&&D},firefox:function(){return c()||d},opera:function(){return c()||h},webkit:function(){return c()||b},safari:function(){return A.webkit()},chrome:function(){return c()||l},windows:function(){return c()||v},osx:function(){return c()||
w},linux:function(){return c()||r},iphone:function(){return c()||z},mobile:function(){return c()||z||N||B||F},nativeApp:function(){return c()||p},android:function(){return c()||B},ipad:function(){return c()||N}};f.exports=A},null);g("hasNamePropertyBug",["guid","UserAgent"],function(k,g,u,s,f,t,c,a){var e=a.ie()?void 0:!1;f.exports=function(){if("undefined"===typeof e){var a=n.createElement("form"),h=a.appendChild(n.createElement("input"));h.name=c();e=h!==a.elements[h.name]}return e}},null);g("wrapFunction",
[],function(k,g,u,s,f,t){function c(c,d,h){d=d||"default";return function(){return(d in a?a[d](c,h):c).apply(this,arguments)}}var a={};c.setWrapper=function(c,d){a[d||"default"]=c};f.exports=c},null);g("DOMEventListener",["wrapFunction"],function(k,g,u,s,f,t,c){var a,e;m.addEventListener?(a=function(a,e,b){b.wrapper=c(b,"entry","DOMEventListener.add "+e);a.addEventListener(e,b.wrapper,!1)},e=function(a,c,b){a.removeEventListener(c,b.wrapper,!1)}):m.attachEvent?(a=function(a,e,b){b.wrapper=c(b,"entry",
"DOMEventListener.add "+e);a.attachEvent("on"+e,b.wrapper)},e=function(a,c,b){a.detachEvent("on"+c,b.wrapper)}):e=a=function(){};f.exports={add:function(d,c,b){a(d,c,b);return{remove:function(){e(d,c,b);d=null}}},remove:e}},null);g("sdk.createIframe",["copyProperties","guid","hasNamePropertyBug","DOMEventListener"],function(k,g,u,s,f,t,c,a,e,d){f.exports=function(h){h=c({},h);var b,l=h.name||a(),q=h.root,w=h.style||{border:"none"},v=h.url,r=h.onload;e()?b=n.createElement('\x3ciframe name\x3d"'+l+
'"/\x3e'):(b=n.createElement("iframe"),b.name=l);delete h.style;delete h.name;delete h.url;delete h.root;delete h.onload;h=c({frameBorder:0,allowTransparency:!0,scrolling:"no"},h);h.width&&(b.width=h.width+"px");h.height&&(b.height=h.height+"px");delete h.height;delete h.width;for(var f in h)h.hasOwnProperty(f)&&b.setAttribute(f,h[f]);c(b.style,w);b.src="javascript:false";q.appendChild(b);if(r)var k=d.add(b,"load",function(){k.remove();r()});b.src=v;return b}},null);g("DOMWrapper",[],function(k,g,
u,s,f,t){var c,a;f.exports={setRoot:function(a){c=a},getRoot:function(){return c||n.body},setWindow:function(c){a=c},getWindow:function(){return a||J}}},null);g("sdk.feature",["JSSDKConfig"],function(k,g,u,s,f,t,c){f.exports=function(a,e){if(c.features&&a in c.features){var d=c.features[a];return"object"===typeof d&&"number"===typeof d.rate?d.rate&&100*Math.random()<=d.rate?d.value||!0:d.value?null:!1:d}return"undefined"!==typeof e?e:null}},null);g("sdk.getContextType",["UserAgent","sdk.Runtime"],
function(k,g,u,s,f,t,c,a){f.exports=function(){return c.nativeApp()?3:c.mobile()?2:a.isEnvironment(a.ENVIRONMENTS.CANVAS)?5:1}},null);g("UrlMap",["UrlMapConfig"],function(k,g,u,s,f,t,c){f.exports={resolve:function(a,e){var d="undefined"==typeof e?location.protocol.replace(":",""):e?"https":"http";if(a in c)return d+"://"+c[a];if("undefined"==typeof e&&a+"_"+d in c)return d+"://"+c[a+"_"+d];if(!0!==e&&a+"_http"in c)return"http://"+c[a+"_http"];if(!1!==e&&a+"_https"in c)return"https://"+c[a+"_https"]}}},
null);g("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(g,C,u,s,f,t,c,a,e,d){function h(b){var l=e.getClientID();!b.api_key&&l&&(b.api_key=l);b.kid_directed_site=e.getKidDirectedSite();(new Image).src=a.appendToUrl(d.resolve("www",!0)+"/impression.php/"+c()+"/",b)}f.exports={log:function(b,a){a.source||(a.source="jssdk");h({lid:b,payload:k("JSON","stringify",!1,a)})},impression:h}},null);g("Log",["sprintf"],function(g,C,u,s,f,t,c){function a(a,h){var b=Array.prototype.slice.call(arguments,
2),b=c.apply(null,b),l=m.console;if(l&&e.level>=h)l[a in l?a:"log"](b)}g={DEBUG:3,INFO:2,WARNING:1,ERROR:0};var e={level:-1,Level:g,debug:k(a,"bind",!0,null,"debug",g.DEBUG),info:k(a,"bind",!0,null,"info",g.INFO),warn:k(a,"bind",!0,null,"warn",g.WARNING),error:k(a,"bind",!0,null,"error",g.ERROR)};f.exports=e},null);g("Base64",[],function(g,C,u,s,f,t){function c(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(e.charCodeAt(a>>>18),e.charCodeAt(a>>>12&63),e.charCodeAt(a>>>
6&63),e.charCodeAt(a&63))}function a(a){a=d.charCodeAt(a.charCodeAt(0)-43)<<18|d.charCodeAt(a.charCodeAt(1)-43)<<12|d.charCodeAt(a.charCodeAt(2)-43)<<6|d.charCodeAt(a.charCodeAt(3)-43);return String.fromCharCode(a>>>16,a>>>8&255,a&255)}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="\x3e___?456789:;\x3c\x3d_______\x00\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\x0B\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019______\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%\x26'()*+,-./0123",
h={encode:function(a){a=unescape(encodeURI(a));var d=(a.length+2)%3;a=(a+"\x00\x00".slice(d)).replace(/[\s\S]{3}/g,c);return a.slice(0,a.length+d-2)+"\x3d\x3d".slice(d)},decode:function(b){b=b.replace(/[^A-Za-z0-9+\/]/g,"");var d=b.length+3&3;b=(b+"AAA".slice(d)).replace(/..../g,a);b=b.slice(0,b.length+d-3);try{return decodeURIComponent(escape(b))}catch(c){throw Error("Not valid UTF-8");}},encodeObject:function(a){return h.encode(k("JSON","stringify",!1,a))},decodeObject:function(a){return k("JSON",
"parse",!1,h.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,k(a,"map",!0,function(a){return e.charCodeAt((a|-(63<a))&-(0<a)&63)}))}};f.exports=h},null);g("sdk.SignedRequest",["Base64"],function(k,g,u,s,f,t,c){f.exports={parse:function(a){if(!a)return null;a=a.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return c.decodeObject(a)}}},null);g("URIRFC3986",[],function(g,C,u,s,f,t){var c=/^([^:/?#]+:)?(\/\/([^\\/?#@]*@)?(\[[A-Fa-f0-9:.]+\]|[^\/?#:]*)(:[0-9]*)?)?([^?#]*)(\?[^#]*)?(#.*)?/;
f.exports={parse:function(a){if(""===k(a,"trim",!0))return null;a=a.match(c);var e={};e.uri=a[0]?a[0]:null;e.scheme=a[1]?a[1].substr(0,a[1].length-1):null;e.authority=a[2]?a[2].substr(2):null;e.userinfo=a[3]?a[3].substr(0,a[3].length-1):null;e.host=a[2]?a[4]:null;e.port=a[5]?a[5].substr(1)?parseInt(a[5].substr(1),10):null:null;e.path=a[6]?a[6]:null;e.query=a[7]?a[7].substr(1):null;e.fragment=a[8]?a[8].substr(1):null;e.isGenericURI=null===e.authority&&!!e.scheme;return e}}},null);g("createObjectFrom",
[],function(g,C,u,s,f,t){f.exports=function(c,a){var e={},d=k("Array","isArray",!1,a);"undefined"==typeof a&&(a=!0);for(var h=c.length;h--;)e[c[h]]=d?a[h]:a;return e}},null);g("URISchemes",["createObjectFrom"],function(k,g,u,s,f,t,c){var a=c("fb fbcf fbconnect fb-messenger fbrpc file ftp http https mailto ms-app itms itms-apps itms-services market svn+ssh fbstaging tel sms".split(" "));f.exports={isAllowed:function(c){return!c?!0:a.hasOwnProperty(c.toLowerCase())}}},null);g("eprintf",[],function(g,
C,u,s,f,t){var c=function(a){var e=k(Array.prototype.slice.call(arguments),"map",!0,function(a){return String(a)});if(a.split("%s").length-1!==e.length-1)return c("eprintf args number mismatch: %s",k("JSON","stringify",!1,e));var d=1;return a.replace(/%s/g,function(a){return String(e[d++])})};f.exports=c},null);g("ex",["eprintf"],function(g,C,u,s,f,t,c){var a=function(){var c=Array.prototype.slice.call(arguments,0),c=k(c,"map",!0,function(a){return String(a)});return c[0].split("%s").length!==c.length?
a("ex args number mismatch: %s",k("JSON","stringify",!1,c)):a._prefix+k("JSON","stringify",!1,c)+a._suffix};a._prefix="\x3c![EX[";a._suffix="]]\x3e";f.exports=a},null);g("invariant",[],function(k,g,u,s,f,t){f.exports=function(c){if(!c)throw c=Error("Minified exception occured; use the non-minified dev environment for the full error message and additional helpful warnings."),c.framesToPop=1,c;}},null);g("URIBase",["URIRFC3986","URISchemes","copyProperties","ex","invariant"],function(g,C,u,s,f,t,c,
a,e,d,h){function b(b,e,h,f){if(!e)return!0;if(e instanceof l)return b.setProtocol(e.getProtocol()),b.setDomain(e.getDomain()),b.setPort(e.getPort()),b.setPath(e.getPath()),b.setQueryData(f.deserialize(f.serialize(e.getQueryData()))),b.setFragment(e.getFragment()),!0;e=k(e.toString(),"trim",!0);var g=c.parse(e)||{};if(!h&&!a.isAllowed(g.scheme))return!1;b.setProtocol(g.scheme||"");if(!h&&q.test(g.host))return!1;b.setDomain(g.host||"");b.setPort(g.port||"");b.setPath(g.path||"");if(h)b.setQueryData(f.deserialize(g.query)||
{});else try{b.setQueryData(f.deserialize(g.query)||{})}catch(M){return!1}b.setFragment(g.fragment||"");if(null!==g.userinfo){if(h)throw Error(d("URI.parse: invalid URI (userinfo is not allowed in a URI): %s",b.toString()));return!1}if(!b.getDomain()&&-1!==k(b.getPath(),"indexOf",!0,"\\")){if(h)throw Error(d("URI.parse: invalid URI (no domain but multiple back-slashes): %s",b.toString()));return!1}if(!b.getProtocol()&&w.test(e)){if(h)throw Error(d("URI.parse: invalid URI (unsafe protocol-relative URLs): %s",
b.toString()));return!1}return!0}function l(a,d){h(d);this.$URIBase0=d;this.$URIBase5=this.$URIBase4=this.$URIBase3=this.$URIBase2=this.$URIBase1="";this.$URIBase6={};b(this,a,!0,d)}var q=RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),w=/^(?:[^/]*:|[\x00-\x1f]*\/[\x00-\x1f]*\/)/;l.prototype.setProtocol=function(b){h(a.isAllowed(b));this.$URIBase1=b;return this};l.prototype.getProtocol=function(a){return this.$URIBase1};
l.prototype.setSecure=function(a){return this.setProtocol(a?"https":"http")};l.prototype.isSecure=function(){return"https"===this.getProtocol()};l.prototype.setDomain=function(a){if(q.test(a))throw Error(d("URI.setDomain: unsafe domain specified: %s for url %s",a,this.toString()));this.$URIBase2=a;return this};l.prototype.getDomain=function(){return this.$URIBase2};l.prototype.setPort=function(a){this.$URIBase3=a;return this};l.prototype.getPort=function(){return this.$URIBase3};l.prototype.setPath=
function(a){this.$URIBase4=a;return this};l.prototype.getPath=function(){return this.$URIBase4};l.prototype.addQueryData=function(a,b){"[object Object]"===Object.prototype.toString.call(a)?e(this.$URIBase6,a):this.$URIBase6[a]=b;return this};l.prototype.setQueryData=function(a){this.$URIBase6=a;return this};l.prototype.getQueryData=function(){return this.$URIBase6};l.prototype.removeQueryData=function(a){k("Array","isArray",!1,a)||(a=[a]);for(var b=0,d=a.length;b<d;++b)delete this.$URIBase6[a[b]];
return this};l.prototype.setFragment=function(a){this.$URIBase5=a;return this};l.prototype.getFragment=function(){return this.$URIBase5};l.prototype.isEmpty=function(){return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||0<k("Object","keys",!1,this.getQueryData()).length||this.getFragment())};l.prototype.toString=function(){var a="";this.$URIBase1&&(a+=this.$URIBase1+"://");this.$URIBase2&&(a+=this.$URIBase2);this.$URIBase3&&(a+=":"+this.$URIBase3);this.$URIBase4?a+=this.$URIBase4:
a&&(a+="/");var b=this.$URIBase0.serialize(this.$URIBase6);b&&(a+="?"+b);this.$URIBase5&&(a+="#"+this.$URIBase5);return a};l.prototype.getOrigin=function(){return this.$URIBase1+"://"+this.$URIBase2+(this.$URIBase3?":"+this.$URIBase3:"")};l.isValidURI=function(a,d){return b(new l(null,d),a,!1,d)};f.exports=l},null);g("sdk.URI",["Assert","QueryString","URIBase"],function(g,C,u,s,f,t,c,a,e){function d(a){c.isString(a,"The passed argument was of invalid type.");if(!(this instanceof d))return new d(a);
e.call(this,a,b)}var h=/\.facebook\.com$/,b={serialize:function(b){return b?a.encode(b):""},deserialize:function(b){return b?a.decode(b):{}}},l;for(l in e)e.hasOwnProperty(l)&&(d[l]=e[l]);d.prototype=k("Object","create",!1,null===e?null:e.prototype);d.prototype.constructor=d;d.__superConstructor__=e;d.prototype.isFacebookURI=function(){return h.test(this.getDomain())};d.prototype.valueOf=function(){return this.toString()};f.exports=d},null);g("sdk.domReady",[],function(k,g,u,s,f,t){function c(){if(a){for(var d;d=
a.shift();)d();a=null}}var a;if(!("readyState"in n?/loaded|complete/.test(n.readyState):n.body))if(a=[],n.addEventListener?(n.addEventListener("DOMContentLoaded",c,!1),m.addEventListener("load",c,!1)):n.attachEvent&&(n.attachEvent("onreadystatechange",c),m.attachEvent("onload",c)),n.documentElement.doScroll&&m==m.top){var e=function(){try{n.documentElement.doScroll("left")}catch(a){H(e,0);return}c()};e()}f.exports=function(d){a?a.push(d):d()}},3);g("sdk.Content",["sdk.domReady","Log","UserAgent"],
function(k,g,u,s,f,t,c,a,e){var d,h={append:function(b,l){l||(d?l=d:(d=l=n.getElementById("fb-root"),l||(a.warn('The "fb-root" div has not been created, auto-creating'),d=l=n.createElement("div"),l.id="fb-root",e.ie()||!n.body?c(function(){n.body.appendChild(l)}):n.body.appendChild(l)),l.className+=" fb_reset"));if("string"==typeof b){var h=n.createElement("div");l.appendChild(h).innerHTML=b;return h}return l.appendChild(b)},appendHidden:function(a){if(!d){var d=n.createElement("div"),c=d.style;c.position=
"absolute";c.top="-10000px";c.width=c.height=0;d=h.append(d)}return h.append(a,d)},submitToTarget:function(a,d){var c=n.createElement("form");c.action=a.url;c.target=a.target;c.method=d?"GET":"POST";h.appendHidden(c);for(var e in a.params)if(a.params.hasOwnProperty(e)){var f=a.params[e];if(null!==f&&void 0!==f){var r=n.createElement("input");r.name=e;r.value=f;c.appendChild(r)}}c.submit();c.parentNode.removeChild(c)}};f.exports=h},null);g("sdk.Event",[],function(g,C,u,s,f,t){f.exports={subscribers:function(){this._subscribersMap||
(this._subscribersMap={});return this._subscribersMap},subscribe:function(c,a){var e=this.subscribers();e[c]?e[c].push(a):e[c]=[a]},unsubscribe:function(c,a){var e=this.subscribers()[c];e&&k(e,"forEach",!0,function(d,c){d==a&&(e[c]=null)})},monitor:function(c,a){if(!a()){var e=this,d=function(){a.apply(a,arguments)&&e.unsubscribe(c,d)};this.subscribe(c,d)}},clear:function(c){delete this.subscribers()[c]},fire:function(c){var a=Array.prototype.slice.call(arguments,1),e=this.subscribers()[c];e&&k(e,
"forEach",!0,function(d){d&&d.apply(this,a)})}}},null);g("Queue",["copyProperties"],function(g,C,u,s,f,t,c){function a(a){this._opts=c({interval:0,processor:null},a);this._queue=[];this._stopped=!0}var e={};a.prototype._dispatch=function(a){if(!(this._stopped||0===this._queue.length)){if(!this._opts.processor)throw this._stopped=!0,Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=H(k(this._dispatch,"bind",!0,this),this._opts.interval);
else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}};a.prototype.enqueue=function(a){this._opts.processor&&!this._stopped?this._opts.processor.call(this,a):this._queue.push(a);return this};a.prototype.start=function(a){a&&(this._opts.processor=a);this._stopped=!1;this._dispatch();return this};a.prototype.isStarted=function(){return!this._stopped};a.prototype.dispatch=function(){this._dispatch(!0)};a.prototype.stop=function(a){this._stopped=!0;a&&G(this._timeout);return this};
a.prototype.merge=function(a,c){this._queue[c?"unshift":"push"].apply(this._queue,a._queue);a._queue=[];this._dispatch();return this};a.prototype.getLength=function(){return this._queue.length};a.get=function(d,c){return d in e?e[d]:e[d]=new a(c)};a.exists=function(a){return a in e};a.remove=function(a){return delete e[a]};f.exports=a},null);g("JSONRPC",["copyProperties","Log"],function(g,C,u,s,f,t,c,a){function e(a){this._counter=0;this._callbacks={};this.remote=k(function(a){this._context=a;return this.remote},
"bind",!0,this);this.local={};this._write=a}c(e.prototype,{stub:function(a){this.remote[a]=k(function(){var c=Array.prototype.slice.call(arguments),b={jsonrpc:"2.0",method:a};"function"==typeof c[c.length-1]&&(b.id=++this._counter,this._callbacks[b.id]=c.pop());b.params=c;this._write(k("JSON","stringify",!1,b),this._context||{method:a})},"bind",!0,this)},read:function(d,c){var b=k("JSON","parse",!1,d),e=b.id;if(b.method){var f=this,w=this.local[b.method],v;v=e?function(a,b){var d={jsonrpc:"2.0",id:e};
d[a]=b;H(function(){f._write(k("JSON","stringify",!1,d),c)},0)}:function(){};if(w){b.params.push(k(v,"bind",!0,null,"result"));b.params.push(k(v,"bind",!0,null,"error"));try{var r=w.apply(c||null,b.params);"undefined"!==typeof r&&v("result",r)}catch(g){a.error("Invokation of RPC method %s resulted in the error: %s",b.method,g.message),v("error",{code:-32603,message:"Internal error",data:g.message})}}else a.error('Method "%s" has not been defined',b.method),v("error",{code:-32601,message:"Method not found",
data:b.method})}else this._callbacks[e]?(w=this._callbacks[e],delete this._callbacks[e],delete b.id,delete b.jsonrpc,w(b)):a.warn("Could not find callback %s",e)}});f.exports=e},null);g("sdk.RPC",["Assert","JSONRPC","Queue"],function(g,C,u,s,f,t,c,a,e){var d=new e,h=new a(function(a){d.enqueue(a)});g={local:h.local,remote:h.remote,stub:k(h.stub,"bind",!0,h),setInQueue:function(a){c.isInstanceOf(e,a);a.start(function(a){h.read(a)})},getOutQueue:function(){return d}};f.exports=g},null);g("sdk.Scribe",
["QueryString","sdk.Runtime","UrlMap"],function(g,C,u,s,f,t,c,a,e){f.exports={log:function(d,h){"object"==typeof h.extra&&(h.extra.revision=a.getRevision());(new Image).src=c.appendToUrl(e.resolve("www",!0)+"/common/scribe_endpoint.php",{c:d,m:k("JSON","stringify",!1,h)})}}},null);g("emptyFunction",["copyProperties"],function(k,g,u,s,f,t,c){function a(a){return function(){return a}}function e(){}c(e,{thatReturns:a,thatReturnsFalse:a(!1),thatReturnsTrue:a(!0),thatReturnsNull:a(null),thatReturnsThis:function(){return this},
thatReturnsArgument:function(a){return a}});f.exports=e},null);g("htmlSpecialChars",[],function(k,g,u,s,f,t){var c=/&/g,a=/</g,e=/>/g,d=/"/g,h=/'/g;f.exports=function(b){return"undefined"==typeof b||null===b||!b.toString?"":!1===b?"0":!0===b?"1":b.toString().replace(c,"\x26amp;").replace(d,"\x26quot;").replace(h,"\x26#039;").replace(a,"\x26lt;").replace(e,"\x26gt;")}},null);g("Flash","DOMEventListener DOMWrapper QueryString UserAgent copyProperties guid htmlSpecialChars".split(" "),function(k,g,u,
s,f,t,c,a,e,d,h,b,l){function q(a){var b=D.getElementById(a);b&&b.parentNode.removeChild(b);delete r[a]}function w(){for(var a in r)r.hasOwnProperty(a)&&q(a)}function v(a){return a.replace(/\d+/g,function(a){return"000".substring(a.length)+a})}var r={},B,D=a.getWindow().document,z={embed:function(a,f,q,k){var v=b();a=l(a).replace(/&amp;/g,"\x26");q=h({allowscriptaccess:"always",flashvars:k,movie:a},q||{});"object"==typeof q.flashvars&&(q.flashvars=e.encode(q.flashvars));k=[];for(var g in q)q.hasOwnProperty(g)&&
q[g]&&k.push('\x3cparam name\x3d"'+l(g)+'" value\x3d"'+l(q[g])+'"\x3e');f=f.appendChild(D.createElement("span"));a="\x3cobject "+(d.ie()?'classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type\x3d"application/x-shockwave-flash"')+'data\x3d"'+a+'" '+(q.height?'height\x3d"'+q.height+'" ':"")+(q.width?'width\x3d"'+q.width+'" ':"")+'id\x3d"'+v+'"\x3e'+k.join("")+"\x3c/object\x3e";f.innerHTML=a;a=f.firstChild;B||(9<=d.ie()&&c.add(m,"unload",w),B=!0);r[v]=v;return a},remove:q,getVersion:function(){var a;
if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]){var b=navigator.plugins["Shockwave Flash"].description;b&&(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&(a=b.match(/\d+/g))}if(!a)try{a=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),a=Array.prototype.slice.call(a,1)}catch(d){}return a},checkMinVersion:function(a){var b=
z.getVersion();return!b?!1:v(b.join("."))>=v(a)},isAvailable:function(){return!!z.getVersion()}};f.exports=z},null);g("dotAccess",[],function(k,g,u,s,f,t){f.exports=function(c,a,e){a=a.split(".");do{var d=a.shift();c=c[d]||e&&(c[d]={})}while(a.length&&c);return c}},null);g("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(k,g,u,s,f,t,c,a,e,d){var h,b;f.exports={setPrefix:function(d){h=a(c.getWindow(),d,!0);b=d},create:function(a,c){h||this.setPrefix("__globalCallbacks");var f=
e();h[f]=d(a,"entry",c||"GlobalCallback");return b+"."+f},remove:function(a){a=a.substring(b.length+1);delete h[a]}}},null);g("XDM","DOMEventListener DOMWrapper emptyFunction Flash GlobalCallback guid Log UserAgent wrapFunction".split(" "),function(k,g,u,s,f,t,c,a,e,d,h,b,l,q,w){var v={},r=[],B=a.getWindow();k={register:function(a,b){l.debug("Registering %s as XDM provider",a);r.push(a);v[a]=b},create:function(a){if(!a.whenReady&&!a.onMessage)throw l.error("An instance without whenReady or onMessage makes no sense"),
Error("An instance without whenReady or onMessage makes no sense");a.channel||(l.warn("Missing channel name, selecting at random"),a.channel=b());a.whenReady||(a.whenReady=e);a.onMessage||(a.onMessage=e);var d;if(!(d=a.transport))a:{var c=a.blacklist||[];d={};for(var h=c.length;h--;)d[c[h]]=1;for(h=r.length;h--;){var c=r[h],f=v[c];if(!d[c]&&f.isAvailable()){d=c;break a}}d=void 0}if((h=v[d])&&h.isAvailable())return l.debug("%s is available",d),h.init(a),d}};k.register("flash",function(){var a=!1,b,
c;return{isAvailable:function(){return d.checkMinVersion("8.0.24")},init:function(e){l.debug("init flash: "+e.channel);var f={send:function(a,d,c,e){l.debug("sending to: %s (%s)",d,e);b.postMessage(a,d,e)}};if(a)e.whenReady(f);else{var w=e.root.appendChild(B.document.createElement("div")),q=h.create(function(){h.remove(q);G(c);l.info("xdm.swf called the callback");var a=h.create(function(a,b){a=decodeURIComponent(a);b=decodeURIComponent(b);l.debug("received message %s from %s",a,b);e.onMessage(a,
b)},"xdm.swf:onMessage");b.init(e.channel,a);e.whenReady(f)},"xdm.swf:load");b=d.embed(e.flashUrl,w,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:q,log:!1});c=H(function(){l.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",15E3)},15E3);a=!0}}}}());k.register("postmessage",function(){var a=!1;return{isAvailable:function(){return!!B.postMessage},
init:function(b){l.debug("init postMessage: "+b.channel);var d="_FB_"+b.channel,e={send:function(a,b,d,c){if(B===d)throw l.error("Invalid windowref, equal to window (self)"),Error();l.debug("sending to: %s (%s)",b,c);var e=function(){d.postMessage("_FB_"+c+a,b)};8==q.ie()||q.ieCompatibilityMode()?H(e,0):e()}};a?b.whenReady(e):(c.add(B,"message",w(function(a){var c=a.data;a=a.origin||"native";/^(https?:\/\/|native$)/.test(a)?"string"!=typeof c?l.warn("Received message of type %s from %s, expected a string",
typeof c,a):(l.debug("received message %s from %s",c,a),c.substring(0,d.length)==d&&(c=c.substring(d.length)),b.onMessage(c,a)):l.debug("Received message from invalid origin type: %s",a)},"entry","onMessage")),b.whenReady(e),a=!0)}}}());f.exports=k},null);g("sdk.XD","sdk.Content sdk.Event Log QueryString Queue sdk.RPC sdk.Runtime sdk.Scribe sdk.URI UrlMap JSSDKXDConfig XDM sdk.createIframe sdk.feature guid".split(" "),function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D,z,m){function p(a){e.info("Remote XD can talk to facebook.com (%s)",
a);l.setEnvironment("canvas"===a?l.ENVIRONMENTS.CANVAS:l.ENVIRONMENTS.PAGETAB)}function F(a,b){if(!b)throw e.error("No senderOrigin"),Error();var c=/^https?/.exec(b)[0];switch(a.xd_action){case "proxy_ready":var l,f;"https"==c?(l=K,f=Q):(l=G,f=x);a.registered&&(p(a.registered),L=l.merge(L));e.info("Proxy ready, starting queue %s containing %s messages",c+"ProxyQueue",l.getLength());l.start(function(a){E.send("string"===typeof a?a:d.encode(a),b,f.contentWindow,U+"_"+c)});break;case "plugin_ready":e.info("Plugin %s ready, protocol: %s",
a.name,c),J[a.name]={protocol:c},h.exists(a.name)&&(l=h.get(a.name),e.debug("Enqueuing %s messages for %s in %s",l.getLength(),a.name,c+"ProxyQueue"),("https"==c?K:G).merge(l))}a.data&&A(a.data,b)}function A(a,b){if(!b||"native"===b||w(b).isFacebookURI()){if("string"==typeof a){if(/^FB_RPC:/.test(a)){Z.enqueue(a.substring(7));return}if("{"==a.substring(0,1))try{a=k("JSON","parse",!1,a)}catch(c){e.warn("Failed to decode %s as JSON",a);return}else a=d.decode(a)}!b&&a.xd_sig==W&&(b=a.xd_origin);if(a.xd_action)F(a,
b);else if(a.access_token&&l.setSecure(/^https/.test(V)),a.cb){var h=T._callbacks[a.cb];T._forever[a.cb]||delete T._callbacks[a.cb];h&&h(a)}}}function y(a,b){if("facebook"==a)b.relation="parent.parent",L.enqueue(b);else{b.relation='parent.frames["'+a+'"]';var c=J[a];c?(e.debug("Enqueuing message for plugin %s in %s",a,c.protocol+"ProxyQueue"),("https"==c.protocol?K:G).enqueue(b)):(e.debug("Buffering message for plugin %s",a),h.get(a).enqueue(b))}}function I(a){if(!P){var b=c.appendHidden(n.createElement("div")),
e=B.create({blacklist:null,root:b,channel:U,flashUrl:r.Flash.path,whenReady:function(c){E=c;c="#"+d.encode({channel:U,origin:location.protocol+"//"+location.host,transport:e,xd_name:a});!0!==l.getSecure()&&(x=D({url:S+c,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:b,"aria-hidden":!0,title:Y,tabindex:-1}));Q=D({url:X+c,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:b,"aria-hidden":!0,title:Y,tabindex:-1})},onMessage:A});e||q.log("jssdk_error",{appId:l.getClientID(),error:"XD_TRANSPORT",
extra:{message:"Failed to create a valid transport"}});P=!0}}var L=new h,G=new h,K=new h,x,Q,W=m();g=r.useCdn?"cdn":"www";C=z("use_bundle")?r.XdBundleUrl:r.XdUrl;var S=v.resolve(g,!1)+C,X=v.resolve(g,!0)+C,U=m(),V=location.protocol+"//"+location.host,E,P=!1,Y="Facebook Cross Domain Communication Frame",J={},Z=new h;b.setInQueue(Z);b.getOutQueue().start(function(a){y("facebook","FB_RPC:"+a)});var T={rpc:b,_callbacks:{},_forever:{},_channel:U,_origin:V,onMessage:A,recv:A,init:I,sendToFacebook:y,inform:function(a,
b,c,d){y("facebook",{method:a,params:k("JSON","stringify",!1,b||{}),behavior:d||"p",relation:c})},handler:function(a,b,c,e){a="#"+d.encode({cb:this.registerCallback(a,c,e),origin:V+"/"+U,domain:location.hostname,relation:b||"opener"});return("https:"==location.protocol?X:S)+a},registerCallback:function(a,b,c){c=c||m();b&&(T._forever[c]=!0);T._callbacks[c]=a;return c}};a.subscribe("init:post",function(a){I(a.xdProxyName);var b=z("xd_timeout");b&&H(function(){(!Q||!(!!x==G.isStarted()&&!!Q==K.isStarted()))&&
q.log("jssdk_error",{appId:l.getClientID(),error:"XD_INITIALIZATION",extra:{message:"Failed to initialize in "+b+"ms"}})},b)});f.exports=T},null);g("sdk.Auth","sdk.Cookie copyProperties sdk.createIframe DOMWrapper sdk.feature sdk.getContextType guid sdk.Impressions Log ObservableMixin sdk.Runtime sdk.SignedRequest UrlMap sdk.URI sdk.XD".split(" "),function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D,z,n){function p(a,b){var c=r.getUserID(),d="";if(a)if(a.userID)d=a.userID;else if(a.signedRequest){var e=
B.parse(a.signedRequest);e&&e.user_id&&(d=e.user_id)}var h=r.getLoginStatus(),e="unknown"===h&&a||r.getUseCookie()&&r.getCookieUserID()!==d,l=c&&!a,c=a&&c&&c!=d,f=a!=y,h=b!=(h||"unknown");r.setLoginStatus(b);r.setAccessToken(a&&a.accessToken||null);r.setUserID(d);y=a;d={authResponse:a,status:b};(l||c)&&m.inform("logout",d);(e||c)&&m.inform("login",d);f&&m.inform("authresponse.change",d);h&&m.inform("status.change",d);return d}function F(a,b,d){return function(e){var h;if(e&&e.access_token)h=B.parse(e.signed_request),
b={accessToken:e.access_token,userID:h.user_id,expiresIn:parseInt(e.expires_in,10),signedRequest:e.signed_request},e.granted_scopes&&(b.grantedScopes=e.granted_scopes),r.getUseCookie()&&(h=0===b.expiresIn?0:k("Date","now",!1)+1E3*b.expiresIn,!c.getDomain()&&e.base_domain&&c.setDomain("."+e.base_domain),c.setSignedRequestCookie(e.signed_request,h)),p(b,"connected");else if("logout"===d||"login_status"===d)h=e.error&&"not_authorized"===e.error?"not_authorized":"unknown",p(null,h),r.getUseCookie()&&
c.clearSignedRequestCookie();e&&1==e.https&&r.setSecure(!0);a&&a({authResponse:b,status:r.getLoginStatus()});return b}}function A(a){var c,f=k("Date","now",!1);I&&(G(I),I=null);var v=F(a,y,"login_status");a=z(D.resolve("www",!0)+"/connect/ping").setQueryData({client_id:r.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:b(),redirect_uri:n.handler(function(a){if(h("e2e_ping_tracking",!0)){var b={init:f,close:k("Date","now",!1),method:"ping"};w.debug("e2e: %s",
k("JSON","stringify",!1,b));q.log(114,{payload:b})}c.parentNode.removeChild(c);v(a)&&(I=H(function(){A(function(){})},12E5))},"parent"),sdk:"joey",kid_directed_site:r.getKidDirectedSite()});c=e({root:d.getRoot(),name:l(),url:a.toString(),style:{display:"none"}})}var y,I,m=new v,R;a(m,{getLoginStatus:function(a,b){if(r.getClientID()){if(a){if(!b&&"loaded"==R){a({status:r.getLoginStatus(),authResponse:y});return}m.subscribe("FB.loginStatus",a)}if(b||"loading"!=R)R="loading",A(function(a){R="loaded";
m.inform("FB.loginStatus",a);m.clearSubscribers("FB.loginStatus")})}else w.warn("FB.getLoginStatus() called before calling FB.init().")},fetchLoginStatus:A,setAuthResponse:p,getAuthResponse:function(){return y},parseSignedRequest:B.parse,xdResponseWrapper:F});f.exports=m},null);g("toArray",["invariant"],function(g,C,u,s,f,t,c){f.exports=function(a){var e=a.length;c(!k("Array","isArray",!1,a)&&("object"===typeof a||"function"===typeof a));c("number"===typeof e);c(0===e||e-1 in a);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(d){}for(var h=
Array(e),b=0;b<e;b++)h[b]=a[b];return h}},null);g("createArrayFrom",["toArray"],function(g,C,u,s,f,t,c){f.exports=function(a){return!a||!("object"==typeof a||"function"==typeof a)||!("length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(k("Array","isArray",!1,a)||"callee"in a||"item"in a))?[a]:k("Array","isArray",!1,a)?a.slice():c(a)}},null);g("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(g,C,u,s,f,t,c,a,e,d){function h(a,b){var c=a.getAttribute(b)||a.getAttribute(b.replace(/_/g,
"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""));return c?String(c):null}function b(a,b){c.isTruthy(a,"element not specified");c.isString(b);try{return String(a[b])}catch(d){throw Error("Could not read property "+b+" : "+d.message);
}}function l(a,d){c.isTruthy(a,"element not specified");c.isString(d);var e=" "+b(a,"className")+" ";return 0<=k(e,"indexOf",!0," "+d+" ")}var q={};f.exports={containsCss:l,addCss:function(a,d){c.isTruthy(a,"element not specified");c.isString(d);l(a,d)||(a.className=b(a,"className")+" "+d)},removeCss:function(a,d){c.isTruthy(a,"element not specified");c.isString(d);var e=RegExp("\\s*"+d,"g");a.className=k(b(a,"className").replace(e,""),"trim",!0)},getByClass:function(b,d,e){c.isString(b);d=d||n.body;
e=e||"*";if(d.querySelectorAll)return a(d.querySelectorAll(e+"."+b));d=d.getElementsByTagName(e);e=[];for(var h=0,f=d.length;h<f;h++)l(d[h],b)&&(e[e.length]=d[h]);return e},getStyle:function(a,b){c.isTruthy(a,"element not specified");c.isString(b);b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var d=(a.currentStyle||n.defaultView.getComputedStyle(a,null))[b];/backgroundPosition?/.test(b)&&/top|left/.test(d)&&(d="0%");return d},setStyle:function(a,b,d){c.isTruthy(a,"element not specified");
c.isString(b);b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});a.style[b]=d},getAttr:h,getBoolAttr:function(a,b){var d=h(a,b);return d?/^(true|1|yes|on)$/.test(d):null},getProp:b,html:function(a,b){c.isTruthy(a,"element not specified");c.isString(b);try{a.innerHTML=b}catch(d){throw Error("Could not set innerHTML : "+d.message);}},addCssRules:function(a,b){for(var c=!0,e=0,h;h=b[e++];)h in q||(c=!1,q[h]=!0);if(!c)if(d.ie())try{n.createStyleSheet().cssText=a}catch(l){n.styleSheets[0]&&(n.styleSheets[0].cssText+=
a)}else c=n.createElement("style"),c.type="text/css",c.textContent=a,n.getElementsByTagName("head")[0].appendChild(c)},getViewportInfo:function(){var a=n.documentElement&&"CSS1Compat"==n.compatMode?n.documentElement:n.body;return{scrollTop:a.scrollTop||n.body.scrollTop,scrollLeft:a.scrollLeft||n.body.scrollLeft,width:m.innerWidth?m.innerWidth:a.clientWidth,height:m.innerHeight?m.innerHeight:a.clientHeight}},getPosition:function(a){c.isTruthy(a,"element not specified");var b=0,d=0;do b+=a.offsetLeft,
d+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:d}},ready:e}},null);g("sdk.ErrorHandling","sdk.feature ManagedError sdk.Runtime sdk.Scribe UserAgent wrapFunction".split(" "),function(g,C,u,s,f,t,c,a,e,d,h,b){function l(a){var b=a._originalError;delete a._originalError;d.log("jssdk_error",{appId:e.getClientID(),error:a.name||a.message,extra:a});throw b;}function q(a){var b={line:a.lineNumber||a.line,message:a.message,name:a.name,script:a.fileName||a.sourceURL||a.script,stack:a.stackTrace||a.stack};
b._originalError=a;h.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(a.stack)&&(b.script=RegExp.$1,b.line=parseInt(RegExp.$2,10));for(var d in b)null==b[d]&&delete b[d];return b}function w(b,d){return function(){if(!r)return b.apply(this,arguments);try{return B=d,b.apply(this,arguments)}catch(c){if(c instanceof a)throw c;var e=q(c);e.entry=d;var h=k(Array.prototype.slice.call(arguments),"map",!0,function(a){var b=Object.prototype.toString.call(a);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(b)?
a:a.toString()});e.args=k("JSON","stringify",!1,h).substring(0,200);l(e)}finally{B=""}}}function v(a,d){return function(c,e){return a(b(c,"entry",d+":"+(B||"[global]")+":"+(c.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""))),e)}}var r=c("error_handling",!1),B="";r&&(H=v(H,"setTimeout"),O=v(O,"setInterval"),b.setWrapper(w,"entry"));f.exports={guard:w,unguard:function(a){a.__wrapper||(a.__wrapper=function(){try{return a.apply(this,arguments)}catch(b){return m.setTimeout(function(){throw b;
},0),!1}});return a.__wrapper}}},null);g("sdk.Insights",["sdk.Impressions"],function(k,g,u,s,f,t,c){f.exports={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(a,e,d){c.log(113,{source:"jssdk",type:a,category:e,payload:d})},impression:c.impression}},null);g("FB","sdk.Auth copyProperties JSSDKCssConfig dotAccess sdk.domReady sdk.DOM sdk.ErrorHandling sdk.Content DOMWrapper GlobalCallback sdk.Insights Log sdk.Runtime sdk.Scribe JSSDKConfig".split(" "),
function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D,z,G){function p(a,b,d,c){var e;/^_/.test(d)?e="hide":A&&!A[b]&&(e=y);switch(e){case "hide":break;case "stub":return function(){B.warn("The method FB.%s has been removed from the JS SDK.",b)};default:return l.guard(function(){function d(a){return k("Array","isArray",!1,a)?k(a,"map",!0,d):a&&"object"===typeof a&&a.__wrapped?a.__wrapped:"function"===typeof a&&/^function/.test(a.toString())?l.unguard(a):a}"warn"===e&&(B.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",
b),I.hasOwnProperty(b)||(r.log(r.TYPE.WARNING,r.CATEGORY.DEPRECATED,"FB."+b),z.log("jssdk_error",{appId:D.getClientID(),error:"Private method used",extra:{args:b}}),I[b]=!0));var h=k(Array.prototype.slice.call(arguments),"map",!0,d),h=a.apply(c,h),f,q=!0;if(h&&"object"===typeof h){f=Function();f.prototype=h;f=new f;f.__wrapped=h;for(var g in h){var w=h[g];"function"!==typeof w||"constructor"===g||(q=!1,f[g]=p(w,b+":"+g,g,h))}}return!q?f:q?h:f},b)}}var F,A,y=d(G,"api.mode"),I={};F=m.FB={};g={};B.level=
1;v.setPrefix("FB.__globalCallbacks");var L=n.createElement("div");w.setRoot(L);h(function(){B.info("domReady");q.appendHidden(L);e.rules&&b.addCssRules(e.rules,e.components)});D.subscribe("AccessToken.change",function(a){!a&&"connected"===D.getLoginStatus()&&c.getLoginStatus(null,!0)});d(G,"api.whitelist.length")&&(A={},k(G.api.whitelist,"forEach",!0,function(a){A[a]=1}));D.setSecure(function(){var a=/iframe_canvas|app_runner/.test(m.name),b=/dialog/.test(m.name);if("https:"==location.protocol&&
(m==top||!a&&!b))return!0;if(/_fb_https?/.test(m.name))return-1!=k(m.name,"indexOf",!0,"_fb_https")}());a(g,{provide:function(a,b){var c=a?d(F,a,!0):F;k(k("Object","keys",!1,b),"forEach",!0,function(d){var e=b[d];"function"===typeof e&&(e=p(e,(a?a+".":"")+d,d,b))&&(c[d]=e)})}});f.exports=g},null);g("ArgumentError",["ManagedError"],function(k,g,u,s,f,t,c){function a(a,d){c.prototype.constructor.apply(this,arguments)}a.prototype=new c;a.prototype.constructor=a;f.exports=a},null);g("CORSRequest",["wrapFunction",
"QueryString"],function(g,C,u,s,f,t,c,a){function e(a,e){if(!J.XMLHttpRequest)return null;var b=new XMLHttpRequest,l=function(){};if("withCredentials"in b)b.open(a,e,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded");else if(J.XDomainRequest){b=new XDomainRequest;try{b.open(a,e),b.onprogress=b.ontimeout=l}catch(f){return null}}else return null;var k={send:function(a){b.send(a)}},g=c(function(){g=l;if("onload"in k)k.onload(b)},"entry","XMLHttpRequest:load"),r=c(function(){r=
l;if("onerror"in k)k.onerror(b)},"entry","XMLHttpRequest:error");b.onload=function(){g()};b.onerror=function(){r()};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?g():r())};return k}f.exports={execute:function(d,c,b,l){b.suppress_http_code=1;b=a.encode(b);"post"!=c&&(d=a.appendToUrl(d,b),b="");d=e(c,d);if(!d)return!1;d.onload=function(a){l(k("JSON","parse",!1,a.responseText))};d.onerror=function(a){a.responseText?l(k("JSON","parse",!1,a.responseText)):l({error:{type:"http",message:"unknown error",
status:a.status}})};d.send(b);return!0}}},null);g("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(g,C,u,s,f,t,c,a,e,d,h){function b(){if(!w)throw Error("swfUrl has not been set");var b=e.create(function(){l.start(function(a){var b=v.execute(a.method,a.url,a.body);if(!b)throw Error("Could create request");q[b]=a.callback})}),d=e.create(function(a,b,d){var c;try{c=k("JSON","parse",!1,decodeURIComponent(d))}catch(e){c={error:{type:"SyntaxError",message:e.message,
status:b,raw:d}}}q[a](c);delete q[a]});v=a.embed(w,c.getRoot(),null,{log:!1,initCallback:b,requestCallback:d})}var l,q={},w,v;f.exports={setSwfUrl:function(a){w=a},execute:function(c,e,f,k){f.suppress_http_code=1;f.method||(f.method=e);f=d.encode(f);"get"===e&&2E3>c.length+f.length?(c=d.appendToUrl(c,f),f=""):e="post";if(!l){if(!a.isAvailable())return!1;l=new h;b()}l.enqueue({method:e,url:c,body:f,callback:k});return!0}}},null);g("flattenObject",[],function(g,C,u,s,f,t){f.exports=function(c){var a=
{},e;for(e in c)if(c.hasOwnProperty(e)){var d=c[e];null===d||void 0===d||(a[e]="string"==typeof d?d:k("JSON","stringify",!1,d))}return a}},null);g("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(k,g,u,s,f,t,c,a,e){f.exports={execute:function(d,h,b,l){var f=n.createElement("script"),k=function(d){k=function(){};a.remove(b.callback);l(d);f.parentNode.removeChild(f)};b.callback=a.create(k);b.method||(b.method=h);d=e.appendToUrl(d,b);if(2E3<d.length)return a.remove(b.callback),!1;
f.onerror=function(){k({error:{type:"http",message:"unknown error"}})};var g=function(){H(function(){k({error:{type:"http",message:"unknown error"}})},0)};f.addEventListener?f.addEventListener("load",g,!1):f.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&g()};f.src=d;c.getRoot().appendChild(f);return!0}}},null);g("ApiClient","ArgumentError Assert copyProperties CORSRequest FlashRequest flattenObject JSONPRequest Log ObservableMixin sprintf sdk.URI UrlMap ApiClientConfig".split(" "),
function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D){function z(a,c,f,k){A&&(f=e({},A,f));f.access_token=f.access_token||p;f.pretty=f.pretty||0;f=b(f);var g={jsonp:l,cors:d,flash:h},q;f.transport?(q=[f.transport],delete f.transport):q=["jsonp","cors","flash"];for(var w=0;w<q.length;w++){var F=g[q[w]],r=e({},f);if(F.execute(a,c,r,k))return}k({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function n(a,b,d,c,e){m.inform("request.complete",b,d,c,e);a&&a(e)}var p,F,A,
y={get:!0,post:!0,"delete":!0,put:!0},I={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},m=e(new w,{setAccessToken:function(a){p=a},setClientID:function(a){F=a},setDefaultParams:function(a){A=a},rest:function(b,d){a.isObject(b);a.isString(b.method,"method missing");d||q.warn("No callback passed to the ApiClient");var c=b.method.toLowerCase().replace(".","_");b.format="json-strings";b.api_key=F;var c=B.resolve(c in I?"api_read":"api")+"/restserver.php",
e=k(n,"bind",!0,null,d,"/restserver.php","get",b);z(c,"get",b,e)},graph:function(b){a.isString(b,"Invalid path");!/^https?/.test(b)&&"/"!==b.charAt(0)&&(b="/"+b);var d,e={};try{d=new r(b)}catch(h){throw new c(h.message,h);}k(Array.prototype.slice.call(arguments,1),"forEach",!0,function(a){e[typeof a]=a});var f=(e.string||"get").toLowerCase();a.isTrue(y.hasOwnProperty(f),v("Invalid method passed to ApiClient: %s",f));var l=e["function"];l||q.warn("No callback passed to the ApiClient");e.object&&d.addQueryData(e.object);
var g=d.getQueryData(),l=k(n,"bind",!0,null,l,d.getPath(),f,g);d=d.getProtocol()&&d.getDomain()?d.setQueryData({}).toString():B.resolve("graph")+d.getPath();g.method=f;z(d,"get"==f?"get":"post",g,l)}});h.setSwfUrl(D.FlashRequest.swfUrl);f.exports=m},null);g("sdk.PlatformVersioning",["sdk.Runtime","ManagedError"],function(k,g,u,s,f,t,c,a){var e=/^v\d+\.\d\d?$/;f.exports={REGEX:e,assertVersionIsSet:function(){if(!c.getVersion())throw new a("init not called with valid version");},assertValidVersion:function(d){if(!e.test(d))throw new a("invalid version specified");
}}},null);g("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.URI"],function(g,n,u,s,f,t,c,a,e,d){var h;e.subscribe("ClientID.change",function(a){c.setClientID(a)});e.subscribe("AccessToken.change",function(a){h=a;c.setAccessToken(a)});c.setDefaultParams({sdk:"joey"});c.subscribe("request.complete",function(a,d,c,f){a=!1;if(f&&"object"==typeof f)if(f.error){if("invalid_token"==f.error||"OAuthException"==f.error.type&&190==f.error.code)a=!0}else f.error_code&&"190"==f.error_code&&
(a=!0);a&&h===e.getAccessToken()&&e.setAccessToken(null)});c.subscribe("request.complete",function(a,d,c,h){("/me/permissions"==a&&"delete"===d||"/restserver.php"==a&&"Auth.revokeAuthorization"==c.method)&&!0===h&&e.setAccessToken(null)});f.exports=function(b){if("string"===typeof b)if(e.getIsVersioned()){a.assertVersionIsSet();!/https?/.test(b)&&"/"!==b.charAt(0)&&(b="/"+b);b=d(b).setDomain(null).setProtocol(null).toString();a.REGEX.test(b.substring(1,k(b,"indexOf",!0,"/",1)))||(b="/"+e.getVersion()+
b);var h=[b].concat(Array.prototype.slice.call(arguments,1));c.graph.apply(c,h)}else c.graph.apply(c,arguments);else c.rest.apply(c,arguments)}},null);g("legacy:fb.api",["FB","sdk.api"],function(k,g,u,s,f,t,c,a){c.provide("",{api:a})},3);g("sdk.Canvas.Environment",["sdk.RPC"],function(k,g,u,s,f,t,c){c.stub("getPageInfo");c.stub("scrollTo");f.exports={getPageInfo:function(a){c.remote.getPageInfo(function(c){a(c.result)})},scrollTo:function(a,e){c.remote.scrollTo({x:a||0,y:e||0})}}},null);g("sdk.Intl",
["Log"],function(k,g,u,s,f,t,c){function a(){throw Error("Placeholder function");}a._=function(a,d){if(void 0!==d)if("object"!=typeof d)c.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+a+", ...)");else{var h,b;for(b in d)d.hasOwnProperty(b)&&(h=d[b],h="string"!=typeof h?!1:!!h.match(RegExp("[.!?\u3002\uff01\uff1f\u0964\u2026\u0eaf\u1801\u0e2f\uff0e][)\"'\u00bb\u0f3b\u0f3d\u2019\u201d\u203a\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3f\uff07\uff09\uff3d\\s]*$")),
h=h?RegExp("\\{"+b+"\\}[.!?\u3002\uff01\uff1f\u0964\u2026\u0eaf\u1801\u0e2f\uff0e]*","g"):RegExp("\\{"+b+"\\}","g"),a=a.replace(h,d[b]))}return a};f.exports={tx:a}},null);g("sdk.Dialog","sdk.Canvas.Environment sdk.Content sdk.DOM DOMEventListener sdk.Intl ObservableMixin sdk.Runtime Type UserAgent sdk.feature".split(" "),function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v){function r(){if(v("dialog_resize_refactor")){var a=e.getViewportInfo();if(a.height&&a.width)return{width:Math.min(a.width,B),height:Math.min(a.height,
D)}}return null}var B=590,D=500,z=function(){var a;if(v("dialog_resize_refactor")){var b=r();a=b&&(b.height>=B||b.width>=D)}else a=!!w.ipad();z=function(){return a};return a},G=q.extend({constructor:function(a,b){this.parent();this.id=a;this.display=b;this._e2e={};p._dialogs||(p._dialogs={},p._addOrientationHandler());p._dialogs[a]=this;this.trackEvent("init")},trackEvent:function(a,b){if(this._e2e[a])return this;this._e2e[a]=b||k("Date","now",!1);"close"==a&&this.inform("e2e:end",this._e2e);return this},
trackEvents:function(a){"string"===typeof a&&(a=k("JSON","parse",!1,a));for(var b in a)a.hasOwnProperty(b)&&this.trackEvent(b,a[b]);return this}},b),p={newInstance:function(a,b){return new G(a,b)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(a){return p._dialogs[a]},_findRoot:function(a){for(;a;){if(e.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return p.create({content:'\x3cdiv class\x3d"dialog_title"\x3e  \x3ca id\x3d"fb_dialog_loader_close"\x3e    \x3cdiv class\x3d"fb_dialog_close_icon"\x3e\x3c/div\x3e  \x3c/a\x3e  \x3cspan\x3eFacebook\x3c/span\x3e  \x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog_content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog_footer"\x3e\x3c/div\x3e',
width:a?a:460})},_createMobileLoader:function(){var a=w.nativeApp()?"":'\x3ctable\x3e  \x3ctbody\x3e    \x3ctr\x3e      \x3ctd class\x3d"header_left"\x3e        \x3clabel class\x3d"touchable_button"\x3e          \x3cinput type\x3d"submit" value\x3d"'+h.tx._("\u53d6\u6d88")+'"            id\x3d"fb_dialog_loader_close"/\x3e        \x3c/label\x3e      \x3c/td\x3e      \x3ctd class\x3d"header_center"\x3e        \x3cdiv\x3e'+h.tx._("\u52a0\u8f7d\u4e2d...")+'\x3c/div\x3e      \x3c/td\x3e      \x3ctd class\x3d"header_right"\x3e      \x3c/td\x3e    \x3c/tr\x3e  \x3c/tbody\x3e\x3c/table\x3e';
return p.create({classes:"loading"+(z()?" centered":""),content:'\x3cdiv class\x3d"dialog_header"\x3e'+a+"\x3c/div\x3e"})},_restoreBodyPosition:function(){if(!z()){var a=n.getElementsByTagName("body")[0];e.removeCss(a,"fb_hidden")}},_showTabletOverlay:function(){z()&&(p._overlayEl||(p._overlayEl=n.createElement("div"),p._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),a.append(p._overlayEl,null)),p._overlayEl.className="")},_hideTabletOverlay:function(){z()&&(p._overlayEl.className="hidden")},
showLoader:function(a,b){p._showTabletOverlay();p._loaderEl||(p._loaderEl=p._findRoot(w.mobile()?p._createMobileLoader():p._createWWWLoader(b)));a||(a=function(){});var d=n.getElementById("fb_dialog_loader_close");e.removeCss(d,"fb_hidden");d.onclick=function(){p._hideLoader();p._restoreBodyPosition();p._hideTabletOverlay();a()};var c=n.getElementById("fb_dialog_ipad_overlay");c&&(c.ontouchstart=d.onclick);p._makeActive(p._loaderEl)},_hideLoader:function(){p._loaderEl&&p._loaderEl==p._active&&(p._loaderEl.style.top=
"-10000px")},_makeActive:function(a){p._setDialogSizes();p._lowerActive();p._active=a;l.isEnvironment(l.ENVIRONMENTS.CANVAS)&&c.getPageInfo(function(a){p._centerActive(a)});p._centerActive()},_lowerActive:function(){p._active&&(p._active.style.top="-10000px",p._active=null)},_removeStacked:function(a){p._stack=k(p._stack,"filter",!0,function(b){return b!=a})},_centerActive:function(a){var b=p._active;if(b){var d=e.getViewportInfo(),c=parseInt(b.offsetWidth,10),h=parseInt(b.offsetHeight,10),c=d.scrollLeft+
(d.width-c)/2,f=(d.height-h)/2.5;c<f&&(f=c);var l=d.height-h-f,k=(d.height-h)/2;a&&(k=a.scrollTop-a.offsetTop+(a.clientHeight-h)/2);k<f?k=f:k>l&&(k=l);k+=d.scrollTop;w.mobile()&&(a=100,z()?a+=(d.height-h)/2:(d=n.getElementsByTagName("body")[0],e.addCss(d,"fb_hidden"),v("dialog_resize_refactor")&&(d.style.width="auto"),k=1E4),d=e.getByClass("fb_dialog_padding",b),d.length&&(d[0].style.height=a+"px"));b.style.left=(0<c?c:0)+"px";b.style.top=(0<k?k:0)+"px"}},_setDialogSizes:function(){if(w.mobile()&&
!z())for(var a in p._dialogs)if(p._dialogs.hasOwnProperty(a)){var b=n.getElementById(a);b&&(b.style.width=p.getDefaultSize().width+"px",b.style.height=p.getDefaultSize().height+"px")}},getDefaultSize:function(){if(w.mobile()){var a=r();if(a)return a;if(w.ipad())return{width:D,height:B};if(w.android())return{width:screen.availWidth,height:screen.availHeight};var a=m.innerWidth,b=m.innerHeight;return{width:a,height:Math.max(b,1.2<a/b?screen.width:screen.height)}}return{width:575,height:240}},_handleOrientationChange:function(a){a=
v("dialog_resize_refactor",!1)?e.getViewportInfo().width:screen.availWidth;if(w.android()&&a==p._availScreenWidth)H(p._handleOrientationChange,50);else if(p._availScreenWidth=a,z())p._centerActive();else{a=p.getDefaultSize().width;for(var b in p._dialogs)if(p._dialogs.hasOwnProperty(b)){var d=n.getElementById(b);d&&(d.style.width=a+"px")}}},_addOrientationHandler:function(){if(w.mobile()){var a="onorientationchange"in m?"orientationchange":"resize";p._availScreenWidth=v("dialog_resize_refactor",!1)?
e.getViewportInfo().width:screen.availWidth;d.add(m,a,p._handleOrientationChange)}},create:function(b){b=b||{};var d=n.createElement("div"),c=n.createElement("div"),e="fb_dialog";if(b.closeIcon&&b.onClose){var h=n.createElement("a");h.className="fb_dialog_close_icon";h.onclick=b.onClose;d.appendChild(h)}e+=" "+(b.classes||"");w.ie()?(e+=" fb_dialog_legacy",k("vert_left vert_right horiz_top horiz_bottom top_left top_right bottom_left bottom_right".split(" "),"forEach",!0,function(a){var b=n.createElement("span");
b.className="fb_dialog_"+a;d.appendChild(b)})):e+=w.mobile()?" fb_dialog_mobile":" fb_dialog_advanced";b.content&&a.append(b.content,c);d.className=e;e=parseInt(b.width,10);isNaN(e)||(d.style.width=e+"px");c.className="fb_dialog_content";d.appendChild(c);w.mobile()&&(e=n.createElement("div"),e.className="fb_dialog_padding",d.appendChild(e));a.append(d);b.visible&&p.show(d);return c},show:function(a){var b=p._findRoot(a);b&&(p._removeStacked(b),p._hideLoader(),p._makeActive(b),p._stack.push(b),"fbCallID"in
a&&p.get(a.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(a){var b=p._findRoot(a);p._hideLoader();b==p._active&&(p._lowerActive(),p._restoreBodyPosition(),p._hideTabletOverlay(),"fbCallID"in a&&p.get(a.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(a){if(a=p._findRoot(a)){var b=p._active==a;p._removeStacked(a);b?(p._hideLoader(),0<p._stack.length?p.show(p._stack.pop()):(p._lowerActive(),p._restoreBodyPosition(),p._hideTabletOverlay())):null===p._active&&0<
p._stack.length&&p.show(p._stack.pop());H(function(){a.parentNode.removeChild(a)},3E3)}},isActive:function(a){return(a=p._findRoot(a))&&a===p._active}};f.exports=p},null);g("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(g,n,u,s,f,t,c,a,e,d){var h={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){h._allowedRecipients={};a("/me/apprequestformerrecipients",function(a){a&&!a.error&&k(a.data,"forEach",!0,function(a){h._allowedRecipients[a.recipient_id]=
!0})})},init:function(){h._useFrictionless=!0;c.getLoginStatus(function(a){"connected"==a.status&&h._updateRecipients()});e.subscribe("auth.login",function(a){a.authResponse&&h._updateRecipients()})},_processRequestResponse:function(a,c){return function(e){var f=e&&e.updated_frictionless;h._useFrictionless&&f&&h._updateRecipients();e&&(!c&&e.frictionless&&(d._hideLoader(),d._restoreBodyPosition(),d._hideIPadOverlay()),delete e.frictionless,delete e.updated_frictionless);a&&a(e)}},isAllowed:function(a){if(!a)return!1;
if("number"===typeof a)return a in h._allowedRecipients;"string"===typeof a&&(a=a.split(","));a=k(a,"map",!0,function(a){return k(String(a),"trim",!0)});var d=!0,c=!1;k(a,"forEach",!0,function(a){d=d&&a in h._allowedRecipients;c=!0});return d&&c}};e.subscribe("init:post",function(a){a.frictionlessRequests&&h.init()});f.exports=h},null);g("insertIframe",["guid","GlobalCallback"],function(k,g,u,s,f,t,c,a){f.exports=function(e){e.id=e.id||c();e.name=e.name||c();var d=!1,h=!1,b=function(){d&&!h&&(h=!0,
e.onload&&e.onload(e.root.firstChild))},f=a.create(b);if(n.attachEvent){var k='\x3ciframe id\x3d"'+e.id+'" name\x3d"'+e.name+'"'+(e.title?' title\x3d"'+e.title+'"':"")+(e.className?' class\x3d"'+e.className+'"':"")+' style\x3d"border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'" src\x3d"javascript:false;" frameborder\x3d"0" scrolling\x3d"no" allowtransparency\x3d"true" onload\x3d"'+f+'()"\x3e\x3c/iframe\x3e';e.root.innerHTML='\x3ciframe src\x3d"javascript:false" frameborder\x3d"0" scrolling\x3d"no" style\x3d"height:1px"\x3e\x3c/iframe\x3e';
d=!0;H(function(){e.root.innerHTML=k;e.root.firstChild.src=e.url;e.onInsert&&e.onInsert(e.root.firstChild)},0)}else f=n.createElement("iframe"),f.id=e.id,f.name=e.name,f.onload=b,f.scrolling="no",f.style.border="none",f.style.overflow="hidden",e.title&&(f.title=e.title),e.className&&(f.className=e.className),void 0!==e.height&&(f.style.height=e.height+"px"),void 0!==e.width&&(f.style.width="100%"==e.width?e.width:e.width+"px"),e.root.appendChild(f),d=!0,f.src=e.url,e.onInsert&&e.onInsert(f)}},null);
g("sdk.Native",["copyProperties","Log","UserAgent"],function(k,g,u,s,f,t,c,a,e){f.exports={onready:function(d){if(e.nativeApp())if(m.__fbNative&&!this.nativeReady&&c(this,m.__fbNative),this.nativeReady)d();else{var f=function(a){m.removeEventListener("fbNativeReady",f);this.onready(d)};m.addEventListener("fbNativeReady",f,!1)}else a.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()")}}},null);g("resolveURI",
[],function(k,g,u,s,f,t){f.exports=function(c){if(!c)return m.location.href;c=c.replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");var a=n.createElement("div");a.innerHTML='\x3ca href\x3d"'+c+'"\x3e\x3c/a\x3e';return a.firstChild.href}},null);g("sdk.UIServer","sdk.Auth sdk.Content createObjectFrom copyProperties sdk.Dialog sdk.DOM sdk.Event flattenObject sdk.Frictionless sdk.getContextType guid insertIframe Log sdk.Native QueryString resolveURI sdk.RPC sdk.Runtime JSSDKConfig UrlMap UserAgent sdk.XD".split(" "),
function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D,z,G,p,F,A,y,I,L,R){var K={transform:function(a){return"touch"===a.params.display&&a.params.access_token&&m.postMessage?(a.params.channel=x._xdChannelHandler(a.id,"parent"),L.nativeApp()||(a.params.in_iframe=1),a):x.genericTransform(a)},getXdRelation:function(a){return"touch"===a.display&&m.postMessage&&a.in_iframe?"parent":x.getXdRelation(a)}},x={Methods:{"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(a){a.params.u||(a.params.u=
m.location.toString());a.params.display="popup";return a}},apprequests:{transform:function(a){a=K.transform(a);a.params.frictionless=w&&w._useFrictionless;a.params.frictionless&&(w.isAllowed(a.params.to)&&(a.params.display="iframe",a.params.in_iframe=!0,a.hideLoader=!0),a.cb=w._processRequestResponse(a.cb,a.hideLoader));a.closeIcon=!1;return a},getXdRelation:K.getXdRelation},feed:K,"permissions.oauth":{url:"dialog/oauth",size:{width:L.mobile()?null:475,height:L.mobile()?null:183},transform:function(a){if(A.getClientID())if(c.getAuthResponse()&&
!a.params.scope&&!a.params.auth_type)D.error("FB.login() called when user is already connected."),a.cb&&a.cb({status:A.getLoginStatus(),authResponse:c.getAuthResponse()});else{var b=a.cb,f=a.id;delete a.cb;var h=k("Object","keys",!1,d(a.params.response_type?e(a.params.response_type.split(",")):{},{token:!0,signed_request:!0})).join(",");"async"===a.params.display?(d(a.params,{client_id:A.getClientID(),origin:v(),response_type:h,domain:location.hostname}),a.cb=c.xdResponseWrapper(b,c.getAuthResponse(),
"permissions.oauth")):d(a.params,{client_id:A.getClientID(),redirect_uri:p(x.xdHandler(b,f,"opener",c.getAuthResponse(),"permissions.oauth")),origin:v(),response_type:h,domain:location.hostname});return a}else D.error("FB.login() called before FB.init().")}},"auth.logout":{url:"logout.php",transform:function(a){if(A.getClientID()){if(c.getAuthResponse())return a.params.next=x.xdHandler(a.cb,a.id,"parent",c.getAuthResponse(),"logout"),a;D.error("FB.logout() called without an access token.")}else D.error("FB.logout() called before calling FB.init().")}},
"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,e=a.id;delete a.cb;d(a.params,{client_id:A.getClientID(),redirect_uri:x.xdHandler(b,e,"parent",c.getAuthResponse(),"login_status"),origin:v(),response_type:"token,signed_request,code",domain:location.hostname});return a}}},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(a){("dialog"==a.params.display||"iframe"==a.params.display)&&d(a.params,{display:"iframe",channel:x._xdChannelHandler(a.id,
"parent.parent")},!0);return a},checkOauthDisplay:function(a){var b=a.scope||a.perms||A.getScope();if(!b)return a.display;for(var b=b.split(/\s|,/g),d=0;d<b.length;d++)if(!y.initSitevars.iframePermissions[k(b[d],"trim",!0)])return"popup";return a.display},prepareCall:function(a,b){var c=a.method.toLowerCase(),e=d({},x.Methods[c]),f=r(),l=A.getSecure()||"auth.status"!==c&&"login.status"!=c;d(a,{app_id:A.getClientID(),locale:A.getLocale(),sdk:"joey",access_token:l&&A.getAccessToken()||void 0});a.display=
x.getDisplayMode(e,a);e.url||(e.url="dialog/"+c);if(("dialog/oauth"==e.url||"dialog/permissions.request"==e.url)&&("iframe"==a.display||"touch"==a.display&&a.in_iframe))a.display=x.checkOauthDisplay(a);A.getIsVersioned()&&"dialog/"===e.url.substring(0,7)&&(e.url=a.version+"/"+e.url);c={cb:b,id:f,size:e.size||x.getDefaultSize(),url:I.resolve("touch"==a.display?"m":"www",l)+"/"+e.url,params:a,name:c,dialog:h.newInstance(f,a.display)};if(l=e.transform?e.transform:x.genericTransform)if(c=l(c),!c)return;
e=(e.getXdRelation||x.getXdRelation)(c.params);!(c.id in x._defaultCb)&&(!("next"in c.params)&&!("redirect_uri"in c.params))&&(c.params.next=x._xdResult(c.cb,c.id,e,!0));"parent"===e&&d(c.params,{channel_url:x._xdChannelHandler(f,"parent.parent")},!0);return c=x.prepareParams(c)},prepareParams:function(a){"async"!==a.params.display&&delete a.params.method;a.params=q(a.params);var b=G.encode(a.params);!L.nativeApp()&&x.urlTooLongForIE(a.url+"?"+b)?a.post=!0:b&&(a.url+="?"+b);return a},urlTooLongForIE:function(a){return 2E3<
a.length},getDisplayMode:function(a,b){if("hidden"===b.display||"none"===b.display)return b.display;var d=A.isEnvironment(A.ENVIRONMENTS.CANVAS)||A.isEnvironment(A.ENVIRONMENTS.PAGETAB);return d&&!b.display?"async":L.mobile()||"touch"===b.display?"touch":!A.getAccessToken()&&("iframe"==b.display||"dialog"==b.display)&&!a.loggedOutIframe?(D.error('"dialog" mode can only be used when the user is connected.'),"popup"):a.connectDisplay&&!d?a.connectDisplay:b.display||(A.getAccessToken()?"dialog":"popup")},
getXdRelation:function(a){a=a.display;if("popup"===a||"touch"===a)return"opener";if("dialog"===a||"iframe"===a||"hidden"===a||"none"===a)return"parent";if("async"===a)return"parent.frames["+m.name+"]"},popup:function(b){var d="undefined"!=typeof m.screenX?m.screenX:m.screenLeft,c="undefined"!=typeof m.screenY?m.screenY:m.screenTop,e="undefined"!=typeof m.outerWidth?m.outerWidth:n.documentElement.clientWidth,f="undefined"!=typeof m.outerHeight?m.outerHeight:n.documentElement.clientHeight-22,h=L.mobile()?
null:b.size.width,l=L.mobile()?null:b.size.height,d=parseInt((0>d?m.screen.width+d:d)+(e-h)/2,10),c=parseInt(c+(f-l)/2.5,10),f=[];null!==h&&f.push("width\x3d"+h);null!==l&&f.push("height\x3d"+l);f.push("left\x3d"+d);f.push("top\x3d"+c);f.push("scrollbars\x3d1");("permissions.request"==b.name||"permissions.oauth"==b.name)&&f.push("location\x3d1,toolbar\x3d0");f=f.join(",");if(b.post){if(h=m.open("about:blank",b.id,f))x.setLoadedNode(b,h,"popup"),a.submitToTarget({url:b.url,target:b.id,params:b.params})}else(h=
m.open(b.url,b.id,f))&&x.setLoadedNode(b,h,"popup");h&&b.id in x._defaultCb&&x._popupMonitor()},setLoadedNode:function(a,b,d){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id);b={node:b,type:d,fbCallID:a.id};x._loadedNodes[a.id]=b},getLoadedNode:function(a){return(a=x._loadedNodes["object"==typeof a?a.id:a])?a.node:null},hidden:function(b){b.className="FB_UI_Hidden";b.root=a.appendHidden("");x._insertIframe(b)},iframe:function(a){a.className="FB_UI_Dialog";var d=function(){x._triggerDefault(a.id)};
a.root=h.create({onClose:d,closeIcon:void 0===a.closeIcon?!0:a.closeIcon,classes:L.ipad()?"centered":""});a.hideLoader||h.showLoader(d,a.size.width);b.addCss(a.root,"fb_dialog_iframe");x._insertIframe(a)},touch:function(a){a.params&&a.params.in_iframe?a.ui_created?h.showLoader(function(){x._triggerDefault(a.id)},0):x.iframe(a):L.nativeApp()&&!a.ui_created?(a.frame=a.id,z.onready(function(){x.setLoadedNode(a,z.open(a.url+"#cb\x3d"+a.frameName),"native")}),x._popupMonitor()):a.ui_created||x.popup(a)},
async:function(a){a.params.redirect_uri=location.protocol+"//"+location.host+location.pathname;delete a.params.access_token;F.remote.showDialog(a.params,function(b){if((b=b.result)&&b.e2e){var d=h.get(a.id);d.trackEvents(b.e2e);d.trackEvent("close");delete b.e2e}a.cb(b)})},getDefaultSize:function(){return h.getDefaultSize()},_insertIframe:function(b){x._loadedNodes[b.id]=!1;var d=function(a){b.id in x._loadedNodes&&x.setLoadedNode(b,a,"iframe")};b.post?B({url:"about:blank",root:b.root,className:b.className,
width:b.size.width,height:b.size.height,id:b.id,onInsert:d,onload:function(d){a.submitToTarget({url:b.url,target:d.name,params:b.params})}}):B({url:b.url,root:b.root,className:b.className,width:b.size.width,height:b.size.height,id:b.id,name:b.frameName,onInsert:d})},_handleResizeMessage:function(a,b){var d=x.getLoadedNode(a);d&&(b.height&&(d.style.height=b.height+"px"),b.width&&(d.style.width=b.width+"px"),R.inform("resize.ack",b||{},"parent.frames["+d.name+"]"),h.isActive(d)||h.show(d))},_triggerDefault:function(a){x._xdRecv({frame:a},
x._defaultCb[a]||function(){})},_popupMonitor:function(){var a,b;for(b in x._loadedNodes)if(x._loadedNodes.hasOwnProperty(b)&&b in x._defaultCb){var d=x._loadedNodes[b];if(!("popup"!=d.type&&"native"!=d.type)){d=d.node;try{d.closed?x._triggerDefault(b):a=!0}catch(c){}}}a&&!x._popupInterval?x._popupInterval=O(x._popupMonitor,100):!a&&x._popupInterval&&(E(x._popupInterval),x._popupInterval=null)},_xdChannelHandler:function(a,b){return R.handler(function(b){var d=x.getLoadedNode(a);d&&("resize"==b.type?
x._handleResizeMessage(a,b):"hide"==b.type?h.hide(d):"rendered"==b.type?(b=h._findRoot(d),h.show(b)):"fireevent"==b.type&&l.fire(b.event))},b,!0,null)},_xdNextHandler:function(a,b,d,c){c&&(x._defaultCb[b]=a);return R.handler(function(b){x._xdRecv(b,a)},d)+"\x26frame\x3d"+b},_xdRecv:function(a,d){var c=x.getLoadedNode(a.frame);if(c)if(c.close)try{c.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&"5"!==RegExp.$1&&m.focus(),x._popupCount--}catch(e){}else b.containsCss(c,"FB_UI_Hidden")?H(function(){c.parentNode.parentNode.removeChild(c.parentNode)},
3E3):b.containsCss(c,"FB_UI_Dialog")&&h.remove(c);delete x._loadedNodes[a.frame];delete x._defaultCb[a.frame];if(a.e2e){var f=h.get(a.frame);f.trackEvents(a.e2e);f.trackEvent("close");delete a.e2e}d(a)},_xdResult:function(a,b,d,c){return x._xdNextHandler(function(b){a&&a(b.result&&b.result!=x._resultToken&&k("JSON","parse",!1,b.result))},b,d,c)+"\x26result\x3d"+encodeURIComponent(x._resultToken)},xdHandler:function(a,b,d,e,f){return x._xdNextHandler(c.xdResponseWrapper(a,e,f),b,d,!0)}};F.stub("showDialog");
f.exports=x},null);g("sdk.ui","Assert sdk.Impressions Log sdk.PlatformVersioning sdk.Runtime sdk.UIServer copyProperties sdk.feature".split(" "),function(g,n,u,s,f,t,c,a,e,d,h,b,l,q){f.exports=function(f,g){c.isObject(f);c.maybeFunction(g);h.getIsVersioned()&&(d.assertVersionIsSet(),f.version?d.assertValidVersion(f.version):f.version=h.getVersion());f=l({},f);if(!f.method)return e.error('"method" is a required parameter for FB.ui().'),null;var r=f.method;f.redirect_uri&&(e.warn("When using FB.ui, you should not specify a redirect_uri."),
delete f.redirect_uri);if(("permissions.request"==r||"permissions.oauth"==r)&&("iframe"==f.display||"dialog"==f.display))f.display=b.checkOauthDisplay(f);var s=q("e2e_tracking",!0);s&&(f.e2e={});var u=b.prepareCall(f,g||function(){});if(!u)return null;var t=u.params.display;"dialog"===t?t="iframe":"none"===t&&(t="hidden");var n=b[t];if(!n)return e.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null;s&&u.dialog.subscribe("e2e:end",function(b){b.method=
r;b.display=t;e.debug("e2e: %s",k("JSON","stringify",!1,b));a.log(114,{payload:b})});n(u);return u.dialog}},null);g("legacy:fb.auth","sdk.Auth sdk.Cookie copyProperties sdk.Event FB Log sdk.Runtime sdk.SignedRequest sdk.ui".split(" "),function(g,n,u,s,f,t,c,a,e,d,h,b,l,q,w){h.provide("",{getLoginStatus:function(){return c.getLoginStatus.apply(c,arguments)},getAuthResponse:function(){return c.getAuthResponse()},getAccessToken:function(){return l.getAccessToken()||null},getUserID:function(){return l.getUserID()||
l.getCookieUserID()},login:function(a,d){d&&(d.perms&&!d.scope)&&(d.scope=d.perms,delete d.perms,b.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var c=l.isEnvironment(l.ENVIRONMENTS.CANVAS)||l.isEnvironment(l.ENVIRONMENTS.PAGETAB);w(e({method:"permissions.oauth",display:c?"async":"popup",domain:location.hostname},d||{}),a)},logout:function(a){w({method:"auth.logout",display:"hidden"},a)}});c.subscribe("logout",k(d.fire,"bind",!0,d,"auth.logout"));
c.subscribe("login",k(d.fire,"bind",!0,d,"auth.login"));c.subscribe("authresponse.change",k(d.fire,"bind",!0,d,"auth.authResponseChange"));c.subscribe("status.change",k(d.fire,"bind",!0,d,"auth.statusChange"));d.subscribe("init:post",function(b){b.status&&c.getLoginStatus();if(l.getClientID())if(b.authResponse)c.setAuthResponse(b.authResponse,"connected");else if(l.getUseCookie()){b=a.loadSignedRequest();var d;if(b){try{d=q.parse(b)}catch(e){a.clearSignedRequestCookie()}d&&d.user_id&&l.setCookieUserID(d.user_id)}a.loadMeta()}})},
3);g("sdk.Canvas.Plugin","sdk.api sdk.RPC Log UserAgent sdk.Runtime createArrayFrom".split(" "),function(g,n,u,s,f,t,c,a,e,d,h,b){function l(a){a._hideunity_savedstyle={};a._hideunity_savedstyle.left=a.style.left;a._hideunity_savedstyle.position=a.style.position;a._hideunity_savedstyle.width=a.style.width;a._hideunity_savedstyle.height=a.style.height;a.style.left="-10000px";a.style.position="absolute";a.style.width="1px";a.style.height="1px"}function q(a){a._hideunity_savedstyle&&(a.style.left=a._hideunity_savedstyle.left,
a.style.position=a._hideunity_savedstyle.position,a.style.width=a._hideunity_savedstyle.width,a.style.height=a._hideunity_savedstyle.height)}function w(a){a._old_visibility=a.style.visibility;a.style.visibility="hidden"}function v(a){a.style.visibility=a._old_visibility||"";delete a._old_visibility}function r(a){if(!("application/x-shockwave-flash"===(a.type?a.type.toLowerCase():null)||a.classid&&a.classid.toUpperCase()==D))return!1;var b=/opaque|transparent/i;if(b.test(a.getAttribute("wmode")))return!1;
for(var d=0;d<a.childNodes.length;d++){var c=a.childNodes[d];if(/param/i.test(c.nodeName)&&/wmode/i.test(c.name)&&b.test(c.value))return!1}return!0}function B(a){var d=b(m.document.getElementsByTagName("object")),d=d.concat(b(m.document.getElementsByTagName("embed"))),f=!1,g=!1;k(d,"forEach",!0,function(b){var d=r(b),c=p&&("application/vnd.unity"===(b.type?b.type.toLowerCase():null)||b.classid&&b.classid.toUpperCase()==z);if(d||c)f=f||d,g=g||c,c=function(){"opened"===a.state?d?w(b):l(b):d?v(b):q(b)},
G?(e.info("Calling developer specified callback"),G({state:a.state,elem:b}),H(c,200)):c()});0.001>=Math.random()&&(d={unity:g,flash:f},c(h.getClientID()+"/occludespopups","post",d))}var D="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",z="CLSID:444785F1-DE89-4295-863A-D46C3A781394",G=null,p=!(10.9<=d.osx()&&(31<=d.chrome()||537.71<=d.webkit()||25<=d.firefox()));a.local.hidePluginObjects=function(){e.info("hidePluginObjects called");B({state:"opened"})};a.local.showPluginObjects=function(){e.info("showPluginObjects called");
B({state:"closed"})};a.local.showFlashObjects=a.local.showPluginObjects;a.local.hideFlashObjects=a.local.hidePluginObjects;f.exports={_setHidePluginCallback:function(a){G=a},hidePluginElement:function(){w();l()},showPluginElement:function(){v();q()}}},null);g("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(k,g,u,s,f,t,c,a){function e(b){"object"!=typeof b&&(b={});var d=0,e=0;if(!b.height){var d=b,f=c.getWindow().document,e=f.body,f=f.documentElement,k=Math.max(e.offsetTop,0),g=Math.max(f.offsetTop,
0),e=Math.max(e.scrollHeight+k,e.offsetHeight+k,f.scrollHeight+g,f.offsetHeight+g);d.height=e;d=16;e=4}b.frame||(b.frame=m.name||"iframe_canvas");if(h&&(f=b.height-h.height,f<=e&&f>=-d))return!1;h=b;a.remote.setSize(b);return!0}var d=null,h;a.stub("setSize");f.exports={setSize:e,setAutoGrow:function(a,c){void 0===c&&"number"===typeof a&&(c=a,a=!0);a||void 0===a?(null===d&&(d=O(function(){e()},c||100)),e()):null!==d&&(E(d),d=null)}}},null);g("sdk.Canvas.Navigation",["sdk.RPC"],function(k,g,u,s,f,t,
c){c.stub("setNavigationEnabled");f.exports={setUrlHandler:function(a){c.local.navigate=function(c){a({path:c})};c.remote.setNavigationEnabled(!0)}}},null);g("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(g,n,u,s,f,t,c,a){function e(d,e){var b=[{appId:a.getClientID(),time:k("Date","now",!1),name:e}];d&&b.push(function(a){d(a.result)});c.remote.logTtiMessage.apply(null,b)}c.stub("logTtiMessage");f.exports={setDoneLoading:function(a){e(a,"RecordIframeAppTti")},startTimer:function(){e(null,"StartIframeAppTtiTimer")},
stopTimer:function(a){e(a,"StopIframeAppTtiTimer")}}},null);g("legacy:fb.canvas","Assert sdk.Canvas.Environment sdk.Event FB sdk.Canvas.Plugin sdk.Canvas.IframeHandling Log sdk.Canvas.Navigation sdk.Runtime sdk.Canvas.Tti".split(" "),function(k,g,u,s,f,t,c,a,e,d,h,b,l,q,w,v){d.provide("Canvas",{setSize:function(a){c.maybeObject(a,"Invalid argument");return b.setSize.apply(null,arguments)},setAutoGrow:function(){return b.setAutoGrow.apply(null,arguments)},getPageInfo:function(b){c.isFunction(b,"Invalid argument");
return a.getPageInfo.apply(null,arguments)},scrollTo:function(b,d){c.maybeNumber(b,"Invalid argument");c.maybeNumber(d,"Invalid argument");return a.scrollTo.apply(null,arguments)},setDoneLoading:function(a){c.maybeFunction(a,"Invalid argument");return v.setDoneLoading.apply(null,arguments)},startTimer:function(){return v.startTimer.apply(null,arguments)},stopTimer:function(a){c.maybeFunction(a,"Invalid argument");return v.stopTimer.apply(null,arguments)},getHash:function(a){c.isFunction(a,"Invalid argument");
return q.getHash.apply(null,arguments)},setHash:function(a){c.isString(a,"Invalid argument");return q.setHash.apply(null,arguments)},setUrlHandler:function(a){c.isFunction(a,"Invalid argument");return q.setUrlHandler.apply(null,arguments)}});e.subscribe("init:post",function(a){w.isEnvironment(w.ENVIRONMENTS.CANVAS)&&(c.isTrue(!a.hideFlashCallback||!a.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),h._setHidePluginCallback(a.hidePluginCallback||a.hideFlashCallback))})},
3);g("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","JSSDKCanvasPrefetcherConfig","sdk.Runtime"],function(g,m,u,s,f,t,c,a,e,d){function h(){var e={object:"data",link:"href",script:"src"};w==b.AUTOMATIC&&k(k("Object","keys",!1,e),"forEach",!0,function(b){var d=e[b];k(a(n.getElementsByTagName(b)),"forEach",!0,function(a){a[d]&&v.push(a[d])})});0!==v.length&&(c(d.getClientID()+"/staticresources","post",{urls:k("JSON","stringify",!1,v),is_https:"https:"===location.protocol}),v=[])}var b={AUTOMATIC:0,
MANUAL:1},l=e.sampleRate,q=e.blacklist,w=b.AUTOMATIC,v=[];f.exports={COLLECT_AUTOMATIC:b.AUTOMATIC,COLLECT_MANUAL:b.MANUAL,addStaticResource:function(a){v.push(a)},setCollectionMode:function(a){w=a},_maybeSample:function(){d.isEnvironment(d.ENVIRONMENTS.CANVAS)&&(d.getClientID()&&l)&&(Math.random()>1/l||("*"==q||~k(q,"indexOf",!0,d.getClientID()))||H(h,3E4))}}},null);g("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(k,g,u,s,f,t,c,a,e,d){c.provide("Canvas.Prefetcher",
a);e.subscribe("init:post",function(c){d.isEnvironment(d.ENVIRONMENTS.CANVAS)&&a._maybeSample()})},3);g("legacy:fb.event",["FB","sdk.Event"],function(g,n,u,s,f,t,c,a){c.provide("Event",{subscribe:k(a.subscribe,"bind",!0,a),unsubscribe:k(a.unsubscribe,"bind",!0,a)})},3);g("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(k,g,u,s,f,t,c,a){c.provide("Frictionless",a)},3);g("sdk.init","sdk.Cookie sdk.ErrorHandling sdk.Event Log ManagedError sdk.PlatformVersioning QueryString sdk.Runtime sdk.URI copyProperties createArrayFrom".split(" "),
function(g,G,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r){function B(a){q.getInitialized()&&d.warn("FB.init has already been called - this could indicate a problem");if(q.getIsVersioned()){if("[object Object]"!==Object.prototype.toString.call(a))throw new h("Invalid argument");if(a.authResponse)throw new h("Setting authResponse is not supported");a.version||(a.version=w(location.href).getQueryData().sdk_version);b.assertValidVersion(a.version);q.setVersion(a.version)}else/number|string/.test(typeof a)&&(d.warn("FB.init called with invalid parameters"),
a={apiKey:a}),a=v({status:!0},a||{});var f;f=a.appId||a.apiKey;"number"==typeof f&&0<f||"string"==typeof f&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(f)?f=f.toString():(d.warn("Invalid App Id: Must be a number or numeric string representing the application id."),f=null);null!==f&&q.setClientID(f);"scope"in a&&q.setScope(a.scope);a.cookie&&(q.setUseCookie(!0),"string"===typeof a.cookie&&c.setDomain(a.cookie));a.kidDirectedSite&&q.setKidDirectedSite(!0);q.setInitialized(!0);e.fire("init:post",a)}H(function(){var b=
/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;k(r(n.getElementsByTagName("script")),"forEach",!0,function(a){if(a.src&&(a=b.exec(a.src))){a=l.decode(a[2]);for(var d in a)a.hasOwnProperty(d)&&"0"==a[d]&&(a[d]=0);B(a)}});m.fbAsyncInit&&!m.fbAsyncInit.hasRun&&(m.fbAsyncInit.hasRun=!0,a.unguard(m.fbAsyncInit)())},0);f.exports=B},null);g("legacy:fb.init",["FB","sdk.init"],function(g,k,u,s,f,t,c,a){c.provide("",{init:a})},3);g("legacy:fb.pay",["copyProperties","sdk.Runtime","sdk.UIServer",
"sdk.XD","FB"],function(g,n,u,s,f,t,c,a,e,d){n("FB");var h={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},b=function(a){return function(b){a(b&&b.response?k("JSON","parse",!1,b.response):h)}};c(e.Methods,{"pay.prompt":{transform:function(a){var c=d.handler(b(a.cb),"parent.frames["+(m.name||"iframe_canvas")+"]");a.params.channel=c;d.inform("Pay.Prompt",a.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(c){c.cb=b(c.cb);if(!a.isEnvironment(a.ENVIRONMENTS.CANVAS))return c.params.order_info=
k("JSON","stringify",!1,c.params.order_info),c;var e=d.handler(c.cb,"parent.frames["+(m.name||"iframe_canvas")+"]");c.params.channel=e;c.params.uiserver=!0;d.inform("Pay.Prompt",c.params)}}})},3);g("legacy:fb.ui",["FB","sdk.ui"],function(g,k,n,s,f,t,c,a){c.provide("",{ui:a})},3);g("Miny",[],function(g,n,u,s,f,t){function c(d){for(var c=a.encode.length;c<d;c++){var b=c.toString(32).split("");b[b.length-1]=e[parseInt(b[b.length-1],32)];b=b.join("");a.encode[c]=b;a.decode[b]=c}return a}var a={encode:[],
decode:{}},e="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("");f.exports={encode:function(a){if(/^$|[~\\]|__proto__/.test(a))return a;a=a.match(/\w+|\W+/g);for(var e={},b=0;b<a.length;b++)e[a[b]]=(e[a[b]]||0)+1;var f=k("Object","keys",!1,e);f.sort(function(a,b){return e[a]<e[b]?1:e[b]<e[a]?-1:0});for(var g=c(f.length).encode,b=0;b<f.length;b++)e[f[b]]=g[b];g=[];for(b=0;b<a.length;b++)g[b]=e[a[b]];return["Miny1",f.length].concat(f).concat(g.join("")).join("~")},decode:function(a){var e=a.split("~");if("Miny1"!=
e.shift())return a;var b=parseInt(e.shift(),10);a=e.pop();a=a.match(/[0-9a-v]*[\-w-zA-Z_]/g);for(var b=c(b).decode,f=[],g=0;g<a.length;g++)f[g]=e[b[a[g]]];return f.join("")}}},null);g("runOnce",[],function(g,k,n,s,f,t){f.exports=function(c){var a,e;return function(){a||(a=!0,e=c());return e}}},null);g("XFBML","Assert copyProperties createArrayFrom sdk.DOM sdk.feature sdk.Impressions Log ObservableMixin runOnce UserAgent".split(" "),function(g,m,u,s,f,t,c,a,e,d,h,b,l,q,w,v){function r(a){var b=k(k(a.className+
"","trim",!0).split(/\s+/),"filter",!0,function(a){return p.hasOwnProperty(a)});if(0!==b.length&&(a.getAttribute("fb-xfbml-state")||!a.childNodes||0===a.childNodes.length||1===a.childNodes.length&&3===a.childNodes[0].nodeType||1===a.children.length&&"fb-xfbml-parse-ignore"===a.children[0].className+""))return p[b[0]]}function B(a){var b={};k(e(a.attributes),"forEach",!0,function(a){b[a.name+""]=a.value+""});return b}function G(a,b,c){var f=n.createElement("div");d.addCss(a,b+"-"+c);k(e(a.childNodes),
"forEach",!0,function(a){f.appendChild(a)});k(e(a.attributes),"forEach",!0,function(a){f.setAttribute(a.name,a.value)});a.parentNode.replaceChild(f,a);return f}function z(a,b,d){c.isTrue(a&&a.nodeType&&1===a.nodeType&&!!a.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()");c.isFunction(b,"Invalid callback passed to FB.XFBML.parse()");var f=++F;l.info("XFBML Parsing Start %s",f);var h=1,g=0,q=function(){h--;0===h&&(l.info("XFBML Parsing Finish %s, %s tags found",f,g),b(),A.inform("render",
f,g));c.isTrue(0<=h,"onrender() has been called too many times")};k(e(a.getElementsByTagName("*")),"forEach",!0,function(a){if((d||!a.getAttribute("fb-xfbml-state"))&&1===a.nodeType){var b=N[(a.nodeName+"").toLowerCase()]||N[(a.scopeName?a.scopeName+":"+a.nodeName:"").toLowerCase()]||r(a);if(b){9>v.ie()&&a.scopeName&&(a=G(a,b.xmlns,b.localName));h++;g++;var c=new b.ctor(a,b.xmlns,b.localName,B(a));c.subscribe("render",w(function(){a.setAttribute("fb-xfbml-state","rendered");q()}));var e=function(){"parsed"==
a.getAttribute("fb-xfbml-state")?A.subscribe("render.queue",e):(a.setAttribute("fb-xfbml-state","parsed"),c.process())};e()}}});A.inform("parse",f,g);H(function(){0<h&&l.warn("%s tags failed to render in %s ms",h,3E4)},3E4);q()}var N={},p={},F=0,A=new q;A.subscribe("render",function(){var a=A.getSubscribers("render.queue");A.clearSubscribers("render.queue");k(a,"forEach",!0,function(a){a()})});a(A,{registerTag:function(a){var b=a.xmlns+":"+a.localName;c.isUndefined(N[b],b+" already registered");N[b]=
a;p[a.xmlns+"-"+a.localName]=a},parse:function(a,b){z(a||n.body,b||function(){},!0)},parseNew:function(){z(n.body,function(){},!1)}});if(h("log_tag_count")){var y=function(a,d){A.unsubscribe("parse",y);H(k(b.log,"bind",!0,null,102,{tag_count:d}),5E3)};A.subscribe("parse",y)}f.exports=A},null);g("PluginPipe","sdk.Content copyProperties sdk.feature guid insertIframe Miny ObservableMixin JSSDKPluginPipeConfig sdk.Runtime UrlMap UserAgent XFBML".split(" "),function(g,m,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B){function G(a){var e=
n.createElement("span");c.appendHidden(e);var f={};k(a,"forEach",!0,function(a){f[a.config.name]={plugin:a.tag,params:a.params}});var g=k("JSON","stringify",!1,f),l=b.encode(g);k(a,"forEach",!0,function(a){n.getElementsByName(a.config.name)[0].onload=a.config.onload});var q=v.resolve("www",w.getSecure())+"/plugins/pipe.php",r=d();h({url:"about:blank",root:e,name:r,className:"fb_hidden fb_invisible",onload:function(){c.submitToTarget({url:q,target:r,params:{plugins:l.length<g.length?l:g}})}})}g=new l;
var z=q.threshold,N=[];B.subscribe("parse",function(){function a(){d--;0===d&&G(b)}var b=N;N=[];if(b.length<=z)k(b,"forEach",!0,function(a){h(a.config)});else{var d=b.length+1;k(b,"forEach",!0,function(b){var d={},c;for(c in b.config)d[c]=b.config[c];d.url=v.resolve("www",w.getSecure())+"/plugins/plugin_pipe_shell.php";d.onload=a;h(d)});a()}});a(g,{add:function(a){var b=!(!e("plugin_pipe")||!(void 0!==w.getSecure()&&(r.chrome()||r.firefox())&&q.enabledApps[w.getClientID()]));b&&N.push({config:a._config,
tag:a._tag,params:a._params});return b}});f.exports=g},null);g("IframePlugin","sdk.Auth sdk.DOM sdk.Event Log ObservableMixin sdk.PlatformVersioning PluginPipe QueryString sdk.Runtime Type sdk.URI UrlMap UserAgent sdk.XD copyProperties sdk.createIframe guid resolveURI".split(" "),function(g,C,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D,z,N,p,F,A){function y(a,b,d){if(b||0===b)a.style.width=b+"px";if(d||0===d)a.style.height=d+"px"}function I(a){return function(b){e.fire("xfbml.resize",{width:b.width,height:b.height,
pluginID:a})}}function E(a,b){return a[b]||a[b.replace(/_/g,"-")]||a[b.replace(/_/g,"")]||a["data-"+b]||a["data-"+b.replace(/_/g,"-")]||a["data-"+b.replace(/_/g,"")]||void 0}function P(a,b,d,c){k(k("Object","keys",!1,a),"forEach",!0,function(e){"text"==a[e]&&!d[e]&&(d[e]=b.textContent||b.innerText||"",b.setAttribute(e,d[e]));c[e]=J[a[e]](E(d,e))})}function K(a){return a||"0"===a||0===a?parseInt(a,10):void 0}var x={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},
J={string:function(a){return a},bool:function(a){return a?/^(?:true|1|yes|on)$/i.test(a):void 0},url:function(a){return A(a)},url_maybe:function(a){return a?A(a):a},hostname:function(a){return a||m.location.hostname},px:function(a){return/^(\d+)(?:px)?$/.test(a)?parseInt(RegExp.$1,10):void 0},text:function(a){return a}},O=v.extend({constructor:function(b,d,f,h){this.parent();f=f.replace(/-/g,"_");var g=E(h,"plugin_id");this.subscribe("xd.resize",I(g));this.subscribe("xd.resize.flow",I(g));this.subscribe("xd.resize.flow",
k(function(a){this._config.root.style.verticalAlign="bottom";y(this._config.root,K(a.width),K(a.height));this.updateLift();G(this._timeoutID)},"bind",!0,this));this.subscribe("xd.resize",k(function(a){this._config.root.style.verticalAlign="bottom";y(this._config.root,K(a.width),K(a.height));y(this._iframe,K(a.width),K(a.height));this.updateLift();G(this._timeoutID)},"bind",!0,this));this.subscribe("xd.resize.iframe",k(function(a){y(this._iframe,K(a.width),K(a.height));this.updateLift();G(this._timeoutID)},
"bind",!0,this));this.subscribe("xd.sdk_event",function(a){var d=k("JSON","parse",!1,a.data);d.pluginID=g;e.fire(a.event,d,b)});var l=w.getSecure()||"https:"==m.location.protocol,l=B.resolve("www",l)+"/plugins/"+f+".php?",p={};P(this.getParams(),b,h,p);P(x,b,h,p);p.app_id=w.getClientID();p.locale=w.getLocale();p.sdk="joey";p.kid_directed_site=w.getKidDirectedSite();h=k(function(a){this.inform("xd."+a.type,a)},"bind",!0,this);p.channel=z.handler(h,"parent.parent",!0);a.addCss(b,"fb_iframe_widget");
var r=F();this.subscribe("xd.verify",function(a){z.sendToFacebook(r,{method:"xd/verify",params:k("JSON","stringify",!1,a.token)})});this.subscribe("xd.refreshLoginStatus",k(c.getLoginStatus,"bind",!0,c,k(this.inform,"bind",!0,this,"login.status"),!0));h=n.createElement("span");h.style.verticalAlign="top";h.style.width="0px";h.style.height="0px";this._element=b;this._ns=d;this._tag=f;this._params=p;this._config={root:h,url:l+q.encode(p),name:r,width:D.mobile()?void 0:p.width||1E3,height:p.height||
1E3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:k(function(){this.inform("render")},"bind",!0,this)}},process:function(){if(w.getIsVersioned()){b.assertVersionIsSet();var c=r(this._config.url);this._config.url=c.setPath("/"+w.getVersion()+c.getPath()).toString()}c=N({},this._params);delete c.channel;c=q.encode(c);if(this._element.getAttribute("fb-iframe-plugin-query")==c)d.info("Skipping render: %s:%s %s",this._ns,this._tag,c),this.inform("render");
else{this._element.setAttribute("fb-iframe-plugin-query",c);for(this.subscribe("render",function(){this._iframe.style.visibility="visible"});this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var e=D.mobile()?120:45;this._timeoutID=H(k(function(){this._iframe&&y(this._iframe,0,0);d.warn("%s:%s failed to resize in %ss",this._ns,this._tag,e)},"bind",!0,this),1E3*e);l.add(this)||(this._iframe=p(this._config));D.mobile()&&(a.addCss(this._element,
"fb_iframe_widget_fluid"),this._element.style.display="block",this._element.style.width="100%",this._element.style.height="auto",this._config.root.style.width="100%",this._config.root.style.height="auto",this._iframe.style.width="100%",this._iframe.style.height="auto",this._iframe.style.position="static")}},updateLift:function(){a[this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},
h);O.getVal=E;O.withParams=function(a){return O.extend({getParams:function(){return a}})};f.exports=O},null);g("PluginTags",[],function(g,n,u,s,f,t){var c={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",
layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},
post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},
want:{href:"url",layout:"string",show_faces:"bool"}},a={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};k(k("Object","keys",!1,a),"forEach",!0,function(e){c[e]=c[a[e]]});f.exports=c},null);g("sdk.Arbiter",[],function(g,k,n,s,f,t){f.exports={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"}},null);g("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(g,m,u,s,f,t,c,a,e){g=a.extend({constructor:function(a){this.parent();this.dom=a},fire:function(){this.inform.apply(this,
arguments)},getAttribute:function(a,e,b){return(a=c.getAttr(this.dom,a))?b?b(a):a:e},_getBoolAttribute:function(a,e){var b=c.getBoolAttr(this.dom,a);return null===b?e:b},_getPxAttribute:function(a,c){return this.getAttribute(a,c,function(a){a=parseInt(a,10);return isNaN(a)?c:a})},_getLengthAttribute:function(a,c){return this.getAttribute(a,c,function(a){if("100%"===a)return a;a=parseInt(a,10);return isNaN(a)?c:a})},_getAttributeFromList:function(a,c,b){return this.getAttribute(a,c,function(a){a=a.toLowerCase();
return-1<k(b,"indexOf",!0,a)?a:c})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==n.body)return!0},clear:function(){c.html(this.dom,"")}},e);f.exports=g},null);g("sdk.XFBML.IframeWidget","sdk.Arbiter sdk.Auth sdk.Content copyProperties sdk.DOM sdk.Event sdk.XFBML.Element guid insertIframe QueryString sdk.Runtime sdk.ui UrlMap sdk.XD".split(" "),function(g,m,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,G,z){g=l.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,
_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw Error("Inheriting class needs to implement getUrlBits().");},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=z.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},
getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,d){z.sendToFacebook(this.getIframeName(),{method:a,params:k("JSON","stringify",!1,b||{}),behavior:d||c.BEHAVIOR_PERSISTENT})},_arbiterInform:function(a,b,d){var c='parent.frames["'+this.getIframeNode().name+'"]';z.inform(a,b,c,d)},getDefaultWebDomain:function(){return G.resolve("www")},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear()}else this._oneTimeSetup();this._done=
!0;this._iframeName=this.getIframeName()||this._iframeName||q();if(this.setupAndValidate()){this._showLoader&&this._addLoader();h.addCss(this.dom,"fb_iframe_widget");"immediate"!=this._visibleAfter?h.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",k(this.fire,"bind",!0,this,"render"));a=this.getSize()||{};var b=this.getFullyQualifiedURL();"100%"==a.width&&h.addCss(this.dom,"fb_iframe_widget_fluid");this.clear();w({url:b,root:this.dom.appendChild(n.createElement("span")),name:this._iframeName,
title:this.getIframeTitle(),className:r.getRtl()?"fb_rtl":"fb_ltr",height:a.height,width:a.width,onload:k(this.fire,"bind",!0,this,"iframe.onload")});this._resizeFlow(a);this.loaded=!1;this.subscribe("iframe.onload",k(function(){this.loaded=!0},"bind",!0,this))}else this.fire("render")},generateWidgetPipeIframeName:function(){E++;return"fb_iframe_"+E},getFullyQualifiedURL:function(){var a=this._getURL(),a=a+("?"+v.encode(this._getQS()));if(2E3<a.length){var a="about:blank",b=k(function(){this._postRequest();
this.unsubscribe("iframe.onload",b)},"bind",!0,this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return G.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",k(this._handleResizeMsg,"bind",!0,this));this.subscribe("xd.resize",k(this._bubbleResizeEvent,"bind",!0,this));this.subscribe("xd.resize.iframe",k(this._resizeIframe,"bind",!0,this));this.subscribe("xd.resize.flow",k(this._resizeFlow,"bind",!0,this));this.subscribe("xd.resize.flow",
k(this._bubbleResizeEvent,"bind",!0,this));this.subscribe("xd.refreshLoginStatus",function(){a.getLoginStatus(function(){},!0)});this.subscribe("xd.logout",function(){B({method:"auth.logout",display:"hidden"},function(){})});this._refreshOnAuthChange&&this._setupAuthRefresh();"load"==this._visibleAfter&&this.subscribe("iframe.onload",k(this._makeVisible,"bind",!0,this));this.subscribe("xd.verify",k(function(a){this.arbiterInform("xd/verify",a.token)},"bind",!0,this));this.oneTimeSetup()},_makeVisible:function(){this._removeLoader();
h.removeCss(this.dom,"fb_hide_iframes");this.fire("render")},_setupAuthRefresh:function(){a.getLoginStatus(k(function(a){var d=a.status;b.subscribe("auth.statusChange",k(function(a){this.isValid()&&(("unknown"==d||"unknown"==a.status)&&this.process(!0),d=a.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(a){this.isValid()&&(this._resizeIframe(a),this._resizeFlow(a),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._makeVisible())},_bubbleResizeEvent:function(a){a=
{height:a.height,width:a.width,pluginID:this.getAttribute("plugin-id")};b.fire("xfbml.resize",a)},_resizeIframe:function(a){var b=this.getIframeNode();"true"===a.reposition&&this._repositionIframe(a);a.height&&(b.style.height=a.height+"px");a.width&&(b.style.width=a.width+"px");this._updateIframeZIndex()},_resizeFlow:function(a){var b=this.dom.getElementsByTagName("span")[0];a.height&&(b.style.height=a.height+"px");a.width&&(b.style.width=a.width+"px");this._updateIframeZIndex()},_updateIframeZIndex:function(){var a=
this.dom.getElementsByTagName("span")[0],b=this.getIframeNode();h[b.style.height===a.style.height&&b.style.width===a.style.width?"removeCss":"addCss"](b,"fb_iframe_widget_lift")},_repositionIframe:function(a){var b=this.getIframeNode(),d=parseInt(h.getStyle(b,"width"),10),c=h.getPosition(b).x,e=h.getViewportInfo().width;a=parseInt(a.width,10);c+a>e&&c>a?(b.style.left=d-a+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(b.style.left="0px",this.arbiterInform("xd/reposition",
{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(h.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=n.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(h.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return d({api_key:r.getClientID(),locale:r.getLocale(),
sdk:"joey",kid_directed_site:r.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){return this.getDefaultWebDomain()+"/plugins/"+this.getUrlBits().name+".php"},_postRequest:function(){e.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}});var E=0;f.exports=g},null);g("sdk.XFBML.Comments","sdk.Event sdk.XFBML.IframeWidget QueryString sdk.Runtime JSSDKConfig UrlMap UserAgent".split(" "),function(g,G,u,s,f,t,c,a,e,
d,h,b,l){g=a.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var a={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getLengthAttribute("width"),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};!a.width&&
!a.permalink&&(a.width=550);h.initSitevars.enableMobileComments&&(l.mobile()&&!1!==a.mobile)&&(a.mobile=!0,delete a.width);a.skin||(a.skin=a.colorscheme);if(a.href){var c=this.getAttribute("fb_comment_id");c||(c=e.decode(n.URL.substring(k(n.URL,"indexOf",!0,"?")+1)).fb_comment_id)&&0<k(c,"indexOf",!0,"#")&&(c=c.substring(0,k(c,"indexOf",!0,"#")));c&&(a.fb_comment_id=c,this.subscribe("render",k(function(){m.location.hash||(m.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else a.migrated=
this.getAttribute("migrated"),a.xid=this.getAttribute("xid"),a.title=this.getAttribute("title",n.title),a.url=this.getAttribute("url",n.URL),a.quiet=this.getAttribute("quiet"),a.reverse=this.getAttribute("reverse"),a.simple=this.getAttribute("simple"),a.css=this.getAttribute("css"),a.notify=this.getAttribute("notify"),a.xid||(c=k(n.URL,"indexOf",!0,"#"),a.xid=0<c?encodeURIComponent(n.URL.substring(0,c)):encodeURIComponent(n.URL)),a.migrated&&(a.href=b.resolve("www")+"/plugins/comments_v1.php?app_id\x3d"+
d.getClientID()+"\x26xid\x3d"+encodeURIComponent(a.xid)+"\x26url\x3d"+encodeURIComponent(a.url));this._attr=a;return!0},oneTimeSetup:function(){this.subscribe("xd.addComment",k(this._handleCommentMsg,"bind",!0,this));this.subscribe("xd.commentCreated",k(this._handleCommentCreatedMsg,"bind",!0,this));this.subscribe("xd.commentRemoved",k(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){if(!this._attr.permalink)return{width:this._attr.mobile?"100%":this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",
params:this._attr}},getDefaultWebDomain:function(){return b.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(a){this.isValid()&&c.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){this.isValid()&&c.fire("comment.create",{href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID})},_handleCommentRemovedMsg:function(a){this.isValid()&&c.fire("comment.remove",{href:a.href,commentID:a.commentID})}});f.exports=g},null);g("mergeArrays",
[],function(g,n,u,s,f,t){f.exports=function(c,a){for(var e=0;e<a.length;e++)0>k(c,"indexOf",!0,a[e])&&c.push(a[e]);return c}},null);g("format",[],function(g,k,n,s,f,t){f.exports=function(c,a){a=Array.prototype.slice.call(arguments,1);return c.replace(/\{(\d+)\}/g,function(c,d){var f=a[Number(d)];return null===f||void 0===f?"":f.toString()})}},null);g("safeEval",[],function(g,k,n,s,f,t){f.exports=function(c,a){if(!(null===c||"undefined"===typeof c))return"string"!==typeof c?c:/^\w+$/.test(c)&&"function"===
typeof m[c]?m[c].apply(null,a||[]):Function('return eval("'+c.replace(/"/g,'\\"')+'");').apply(null,a||[])}},null);g("sdk.Waitable",["sdk.Model"],function(g,n,u,s,f,t,c){g=c.extend({constructor:function(){this.parent({Value:void 0})},error:function(a){this.inform("error",a)},wait:function(a,c){c&&this.subscribe("error",c);this.monitor("Value.change",k(function(){var c=this.getValue();if(void 0!==c)return this.value=c,a(c),!0},"bind",!0,this))}});f.exports=g},null);g("sdk.Query",["format","safeEval",
"Type","sdk.Waitable"],function(g,n,u,s,f,t,c,a,e,d){function h(a){return k(a.split(","),"map",!0,function(a){return k(a,"trim",!0)})}function b(a){return"string"===typeof a?k("JSON","stringify",!1,a):a}var l=1,q=d.extend({constructor:function(){this.parent();this.name="v_"+l++},hasDependency:function(a){arguments.length&&(this._hasDependency=a);return!!this._hasDependency},parse:function(b){var d=c.apply(null,b),d=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(d);this.fields=h(d[1]);this.table=d[2];
var d=d[3],f=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(d),g,k="unknown";f&&(g=f[2],/^(["'])(?:\\?.)*?\1$/.test(g)?(g=a(g),k="index"):/^\d+\.?\d*$/.test(g)&&(k="index"));this.where="index"==k?{type:"index",key:f[1],value:g}:{type:"unknown",value:d};for(g=1;g<b.length;g++)e.instanceOf(q,b[g])&&b[g].hasDependency(!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case "unknown":a+=this.where.value;break;case "index":a+=this.where.key+
"\x3d"+b(this.where.value);break;case "in":a=1==this.where.value.length?a+(this.where.key+"\x3d"+b(this.where.value[0])):a+(this.where.key+" in ("+k(this.where.value,"map",!0,b).join(",")+")")}return a},toString:function(){return"#"+this.name}});f.exports=q},null);g("sdk.Data","sdk.api sdk.ErrorHandling mergeArrays sdk.Query safeEval sdk.Waitable".split(" "),function(g,n,u,s,f,t,c,a,e,d,h,b){var l={query:function(a,b){var c=(new d).parse(Array.prototype.slice.call(arguments));l.queue.push(c);l._waitToProcess();
return c},waitOn:function(c,d){var e=new b,f=c.length;if("string"==typeof d){var g=d;d=a.unguard(function(){return h(g)})}k(c,"forEach",!0,function(a){a.monitor("Value.change",function(){var b=!1;void 0!==l._getValue(a)&&(a.value=a.getValue(),f--,b=!0);if(0===f){var h=d(k(c,"map",!0,l._getValue));e.setValue(void 0!==h?h:!0)}return b})});return e},process:function(a){l._process(a)},_getValue:function(a){return a instanceof b?a.getValue():a},_selectByIndex:function(a,b,c,e){var f=new d;f.fields=a;f.table=
b;f.where={type:"index",key:c,value:e};l.queue.push(f);l._waitToProcess();return f},_waitToProcess:function(){0>l.timer&&(l.timer=H(function(){l._process()},10))},_process:function(a){l.timer=-1;var b={},d=l.queue;if(d.length){l.queue=[];for(var e=0;e<d.length;e++){var f=d[e];"index"==f.where.type&&!f.hasDependency()?l._mergeIndexQuery(f,b):b[f.name]=f}var d={q:{}},h;for(h in b)b.hasOwnProperty(h)&&(d.q[h]=b[h].toFql());a&&(d.access_token=a);c("/fql","GET",d,function(a){a.error?k(k("Object","keys",
!1,b),"forEach",!0,function(c){b[c].error(Error(a.error.message))}):k(a.data,"forEach",!0,function(a){b[a.name].setValue(a.fql_result_set)})})}},_mergeIndexQuery:function(a,b){var c=a.where.key,f=a.where.value,h="index_"+a.table+"_"+c,g=b[h];g||(g=b[h]=new d,g.fields=[c],g.table=a.table,g.where={type:"in",key:c,value:[]});e(g.fields,a.fields);e(g.where.value,[f]);g.wait(function(b){a.setValue(k(b,"filter",!0,function(a){return a[c]==f}))})},timer:-1,queue:[]};f.exports=l},null);g("sdk.XFBML.CommentsCount",
["sdk.Data","sdk.DOM","sdk.XFBML.Element","sprintf"],function(g,n,u,s,f,t,c,a,e,d){g=e.extend({process:function(){a.addCss(this.dom,"fb_comments_count_zero");var e=this.getAttribute("href",m.location.href);c._selectByIndex(["commentsbox_count"],"link_stat","url",e).wait(k(function(b){b=b[0].commentsbox_count;a.html(this.dom,d('\x3cspan class\x3d"fb_comments_count"\x3e%s\x3c/span\x3e',b));0<b&&a.removeCss(this.dom,"fb_comments_count_zero");this.fire("render")},"bind",!0,this))}});f.exports=g},null);
g("sdk.Anim",["sdk.DOM"],function(g,n,u,s,f,t,c){f.exports={ate:function(a,e,d,f){d=!isNaN(parseFloat(d))&&0<=d?d:750;var b={},g={},q=null,n=O(k(function(){q||(q=k("Date","now",!1));var v=1;0!=d&&(v=Math.min((k("Date","now",!1)-q)/d,1));for(var r in e)if(e.hasOwnProperty(r)){var s=e[r];if(!b[r]){var t=c.getStyle(a,r);if(!1===t)return;b[r]=this._parseCSS(t+"")}g[r]||(g[r]=this._parseCSS(s.toString()));var u="";k(b[r],"forEach",!0,function(a,b){u=isNaN(g[r][b].numPart)&&"?"==g[r][b].textPart?a.numPart+
a.textPart:isNaN(a.numPart)?a.textPart:u+(a.numPart+Math.ceil((g[r][b].numPart-a.numPart)*Math.sin(Math.PI/2*v))+g[r][b].textPart+" ")});c.setStyle(a,r,u)}1==v&&(E(n),f&&f(a))},"bind",!0,this),40)},_parseCSS:function(a){var c=[];k(a.split(" "),"forEach",!0,function(a){var f=parseInt(a,10);c.push({numPart:f,textPart:a.replace(f,"")})});return c}}},null);g("escapeHTML",[],function(g,k,n,s,f,t){var c=/[&<>"'\/]/g,a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#039;",
"/":"\x26#x2F;"};f.exports=function(e){return e.replace(c,function(c){return a[c]})}},null);g("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(g,k,n,s,f,t,c,a,e,d,h){f.exports={isUser:function(a){return 22E8>a||1E14<=a&&0x5b0a58f100ef>=a||89E12<=a&&89999999999999>=a},upperCaseFirstChar:function(a){return 0<a.length?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,c,d){!d&&a&&(d=h("%s/profile.php?id\x3d%s",e.resolve("www"),a.uid||a.id));d&&(c=
h('\x3ca class\x3d"fb_link" href\x3d"%s"\x3e%s\x3c/a\x3e',d,c));return c},invokeHandler:function(a,e,f){a&&("string"===typeof a?c.unguard(d)(a,f):a.apply&&c.unguard(a).apply(e,f||[]))},fireEvent:function(b,c){var d=c._attr.href;c.fire(b,d);a.fire(b,d,c)},executeFunctionByName:function(a){for(var c=Array.prototype.slice.call(arguments,1),d=a.split("."),e=d.pop(),f=m,g=0;g<d.length;g++)f=f[d[g]];return f[e].apply(this,c)}}},null);g("sdk.XFBML.ConnectBar","sdk.Anim sdk.api sdk.Auth createArrayFrom JSSDKConnectBarConfig sdk.Data sdk.DOM sdk.XFBML.Element escapeHTML sdk.Event format sdk.Helper sdk.Insights sdk.Intl sdk.Runtime UrlMap UserAgent".split(" "),
function(g,G,u,s,f,t,c,a,e,d,h,b,l,q,w,v,r,B,D,z,E,p,F){g=q.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){e.getLoginStatus(k(function(b){v.monitor("auth.statusChange",k(function(){this.isValid()&&"connected"==E.getLoginStatus()?(this._uid=E.getUserID(),a({method:"Connect.shouldShowConnectBar"},k(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()},
"bind",!0,this))):this._noRender();return!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var a=b._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),c=b._selectByIndex(["display_name"],"application","api_key",E.getClientID());b.waitOn([a,c],k(function(a){a[0][0].site_name=a[1][0].display_name;this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),D.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),
v.fire("connectbar.ondisplay",this),B.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar());this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),v.fire("connectbar.onnotdisplay",this),B.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(a){var b=n.createElement("div"),e=n.createElement("div");b.className="fb_connect_bar";
e.className="fb_reset fb_connect_bar_container";e.appendChild(b);n.body.appendChild(e);this._container=e;this._initialHeight=Math.round(parseFloat(l.getStyle(e,"height"))+parseFloat(l.getStyle(e,"borderBottomWidth")));l.html(b,r('\x3cdiv class\x3d"fb_buttons"\x3e\x3ca href\x3d"#" class\x3d"fb_bar_close"\x3e\x3cimg src\x3d"{1}" alt\x3d"{2}" title\x3d"{2}"/\x3e\x3c/a\x3e\x3c/div\x3e\x3ca href\x3d"{7}" class\x3d"fb_profile" target\x3d"_blank"\x3e\x3cimg src\x3d"{3}" alt\x3d"{4}" title\x3d"{4}"/\x3e\x3c/a\x3e{5} \x3cspan\x3e\x3ca href\x3d"{8}" class\x3d"fb_learn_more" target\x3d"_blank"\x3e{6}\x3c/a\x3e \x26ndash; \x3ca href\x3d"#" class\x3d"fb_no_thanks"\x3e{0}\x3c/a\x3e\x3c/span\x3e',
z.tx._("\u4e0d\uff0c\u8c22\u8c22"),p.resolve("fbcdn")+"/"+h.imgs.buttonUrl,z.tx._("\u5173\u95ed"),a[this._picFieldName]||p.resolve("fbcdn")+"/"+h.imgs.missingProfileUrl,w(a.first_name),z.tx._("\u4f60\u597d\uff0c{firstName}\u3002\x3cstrong\x3e{siteName}\x3c/strong\x3e\u6b63\u5728\u4f7f\u7528 Facebook \u4e2a\u6027\u5316\u4f60\u7684\u4f53\u9a8c\u3002",{firstName:w(a.first_name),siteName:w(a.site_name)}),z.tx._("\u4e86\u89e3\u66f4\u591a"),a.profile_url,p.resolve("www")+"/sitetour/connect.php"));k(d(b.getElementsByTagName("a")),
"forEach",!0,function(a){a.onclick=k(this._clickHandler,"bind",!0,this)},this);this._page=n.body;a=0;a=this._page.parentNode?Math.round((parseFloat(l.getStyle(this._page.parentNode,"height"))-parseFloat(l.getStyle(this._page,"height")))/2):parseInt(l.getStyle(this._page,"marginTop"),10);this._initTopMargin=a=isNaN(a)?0:a;m.XMLHttpRequest?(e.style.top=-1*this._initialHeight+"px",c.ate(e,{top:"0px"},this._animationSpeed)):e.className+=" fb_connect_bar_container_ie6";e={marginTop:this._initTopMargin+
this._initialHeight+"px"};F.ie()?e.backgroundPositionY=this._initialHeight+"px":e.backgroundPosition="? "+this._initialHeight+"px";c.ate(this._page,e,this._animationSpeed)},_clickHandler:function(b){b=b||m.event;for(b=b.target||b.srcElement;"A"!=b.nodeName;)b=b.parentNode;switch(b.className){case "fb_bar_close":a({method:"Connect.connectBarMarkAcknowledged"});D.impression({lid:104,name:"widget_user_closed"});this._closeConnectBar();break;case "fb_learn_more":case "fb_profile":m.open(b.href);break;
case "fb_no_thanks":this._closeConnectBar(),a({method:"Connect.connectBarMarkAcknowledged"}),D.impression({lid:104,name:"widget_user_no_thanks"}),a({method:"auth.revokeAuthorization",block:!0},k(function(){this.fire("connectbar.ondeauth");v.fire("connectbar.ondeauth",this);B.invokeHandler(this.getAttribute("on-deauth"),this);this._getBoolAttribute("auto-refresh",!0)&&m.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+
"px"};F.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;c.ate(this._page,a,b);c.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)});this.fire("connectbar.onclose");v.fire("connectbar.onclose",this);B.invokeHandler(this.getAttribute("on-close"),this)}});f.exports=g},null);g("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(g,k,n,s,f,t,c,a){g=a.extend({constructor:function(e,d,f,b){this.parent(e,
d,f,b);var g=a.getVal(b,"on_login");g&&this.subscribe("login.status",function(a){c.invokeHandler(g,null,[a])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string"}}});f.exports=g},null);g("sdk.XFBML.Name","copyProperties sdk.Data escapeHTML sdk.Event sdk.XFBML.Element sdk.Helper Log sdk.Runtime".split(" "),
function(g,n,u,s,f,t,c,a,e,d,h,b,l,q){g=h.extend({process:function(){c(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")});if(this._uid){var e=[];this._firstnameonly?e.push("first_name"):
this._lastnameonly?e.push("last_name"):e.push("name");this._subjectId&&(e.push("sex"),this._subjectId==q.getUserID()&&(this._reflexive=!0));var f;d.monitor("auth.statusChange",k(function(){if(!this.isValid())return this.fire("render"),!0;if(!this._uid||"loggedinuser"==this._uid)this._uid=q.getUserID();this._uid&&(f=b.isUser(this._uid)?a._selectByIndex(e,"user","uid",this._uid):a._selectByIndex(["name","id"],"profile","id",this._uid),f.wait(k(function(a){this._subjectId==this._uid?this._renderPronoun(a[0]):
this._renderOther(a[0]);this.fire("render")},"bind",!0,this)))},"bind",!0,this))}else l.error('"uid" is a required attribute for \x3cfb:name\x3e'),this.fire("render")},_renderPronoun:function(a){var c="",c=this._objective;this._subjectId&&(c=!0,this._subjectId===this._uid&&(this._reflexive=!0));if(this._uid==q.getUserID()&&this._getBoolAttribute("use-you",!0))c=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(a.sex){case "male":c=this._possessive?this._reflexive?
"his own":"his":this._reflexive?"himself":c?"him":"he";break;case "female":c=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":c?"her":"she";break;default:c=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":c?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":c?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(c=b.upperCaseFirstChar(c));this.dom.innerHTML=
c},_renderOther:function(a){var c="",d="";this._uid==q.getUserID()&&this._getBoolAttribute("use-you",!0)?c=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?c=e(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(c=e(a.last_name)),c||(c=e(a.name)),""!==c&&this._possessive&&(c+="'s"));c||(c=e(this.getAttribute("if-cant-see","Facebook User")));
c&&(this._getBoolAttribute("capitalize",!1)&&(c=b.upperCaseFirstChar(c)),d=a&&this._linked?b.getProfileLink(a,c,this.getAttribute("href",null)):c);this.dom.innerHTML=d}});f.exports=g},null);g("sdk.XFBML.RecommendationsBar","sdk.Arbiter DOMEventListener sdk.Event sdk.XFBML.IframeWidget resolveURI sdk.Runtime".split(" "),function(g,G,u,s,f,t,c,a,e,d,h,b){g=d.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function d(a,b){function c(){b();
f=null;e=k("Date","now",!1)}var e=0,f=null;return function(){if(!f){var b=k("Date","now",!1);b-e<a?f=H(c,a-(b-e)):c()}return!0}}this._attr={channel:this.getChannelUrl(),api_key:b.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:h(this.getAttribute("href")),side:function(a){return"left"==a||"right"==a?a:b.getRtl()?"left":"right"}(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),
trigger:function(a){a.match(/^\d+(?:\.\d+)?%$/)?a=Math.min(Math.max(parseInt(a,10),0),100)/100:"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}(this.getAttribute("trigger","")),read_time:function(a){return Math.max(parseInt(a,10)||30,10)}(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2};this._showLoader=!1;this.subscribe("iframe.onload",k(function(){this.dom.children[0].className="fbpluginrecommendationsbar"+this._attr.side},"bind",
!0,this));var f=k(function(){a.remove(m,"scroll",f);a.remove(n.documentElement,"click",f);a.remove(n.documentElement,"mousemove",f);H(k(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,c.BEHAVIOR_STATE),1E3*this._attr.read_time);return!0},"bind",!0,this);a.add(m,"scroll",f);a.add(n.documentElement,"click",f);a.add(n.documentElement,"mousemove",f);if("manual"==this._attr.trigger){var g=k(function(a){a==this._attr.href&&(e.unsubscribe("xfbml.recommendationsbar.read",
g),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,c.BEHAVIOR_STATE));return!0},"bind",!0,this);e.subscribe("xfbml.recommendationsbar.read",g)}else{var s=d(500,k(function(){this.calculateVisibility()&&(a.remove(m,"scroll",s),a.remove(m,"resize",s),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,c.BEHAVIOR_STATE));return!0},"bind",!0,this));a.add(m,"scroll",s);a.add(m,"resize",s);s()}this.visible=!1;var r=d(500,k(function(){!this.visible&&this.calculateVisibility()?
(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible"));return!0},"bind",!0,this));a.add(m,"scroll",r);a.add(m,"resize",r);r();this.focused=!0;r=k(function(){this.focused=!this.focused;return!0},"bind",!0,this);a.add(m,"blur",r);a.add(m,"focus",r);this.animate=this.resize_running=!1;this.subscribe("xd.signal_animation",k(function(){this.animate=
!0},"bind",!0,this));return!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var a=n.documentElement.clientHeight;if(!this.focused&&m.console&&m.console.firebug)return this.visible;switch(this._attr.trigger){case "manual":return!1;case "onvisible":return this.dom.getBoundingClientRect().top<=a;default:return((m.pageYOffset||n.body.scrollTop)+a)/n.documentElement.scrollHeight>=this._attr.trigger}}});f.exports=g},null);g("sdk.XFBML.Registration",
["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(g,n,u,s,f,t,c,a,e,d,h){g=e.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:d.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",
!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",m.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")};this._attr.onvalidate&&this.subscribe("xd.validate",k(function(b){var c=k("JSON","parse",!1,b.value),d=k(function(a){this.arbiterInform("Registration.Validation",
{errors:a,id:b.id})},"bind",!0,this);(c=a.executeFunctionByName(this._attr.onvalidate,c,d))&&d(c)},"bind",!0,this));this.subscribe("xd.authLogin",k(this._onAuthLogin,"bind",!0,this));this.subscribe("xd.authLogout",k(this._onAuthLogout,"bind",!0,this));return!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=k("JSON","parse",!1,this._attr.fields)}catch(c){a=this._attr.fields.split(/,/)}else a=
["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return h.resolve("www",!0)},_onAuthLogin:function(){c.getAuthResponse()||c.getLoginStatus();a.fireEvent("auth.login",this)},_onAuthLogout:function(){c.getAuthResponse()||c.getLoginStatus();a.fireEvent("auth.logout",this)}});f.exports=g},null);g("sdk.XFBML.SocialContext",
["sdk.Event","sdk.XFBML.IframeWidget"],function(g,n,u,s,f,t,c,a){g=a.extend({setupAndValidate:function(){this.getAttribute("size","small");this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls"),object_id:this.getAttribute("object_id")};this.subscribe("xd.social_context_stats",k(this._bubbleSocialContextStats,
"bind",!0,this));return!0},_bubbleSocialContextStats:function(a){a={pluginID:this.getAttribute("plugin-id"),socialContextPageIDs:k("JSON","parse",!1,a.social_context_page_ids)};c.fire("xfbml.social_context_stats",a)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}});f.exports=g},null);g("legacy:fb.xfbml","Assert sdk.domReady sdk.Event FB IframePlugin PluginTags wrapFunction XFBML sdk.XFBML.Comments sdk.XFBML.CommentsCount sdk.XFBML.ConnectBar sdk.XFBML.LoginButton sdk.XFBML.Name sdk.XFBML.RecommendationsBar sdk.XFBML.Registration sdk.XFBML.SocialContext".split(" "),
function(g,m,u,s,f,t,c,a,e,d,h,b,l,q){var G={comments:m("sdk.XFBML.Comments"),comments_count:m("sdk.XFBML.CommentsCount"),connect_bar:m("sdk.XFBML.ConnectBar"),login_button:m("sdk.XFBML.LoginButton"),name:m("sdk.XFBML.Name"),recommendations_bar:m("sdk.XFBML.RecommendationsBar"),registration:m("sdk.XFBML.Registration"),social_context:m("sdk.XFBML.SocialContext")};k(k("Object","keys",!1,b),"forEach",!0,function(a){q.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:h.withParams(b[a])})});k(k("Object",
"keys",!1,G),"forEach",!0,function(a){q.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:G[a]})});d.provide("XFBML",{parse:function(a){c.maybeXfbml(a,"Invalid argument");a&&9===a.nodeType&&(a=a.body);return q.parse.apply(null,arguments)}});q.subscribe("parse",k(e.fire,"bind",!0,e,"xfbml.parse"));q.subscribe("render",k(e.fire,"bind",!0,e,"xfbml.render"));e.subscribe("init:post",function(b){b.xfbml&&H(l(k(a,"bind",!0,null,q.parse),"entry","init:post:xfbml.parse"),0)});c.define("Xfbml",function(a){return(1===
a.nodeType||9===a.nodeType)&&"string"===typeof a.nodeName});try{n.namespaces&&!n.namespaces.item.fb&&n.namespaces.add("fb")}catch(v){}},3);g("legacy:fb.versioned-sdk",["sdk.Runtime"],function(g,k,n,s,f,t,c){c.setIsVersioned(!0)},3)}.call({},window.inDapIF?parent.window:window)}catch(e$$136){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c\x3djssdk_error\x26m\x3d"+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e$$136.name+'","line":"'+(e$$136.lineNumber||e$$136.line)+
'","script":"'+(e$$136.fileName||e$$136.sourceURL||e$$136.script)+'","stack":"'+(e$$136.stackTrace||e$$136.stack)+'","revision":"1272844","message":"'+e$$136.message+'"}}')};(function(m){var J={},n={"0":"success",1:"Unknown error",2:"Network error",3:"Without permission",4:"Interrupt operation"},H={},O=!1;m.extend("facebook",{init:function(n){if(FB&&!O){var m=this;m._isLogined=!1;H=n;FB.init({appId:n.appId,xfbml:n.xfbml,version:n.version});FB.getLoginStatus(function(n){n&&"connected"===n.status?(m._isLogined=!0,J=n.authResponse):m._isLogined=!1});O=!0}},user:{login:function(m){var E=this;FB.login(function(H){H.authResponse?(E._isLogined=!0,J=H.authResponse,"function"===
typeof m&&m(0,n[0])):"function"===typeof m&&m(1,n[1])},{scope:""})},logout:function(m){FB.logout(function(E){E.authResponse?(self._isLogined=!1,J={},"function"===typeof m&&m(0,n[0])):"function"===typeof m&&m(1,n[1])})},isLogined:function(m){var E=this;FB.getLoginStatus(function(H){H&&"connected"===H.status?(E._isLogined=!0,J=H.authResponse,"function"===typeof m&&m(0)):(E._isLogined=!1,"function"===typeof m&&m(1,n[1]))});return this._isLogined},getUserId:function(){return J.userID},getToken:function(){return J.accessToken}},
share:{share:function(m,E){FB.ui({method:"share",name:m.title,caption:m.caption,description:m.text,href:m.link,picture:m.imageUrl},function(m){m?m.post_id?"function"===typeof E&&E(0,n[0]):"function"===typeof E&&E(3,n[3]):"function"===typeof E&&E(4,n[4])})}},social:{submitScore:function(m){J.userID?FB.api("/"+J.userID+"/scores","post",{score:100},function(E){console.log(E);E?"function"===typeof m&&m(0,n[0]):"function"===typeof m&&m(1,n[1])}):m(3,n[3])},showLeaderboard:function(n){H.appId&&FB.api("/"+
H.appId+"/scores",function(m){m.error?"function"===typeof n&&n(1,m.message):m.data&&"function"===typeof n&&n(0,m.data)})},unlockAchievement:function(){},showAchievements:function(){}},dialog:function(m,E){if(m){m.method="share_open_graph"==m.dialog?"share_open_graph":"share";delete m.dialog;m.name=m.site||m.name;delete m.site;delete m.name;m.href=m.siteUrl||m.link;delete m.siteUrl;delete m.link;m.picture=m.imageUrl||m.imagePath||m.photo||m.picture;delete m.imageUrl;delete m.imagePath;delete m.photo;
m.caption=m.title||m.caption;delete m.title;m.description=m.text||m.description;delete m.text;delete m.description;if("share_open_graph"==m.method&&m.url)if(m.url)m.action_properties=JSON.stringify({object:m.url});else return;else if(!m.href)return;FB.ui(m,function(m){m?m.post_id?"function"===typeof E&&E(0,n[0]):"function"===typeof E&&E(3,n[3]):"function"===typeof E&&E(4,n[4])})}},ui:FB.ui,api:FB.api})})(plugin);