cc.pool={_pool:{},_releaseCB:function(){this.release()},_autoRelease:function(a){var b=void 0===a._running?!1:!a._running;cc.director.getScheduler().schedule(this._releaseCB,a,0,0,0,b)},putInPool:function(a){var b=a.constructor.prototype.__pid;if(!b){var c={writable:!0,enumerable:!1,configurable:!0};c.value=ClassManager.getNewID(),Object.defineProperty(a.constructor.prototype,"__pid",c)}this._pool[b]||(this._pool[b]=[]),a.retain&&a.retain(),a.unuse&&a.unuse(),this._pool[b].push(a)},hasObject:function(a){var b=a.prototype.__pid,c=this._pool[b];return!(!c||0===c.length)},removeObject:function(a){var b=a.constructor.prototype.__pid;if(b){var c=this._pool[b];if(c)for(var d=0;d<c.length;d++)a===c[d]&&(a.release&&a.release(),c.splice(d,1))}},getFromPool:function(a){if(this.hasObject(a)){var b=a.prototype.__pid,c=this._pool[b],d=Array.prototype.slice.call(arguments);d.shift();var e=c.pop();return e.reuse&&e.reuse.apply(e,d),cc.sys.isNative&&e.release&&this._autoRelease(e),e}},drainAllPools:function(){for(var a in this._pool)for(var b=0;b<this._pool[a].length;b++){var c=this._pool[a][b];c.release&&c.release()}this._pool={}}};