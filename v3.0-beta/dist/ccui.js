var ccui=ccui||{};ccui.Class=ccui.Class||cc.Class;ccui.Class.extend=ccui.Class.extend||cc.Class.extend;ccui.Node=ccui.Node||cc.Node;ccui.Node.extend=ccui.Node.extend||cc.Node.extend;ccui.cocosGUIVersion="CocosGUI v1.0.0.0";ccui.Widget=ccui.Node.extend({RGBAProtocol:!0,_enabled:!0,_bright:!0,_touchEnabled:!1,_touchPassedEnabled:!1,_focus:!1,_brightStyle:null,_updateEnabled:!1,_touchStartPos:null,_touchMovePos:null,_touchEndPos:null,_touchEventListener:null,_touchEventSelector:null,_name:"default",_widgetType:null,_actionTag:0,_size:cc.size(0,0),_customSize:null,_layoutParameterDictionary:null,_ignoreSize:!1,_widgetChildren:null,_affectByClipping:!1,_sizeType:null,_sizePercent:null,positionType:null,_positionPercent:null,
_reorderWidgetChildDirty:!1,_hitted:!1,_nodes:null,_touchListener:null,_color:null,_className:"Widget",_flippedX:!1,_flippedY:!1,ctor:function(){cc.Node.prototype.ctor.call(this);this._brightStyle=ccui.Widget.BRIGHT_STYLE_NONE;this._touchStartPos=cc.p(0,0);this._touchMovePos=cc.p(0,0);this._touchEndPos=cc.p(0,0);this._widgetType=ccui.Widget.TYPE_WIDGET;this._size=cc.size(0,0);this._customSize=cc.size(0,0);this._layoutParameterDictionary={};this._widgetChildren=[];this._sizeType=ccui.Widget.SIZE_ABSOLUTE;
this._sizePercent=cc.p(0,0);this.positionType=ccui.Widget.POSITION_ABSOLUTE;this._positionPercent=cc.p(0,0);this._nodes=[];this._color=cc.color(255,255,255,255);this.init()},init:function(){cc.Node.prototype.init.call(this)&&(this._layoutParameterDictionary={},this._widgetChildren=[],this.initRenderer(),this.setBright(!0),this.ignoreContentAdaptWithSize(!0),this.setAnchorPoint(cc.p(0.5,0.5)));return!0},onEnter:function(){this.updateSizeAndPosition();cc.Node.prototype.onEnter.call(this)},visit:function(a){this._enabled&&
cc.Node.prototype.visit.call(this,a)},sortAllChildren:function(){this._reorderWidgetChildDirty=this._reorderChildDirty;cc.Node.prototype.sortAllChildren.call(this);if(this._reorderWidgetChildDirty){var a=this._widgetChildren,b,c,d=a.length,e;for(b=0;b<d;b++){var f=a[b];c=b-1;for(e=a[c];0<=c&&(f._localZOrder<e._localZOrder||f._localZOrder==e._localZOrder&&f.arrivalOrder<e.arrivalOrder);)a[c+1]=e,c-=1,e=a[c];a[c+1]=f}this._reorderWidgetChildDirty=!1}},addChild:function(a,b,c){a instanceof ccui.Widget?
(cc.Node.prototype.addChild.call(this,a,b,c),this._widgetChildren.push(a)):a instanceof cc.Node&&cc.log("Please use addNode to add a CCNode.")},getChildByTag:function(a){var b=this._widgetChildren;if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(d&&d.tag==a)return d}return null},getChildren:function(){return this._widgetChildren},getChildrenCount:function(){return this._widgetChildren.length},getWidgetParent:function(){var a=this.getParent();return a instanceof ccui.Widget?a:null},removeChild:function(a,
b){a instanceof ccui.Widget?(cc.Node.prototype.removeChild.call(this,a,b),cc.arrayRemoveObject(this._widgetChildren,a)):cc.log("child must a type of ccui.Widget")},removeChildByTag:function(a,b){var c=this.getChildByTag(a);null==c?cc.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(c,b)},removeAllChildren:function(a){for(var b=0;b<this._widgetChildren.length;b++)cc.Node.prototype.removeChild.call(this,this._widgetChildren[b],a);this._widgetChildren.length=0},setEnabled:function(a){this._enabled=
a;for(var b=this._widgetChildren,c=b.length,d=0;d<c;d++)b[d].setEnabled(a)},getChildByName:function(a){for(var b=this._widgetChildren,c=b.length,d=0;d<c;d++){var e=b[d];if(e.getName()==a)return e}},initRenderer:function(){},addNode:function(a,b,c){a instanceof ccui.Widget?cc.log("Please use addChild to add a Widget."):(cc.Node.prototype.addChild.call(this,a,b,c),this._nodes.push(a))},getNodeByTag:function(a){for(var b=this._nodes,c=0;c<b.length;c++){var d=b[c];if(d&&d.getTag()==a)return d}return null},
getNodes:function(){return this._nodes},removeNode:function(a,b){cc.Node.prototype.removeChild.call(this,a);cc.arrayRemoveObject(this._nodes,a)},removeNodeByTag:function(a,b){var c=this.getNodeByTag(a);c?this.removeNode(c):cc.log("cocos2d: removeNodeByTag(tag \x3d %d): child not found!",a)},removeAllNodes:function(){for(var a=0;a<this._nodes.length;a++)cc.Node.prototype.removeChild.call(this,this._nodes[a]);this._nodes.length=0},setSize:function(a){var b=this._customSize.width=a.width;a=this._customSize.height=
a.height;this._ignoreSize&&(b=this.width,a=this.height);this._size.width=b;this._size.height=a;this._running&&((a=this.getWidgetParent())?(b=a.width,a=a.height):(b=this._parent.width,a=this._parent.height),this._sizePercent.x=0<b?this._customSize.width/b:0,this._sizePercent.y=0<a?this._customSize.height/a:0);this.onSizeChanged()},_setWidth:function(a){a=this._customSize.width=a;this._ignoreSize&&(a=this.width);this._size.width=a;this._running&&(a=(a=this.getWidgetParent())?a.width:this._parent.width,
this._sizePercent.x=0<a?this._customSize.width/a:0);this.onSizeChanged()},_setHeight:function(a){a=this._customSize.height=a;this._ignoreSize&&(a=this.height);this._size.height=a;this._running&&(a=(a=this.getWidgetParent())?a.height:this._parent.height,this._sizePercent.y=0<a?this._customSize.height/a:0);this.onSizeChanged()},setSizePercent:function(a){this._sizePercent.x=a.x;this._sizePercent.y=a.y;var b=this._customSize.width,c=this._customSize.height;this._running&&((c=this.getWidgetParent())?
(b=c.width*a.x,c=c.height*a.y):(b=this._parent.width*a.x,c=this._parent.height*a.y));this._ignoreSize||(this._size.width=b,this._size.height=c);this._customSize.width=b;this._customSize.height=c;this.onSizeChanged()},_setWidthPercent:function(a){this._sizePercent.x=a;var b=this._customSize.width;this._running&&(b=this.getWidgetParent(),b=(b?b.width:this._parent.width)*a);this._ignoreSize||(this._size.width=b);this._customSize.width=b;this.onSizeChanged()},_setHeightPercent:function(a){this._sizePercent.y=
a;var b=this._customSize.height;this._running&&(b=this.getWidgetParent(),b=(b?b.height:this._parent.height)*a);this._ignoreSize||(this._size.height=b);this._customSize.height=b;this.onSizeChanged()},updateSizeAndPosition:function(){switch(this._sizeType){case ccui.Widget.SIZE_ABSOLUTE:var a;a=this._ignoreSize?this.getContentSize():this._customSize;this._size.width=a.width;this._size.height=a.height;var b=0,c=0;a=(a=this.getWidgetParent())?a.getSize():this._parent.getContentSize();0<a.width&&(b=this._customSize.width/
a.width);0<a.height&&(c=this._customSize.height/a.height);this._sizePercent.x=b;this._sizePercent.y=c;break;case ccui.Widget.SIZE_PERCENT:a=this.getWidgetParent(),b=cc.size(0,0),a?(b.width=a.getSize().width*this._sizePercent.x,b.height=a.getSize().height*this._sizePercent.y):(b.width=this._parent.getContentSize().width*this._sizePercent.x,b.height=this._parent.getContentSize().height*this._sizePercent.y),a=this._ignoreSize?this.getContentSize():b,this._size.width=a.width,this._size.height=a.height,
this._customSize.width=b.width,this._customSize.height=b.height}this.onSizeChanged();b=this.getPosition();switch(this.positionType){case ccui.Widget.POSITION_ABSOLUTE:a=(a=this.getWidgetParent())?a.getSize():this._parent.getContentSize();0>=a.width||0>=a.height?(this._positionPercent.x=0,this._positionPercent.y=0):(this._positionPercent.x=b.x/a.width,this._positionPercent.y=b.y/a.height);break;case ccui.Widget.POSITION_PERCENT:a=(a=this.getWidgetParent())?a.getSize():this._parent.getContentSize(),
b=cc.p(a.width*this._positionPercent.x,a.height*this._positionPercent.y)}this.setPosition(b)},setSizeType:function(a){this._sizeType=a},getSizeType:function(){return this._sizeType},ignoreContentAdaptWithSize:function(a){a=(this._ignoreSize=a)?this.getContentSize():this._customSize;this._size.width=a.width;this._size.height=a.height;this.onSizeChanged()},isIgnoreContentAdaptWithSize:function(){return this._ignoreSize},getSize:function(){return this._size},getCustomSize:function(){return this._customSize},
getSizePercent:function(){return this._sizePercent},_getWidthPercent:function(){return this._sizePercent.x},_getHeightPercent:function(){return this._sizePercent.y},getWorldPosition:function(){return this.convertToWorldSpace(cc.p(0,0))},getVirtualRenderer:function(){return this},onSizeChanged:function(){for(var a=0;a<this._widgetChildren.length;a++)this._widgetChildren[a].updateSizeAndPosition()},getContentSize:function(){return this._size},_getWidth:function(){return this._size.width},_getHeight:function(){return this._size.height},
setTouchEnabled:function(a){this._touchEnabled!==a&&((this._touchEnabled=a)?(this._touchListener=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:this.onTouchBegan.bind(this),onTouchMoved:this.onTouchMoved.bind(this),onTouchEnded:this.onTouchEnded.bind(this)}),cc.eventManager.addListener(this._touchListener,this)):cc.eventManager.removeListener(this._touchListener))},isTouchEnabled:function(){return this._touchEnabled},setUpdateEnabled:function(a){this._updateEnabled!=
a&&((this._updateEnabled=a)?this.scheduleUpdate():this.unscheduleUpdate())},isUpdateEnabled:function(){return this._updateEnabled},isFocused:function(){return this._focus},setFocused:function(a){if(a!=this._focus)if(this._focus=a,this._bright)this._focus?this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT):this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_NORMAL);else this.onPressStateChangedToDisabled()},setBright:function(a,b){if(this._bright=a)this._brightStyle=ccui.Widget.BRIGHT_STYLE_NONE,this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_NORMAL);
else this.onPressStateChangedToDisabled()},setBrightStyle:function(a){if(this._brightStyle!=a)switch(this._brightStyle=a=a||ccui.Widget.BRIGHT_STYLE_NORMAL,this._brightStyle){case ccui.Widget.BRIGHT_STYLE_NORMAL:this.onPressStateChangedToNormal();break;case ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT:this.onPressStateChangedToPressed()}},onPressStateChangedToNormal:function(){},onPressStateChangedToPressed:function(){},onPressStateChangedToDisabled:function(){},didNotSelectSelf:function(){},onTouchBegan:function(a,
b){var c=a.getLocation();this._touchStartPos.x=c.x;this._touchStartPos.y=c.y;this._hitted=this.isEnabled()&&this.isTouchEnabled()&&this.hitTest(c)&&this.clippingParentAreaContainPoint(c);if(!this._hitted)return!1;this.setFocused(!0);var d=this.getWidgetParent();d&&d.checkChildInfo(0,this,c);this.pushDownEvent();return!this._touchPassedEnabled},onTouchMoved:function(a,b){var c=a.getLocation();this._touchMovePos.x=c.x;this._touchMovePos.y=c.y;this.setFocused(this.hitTest(c));var d=this.getWidgetParent();
d&&d.checkChildInfo(1,this,c);this.moveEvent()},onTouchEnded:function(a,b){var c=a.getLocation();this._touchEndPos.x=c.x;this._touchEndPos.y=c.y;var d=this._focus;this.setFocused(!1);var e=this.getWidgetParent();e&&e.checkChildInfo(2,this,c);d?this.releaseUpEvent():this.cancelUpEvent()},onTouchCancelled:function(a){this.setFocused(!1);this.cancelUpEvent()},onTouchLongClicked:function(a){this.longClickEvent()},pushDownEvent:function(){this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector&&
this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_BEGAN)},moveEvent:function(){this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector&&this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_MOVED)},releaseUpEvent:function(){this._touchEventListener&&this._touchEventSelector&&this._touchEventSelector&&this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_ENDED)},cancelUpEvent:function(){this._touchEventSelector&&
this._touchEventSelector.call(this._touchEventListener,this,ccui.Widget.TOUCH_CANCELED)},longClickEvent:function(){},addTouchEventListener:function(a,b){this._touchEventSelector=a;this._touchEventListener=b},hitTest:function(a){a=this.convertToNodeSpace(a);var b=cc.rect(-this._size.width*this._anchorPoint.x,-this._size.height*this._anchorPoint.y,this._size.width,this._size.height);return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height?!0:!1},clippingParentAreaContainPoint:function(a){this._affectByClipping=
!1;for(var b=this.getParent(),c=null;b;){if(b instanceof ccui.Layout&&b.isClippingEnabled()){this._affectByClipping=!0;c=b;break}b=b.getParent()}return!this._affectByClipping?!0:c?(b=!1,c.hitTest(a)&&(b=!0),b?c.clippingParentAreaContainPoint(a):!1):!0},checkChildInfo:function(a,b,c){var d=this.getWidgetParent();d&&d.checkChildInfo(a,b,c)},setPosition:function(a,b){if(this._running){var c=this.getWidgetParent();c&&(c=c.getSize(),0>=c.width||0>=c.height?(this._positionPercent.x=0,this._positionPercent.y=
0):b?(this._positionPercent.x=a/c.width,this._positionPercent.y=b/c.height):(this._positionPercent.x=a.x/c.width,this._positionPercent.y=a.y/c.height))}cc.Node.prototype.setPosition.apply(this,arguments)},setPositionX:function(a){if(this._running){var b=this.getWidgetParent();b&&(b=b.width,this._positionPercent.x=0>=b?0:a/b)}cc.Node.prototype.setPositionX.call(this,a)},setPositionY:function(a){if(this._running){var b=this.getWidgetParent();b&&(b=b.height,this._positionPercent.y=0>=b?0:a/b)}cc.Node.prototype.setPositionY.call(this,
a)},setPositionPercent:function(a){this._positionPercent=a;if(this._running&&(a=this.getWidgetParent()))a=a.getSize(),this.setPosition(a.width*this._positionPercent.x,a.height*this._positionPercent.y)},_setXPercent:function(a){this._positionPercent.x=a;if(this._running){var b=this.getWidgetParent();b&&this.setPositionX(b.width*a)}},_setYPercent:function(a){this._positionPercent.y=a;if(this._running){var b=this.getWidgetParent();b&&this.setPositionY(b.height*a)}},updateAnchorPoint:function(){this.setAnchorPoint(this.getAnchorPoint())},
getPositionPercent:function(){return this._positionPercent},_getXPercent:function(){return this._positionPercent.x},_getYPercent:function(){return this._positionPercent.y},setPositionType:function(a){this.positionType=a},getPositionType:function(){return this.positionType},setFlippedX:function(a){this._flippedX=a;this.updateFlippedX()},isFlippedX:function(){return this._flippedX},setFlippedY:function(a){this._flippedY=a;this.updateFlippedY()},isFlippedY:function(){return this._flippedY},updateFlippedX:function(){},
updateFlippedY:function(){},isBright:function(){return this._bright},isEnabled:function(){return this._enabled},getLeftInParent:function(){return this.getPositionX()-this._getAnchorX()*this._size.width},getBottomInParent:function(){return this.getPositionY()-this._getAnchorY()*this._size.height},getRightInParent:function(){return this.getLeftInParent()+this._size.width},getTopInParent:function(){return this.getBottomInParent()+this._size.height},getTouchStartPos:function(){return this._touchStartPos},
getTouchMovePos:function(){return this._touchMovePos},getTouchEndPos:function(){return this._touchEndPos},setName:function(a){this._name=a},getName:function(){return this._name},getWidgetType:function(){return this._widgetType},setLayoutParameter:function(a){this._layoutParameterDictionary[a.getLayoutType()]=a},getLayoutParameter:function(a){return this._layoutParameterDictionary[a]},getDescription:function(){return"Widget"},clone:function(){var a=this.createCloneInstance();a.copyProperties(this);
a.copyClonedWidgetChildren(this);return a},createCloneInstance:function(){return ccui.Widget.create()},copyClonedWidgetChildren:function(a){a=a.getChildren();for(var b=0;b<a.length;b++){var c=a[b];c instanceof ccui.Widget&&this.addChild(c.clone())}},copySpecialProperties:function(a){},copyProperties:function(a){this.setEnabled(a.isEnabled());this.setVisible(a.isVisible());this.setBright(a.isBright());this.setTouchEnabled(a.isTouchEnabled());this._touchPassedEnabled=!1;this.setLocalZOrder(a.getLocalZOrder());
this.setUpdateEnabled(a.isUpdateEnabled());this.setTag(a.getTag());this.setName(a.getName());this.setActionTag(a.getActionTag());this._ignoreSize=a._ignoreSize;this._size=cc.size(a._size.width,a._size.height);this._customSize=cc.size(a._customSize.width,a._customSize.height);this.copySpecialProperties(a);this._sizeType=a.getSizeType();this._sizePercent=cc.p(a._sizePercent.x,a._sizePercent.y);this.positionType=a.positionType;this._positionPercent=cc.p(a._positionPercent.x,a._positionPercent.y);this.setPosition(a.getPosition());
this.setAnchorPoint(a.getAnchorPoint());this.setScaleX(a.getScaleX());this.setScaleY(a.getScaleY());this.setRotation(a.getRotation());this.setRotationX(a.getRotationX());this.setRotationY(a.getRotationY());this.setFlippedX(a.isFlippedX());this.setFlippedY(a.isFlippedY());this.setColor(a.getColor());this.setOpacity(a.getOpacity());for(var b in a._layoutParameterDictionary){var c=a._layoutParameterDictionary[b];c&&this.setLayoutParameter(c.clone())}this.onSizeChanged()},setActionTag:function(a){this._actionTag=
a},getActionTag:function(){return this._actionTag},setColor:function(a){this._color.r=a.r;this._color.g=a.g;this._color.b=a.b;this.updateTextureColor();void 0!==a.a&&!a.a_undefined&&this.setOpacity(a.a)},getColor:function(){return cc.color(this._color.r,this._color.g,this._color.b,this._color.a)},setOpacity:function(a){a!==this._color.a&&(this._color.a=a,this.updateTextureOpacity(a))},getOpacity:function(){return this._color.a},updateTextureColor:function(){},updateTextureOpacity:function(a){for(var b in this._children){var c=
this._children[b];c&&c.RGBAProtocol&&c.setOpacity(a)}},updateColorToRenderer:function(a){a.RGBAProtocol&&a.setColor(this._color)},updateOpacityToRenderer:function(a){a.RGBAProtocol&&a.setOpacity(this._color.a)}});var _p=ccui.Widget.prototype;cc.defineGetterSetter(_p,"xPercent",_p._getXPercent,_p._setXPercent);cc.defineGetterSetter(_p,"yPercent",_p._getYPercent,_p._setYPercent);cc.defineGetterSetter(_p,"widthPercent",_p._getWidthPercent,_p._setWidthPercent);
cc.defineGetterSetter(_p,"heightPercent",_p._getHeightPercent,_p._setHeightPercent);cc.defineGetterSetter(_p,"widgetParent",_p.getWidgetParent);cc.defineGetterSetter(_p,"enabled",_p.isEnabled,_p.setEnabled);cc.defineGetterSetter(_p,"focused",_p.isFocused,_p.setFocused);cc.defineGetterSetter(_p,"sizeType",_p.getSizeType,_p.setSizeType);cc.defineGetterSetter(_p,"widgetType",_p.getWidgetType);cc.defineGetterSetter(_p,"touchEnabled",_p.isTouchEnabled,_p.setTouchEnabled);
cc.defineGetterSetter(_p,"updateEnabled",_p.isUpdateEnabled,_p.setUpdateEnabled);cc.defineGetterSetter(_p,"bright",_p.isBright,_p.setBright);cc.defineGetterSetter(_p,"name",_p.getName,_p.setName);cc.defineGetterSetter(_p,"actionTag",_p.getActionTag,_p.setActionTag);cc.defineGetterSetter(_p,"opacity",_p.getOpacity,_p.setOpacity);_p=null;ccui.Widget.create=function(){return new ccui.Widget};ccui.Widget.BRIGHT_STYLE_NONE=-1;ccui.Widget.BRIGHT_STYLE_NORMAL=0;ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT=1;
ccui.Widget.TYPE_WIDGET=0;ccui.Widget.TYPE_CONTAINER=1;ccui.Widget.LOCAL_TEXTURE=0;ccui.Widget.PLIST_TEXTURE=1;ccui.Widget.TOUCH_BEGAN=0;ccui.Widget.TOUCH_MOVED=1;ccui.Widget.TOUCH_ENDED=2;ccui.Widget.TOUCH_CANCELED=3;ccui.Widget.SIZE_ABSOLUTE=0;ccui.Widget.SIZE_PERCENT=1;ccui.Widget.POSITION_ABSOLUTE=0;ccui.Widget.POSITION_PERCENT=1;ccui.Layout=ccui.Widget.extend({_clippingEnabled:null,_backGroundScale9Enabled:null,_backGroundImage:null,_backGroundImageFileName:null,_backGroundImageCapInsets:null,_colorType:null,_bgImageTexType:ccui.Widget.LOCAL_TEXTURE,_colorRender:null,_gradientRender:null,_color:null,_startColor:null,_endColor:null,_alongVector:null,_opacity:255,_backGroundImageTextureSize:null,_layoutType:null,_doLayoutDirty:!0,_clippingRectDirty:!0,_clippingType:null,_clippingStencil:null,_handleScissor:!1,_scissorRectDirty:!1,
_clippingRect:null,_clippingParent:null,_className:"Layout",_backGroundImageColor:null,ctor:function(){ccui.Widget.prototype.ctor.call(this);this._backGroundImageCapInsets=cc.rect(0,0,0,0);this._colorType=ccui.Layout.BG_COLOR_NONE;this._color=cc.color(255,255,255,255);this._startColor=cc.color(255,255,255,255);this._endColor=cc.color(255,255,255,255);this._alongVector=cc.p(0,-1);this._backGroundImageTextureSize=cc.size(0,0);this._layoutType=ccui.Layout.ABSOLUTE;this._widgetType=ccui.Widget.TYPE_CONTAINER;
this._clippingType=ccui.Layout.CLIPPING_STENCIL;this._clippingRect=cc.rect(0,0,0,0);this._backGroundImageColor=cc.color(255,255,255,255)},init:function(){return cc.Node.prototype.init.call(this)?(this._layoutParameterDictionary={},this._widgetChildren=[],this.initRenderer(),this.ignoreContentAdaptWithSize(!1),this.setSize(cc.size(0,0)),this.setBright(!0),this.setAnchorPoint(0,0),this.initStencil(),!0):!1},initStencil:null,_initStencilForWebGL:function(){this._clippingStencil=cc.DrawNode.create();
ccui.Layout._init_once=!0;ccui.Layout._init_once&&(cc.stencilBits=cc._renderContext.getParameter(cc._renderContext.STENCIL_BITS),0>=cc.stencilBits&&cc.log("Stencil buffer is not enabled."),ccui.Layout._init_once=!1)},_initStencilForCanvas:function(){this._clippingStencil=cc.DrawNode.create();var a=cc._renderContext,b=this._clippingStencil;b.draw=function(){for(var c=cc.view.getScaleX(),d=cc.view.getScaleY(),e=0;e<b._buffer.length;e++){var f=b._buffer[e].verts,m=f[0];a.beginPath();a.moveTo(m.x*c,-m.y*
d);for(var m=1,g=f.length;m<g;m++)a.lineTo(f[m].x*c,-f[m].y*d)}}},addChild:function(a,b,c){if(!(a instanceof ccui.Widget))throw"the child add to Layout  must a type of cc.Widget";this.supplyTheLayoutParameterLackToChild(a);ccui.Widget.prototype.addChild.call(this,a,b,c);this._doLayoutDirty=!0},removeChild:function(a,b){ccui.Widget.prototype.removeChild.call(this,a,b);this._doLayoutDirty=!0},removeAllChildren:function(a){ccui.Widget.prototype.removeAllChildren.call(this,a);this._doLayoutDirty=!0},
isClippingEnabled:function(){return this._clippingEnabled},visit:function(a){if(this._enabled)if(this._clippingEnabled)switch(this._clippingType){case ccui.Layout.CLIPPING_STENCIL:this.stencilClippingVisit(a);break;case ccui.Layout.CLIPPING_SCISSOR:this.scissorClippingVisit(a)}else cc.Node.prototype.visit.call(this,a)},sortAllChildren:function(){ccui.Widget.prototype.sortAllChildren.call(this);this._doLayout()},stencilClippingVisit:null,_stencilClippingVisitForWebGL:function(a){var b=a||cc._renderContext;
if(1>cc.stencilBits)cc.Node.prototype.visit.call(this,a);else if(this._clippingStencil&&this._clippingStencil.isVisible())if(ccui.Layout._layer=-1,ccui.Layout._layer+1==cc.stencilBits)ccui.Layout._visit_once=!0,ccui.Layout._visit_once&&(cc.log("Nesting more than "+cc.stencilBits+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),ccui.Layout._visit_once=!1),cc.Node.prototype.visit.call(this,a);else{ccui.Layout._layer++;var c=1<<ccui.Layout._layer,d=
c|c-1,e=b.isEnabled(b.STENCIL_TEST),f=b.getParameter(b.STENCIL_WRITEMASK),m=b.getParameter(b.STENCIL_FUNC),g=b.getParameter(b.STENCIL_REF),l=b.getParameter(b.STENCIL_VALUE_MASK),r=b.getParameter(b.STENCIL_FAIL),t=b.getParameter(b.STENCIL_PASS_DEPTH_FAIL),n=b.getParameter(b.STENCIL_PASS_DEPTH_PASS);b.enable(b.STENCIL_TEST);b.stencilMask(c);var q=b.getParameter(b.DEPTH_WRITEMASK);b.depthMask(!1);b.stencilFunc(b.NEVER,c,c);b.stencilOp(b.ZERO,b.KEEP,b.KEEP);cc._drawingUtil.drawSolidRect(cc.p(0,0),cc.pFromSize(cc.director.getWinSize()),
cc.color(255,255,255,255));b.stencilFunc(b.NEVER,c,c);b.stencilOp(b.REPLACE,b.KEEP,b.KEEP);cc.kmGLPushMatrix();this.transform();this._clippingStencil.visit();cc.kmGLPopMatrix();b.depthMask(q);b.stencilFunc(b.EQUAL,d,d);b.stencilOp(b.KEEP,b.KEEP,b.KEEP);cc.Node.prototype.visit.call(this,a);b.stencilFunc(m,g,l);b.stencilOp(r,t,n);b.stencilMask(f);e||b.disable(b.STENCIL_TEST);ccui.Layout._layer--}},_stencilClippingVisitForCanvas:function(a){if(this._clippingStencil&&this._clippingStencil.isVisible()){a=
a||cc._renderContext;if(this._cangodhelpme()||this._clippingStencil instanceof cc.Sprite){var b=a.canvas,c=ccui.Layout._getSharedCache();c.width=b.width;c.height=b.height;c.getContext("2d").drawImage(b,0,0);a.save();cc.Node.prototype.visit.call(this,a);a.globalCompositeOperation="destination-in";this.transform(a);this._clippingStencil.visit();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(c,0,0)}else{var c=this._children,d;a.save();this.transform(a);
this._clippingStencil.visit(a);a.clip();this._cangodhelpme(!0);var e=c.length;if(0<e){this.sortAllChildren();for(b=0;b<e;b++)if(d=c[b],0>d._localZOrder)d.visit(a);else break;for(this.draw(a);b<e;b++)c[b].visit(a)}else this.draw(a);this._cangodhelpme(!1)}a.restore()}},_godhelpme:!1,_cangodhelpme:function(a){if(!0===a||!1===a)cc.ClippingNode.prototype._godhelpme=a;return cc.ClippingNode.prototype._godhelpme},scissorClippingVisit:null,_scissorClippingVisitForWebGL:function(a){var b=this.getClippingRect();
a=a||cc._renderContext;this._handleScissor&&a.enable(a.SCISSOR_TEST);cc.view.setScissorInPoints(b.x,b.y,b.width,b.height);cc.Node.prototype.visit.call(this);this._handleScissor&&a.disable(a.SCISSOR_TEST)},setClippingEnabled:function(a){if(a!=this._clippingEnabled)switch(this._clippingEnabled=a,this._clippingType){case ccui.Layout.CLIPPING_STENCIL:a?this.setStencilClippingSize(this._size):this._clippingStencil=null}},setClippingType:function(a){if(a!=this._clippingType){var b=this.isClippingEnabled();
this.setClippingEnabled(!1);this._clippingType=a;this.setClippingEnabled(b)}},getClippingType:function(){return this._clippingType},setStencilClippingSize:function(a){if(this._clippingEnabled&&this._clippingType==ccui.Layout.CLIPPING_STENCIL){var b=[];b[0]=cc.p(0,0);b[1]=cc.p(a.width,0);b[2]=cc.p(a.width,a.height);b[3]=cc.p(0,a.height);a=cc.color.GREEN;this._clippingStencil.clear();this._clippingStencil.drawPoly(b,4,a,0,a)}},rendererVisitCallBack:function(){this._doLayout()},getClippingRect:function(){if(this._clippingRectDirty){this._handleScissor=
!0;var a=this.convertToWorldSpace(cc.p(0,0)),b=this.nodeToWorldTransform(),c=this._size.width*b.a,b=this._size.height*b.d,d;d=this;for(var e=!1;d;)if((d=d.getParent())&&d instanceof ccui.Layout&&d.isClippingEnabled())if(e||(this._clippingParent=d,e=!0),d._clippingType==ccui.Layout.CLIPPING_SCISSOR){this._handleScissor=!1;break}if(this._clippingParent){d=this._clippingParent.getClippingRect();var e=a.x-c*this._anchorPoint.x,f=a.y-b*this._anchorPoint.y,m=c,g=b,l=a.x-d.x;0>l&&(e=d.x,m+=l);c=a.x+c-(d.x+
d.width);0<c&&(m-=c);c=a.y+b-(d.y+d.height);0<c&&(g-=c);a=a.y-d.y;0>a&&(f=d.x,g+=a);0>m&&(m=0);0>g&&(g=0);this._clippingRect.x=e;this._clippingRect.y=f;this._clippingRect.width=m;this._clippingRect.height=g}else this._clippingRect.x=a.x-c*this._anchorPoint.x,this._clippingRect.y=a.y-b*this._anchorPoint.y,this._clippingRect.width=c,this._clippingRect.height=b;this._clippingRectDirty=!1}return this._clippingRect},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.setContentSize(this._size);
this.setStencilClippingSize(this._size);this._clippingRectDirty=this._doLayoutDirty=!0;this._backGroundImage&&(this._backGroundImage.setPosition(this._size.width/2,this._size.height/2),this._backGroundScale9Enabled&&this._backGroundImage instanceof cc.Scale9Sprite&&this._backGroundImage.setPreferredSize(this._size));this._colorRender&&this._colorRender.setContentSize(this._size);this._gradientRender&&this._gradientRender.setContentSize(this._size)},setBackGroundImageScale9Enabled:function(a){this._backGroundScale9Enabled!=
a&&(cc.Node.prototype.removeChild.call(this,this._backGroundImage,!0),this._backGroundImage=null,this._backGroundImage=(this._backGroundScale9Enabled=a)?cc.Scale9Sprite.create():cc.Sprite.create(),cc.Node.prototype.addChild.call(this,this._backGroundImage,ccui.Layout.BACKGROUND_IMAGE_ZORDER,-1),this.setBackGroundImage(this._backGroundImageFileName,this._bgImageTexType),this.setBackGroundImageCapInsets(this._backGroundImageCapInsets))},isBackGroundImageScale9Enabled:function(){return this._backGroundScale9Enabled},
setBackGroundImage:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;null==this._backGroundImage&&this.addBackGroundImage();this._backGroundImageFileName=a;this._bgImageTexType=b;switch(this._bgImageTexType){case ccui.Widget.LOCAL_TEXTURE:this._backGroundImage.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._backGroundImage.initWithSpriteFrameName(a)}this._backGroundScale9Enabled&&this._backGroundImage.setPreferredSize(this._size);this._backGroundImageTextureSize=this._backGroundImage.getContentSize();
this._backGroundImage.setPosition(this._size.width/2,this._size.height/2);this.updateBackGroundImageColor()}},setBackGroundImageCapInsets:function(a){this._backGroundImageCapInsets=a;this._backGroundScale9Enabled&&this._backGroundImage.setCapInsets(a)},getBackGroundImageCapInsets:function(){return this._backGroundImageCapInsets},supplyTheLayoutParameterLackToChild:function(a){if(a)switch(this._layoutType){case ccui.Layout.LINEAR_HORIZONTAL:case ccui.Layout.LINEAR_VERTICAL:var b=a.getLayoutParameter(ccui.LayoutParameter.LINEAR);
b||a.setLayoutParameter(ccui.LinearLayoutParameter.create());break;case ccui.Layout.RELATIVE:(b=a.getLayoutParameter(ccui.LayoutParameter.RELATIVE))||a.setLayoutParameter(ccui.RelativeLayoutParameter.create())}},addBackGroundImage:function(){this._backGroundScale9Enabled?(this._backGroundImage=cc.Scale9Sprite.create(),this._backGroundImage.setPreferredSize(this._size)):this._backGroundImage=cc.Sprite.create();cc.Node.prototype.addChild.call(this,this._backGroundImage,ccui.Layout.BACKGROUND_IMAGE_ZORDER,
-1);this._backGroundImage.setPosition(this._size.width/2,this._size.height/2)},removeBackGroundImage:function(){this._backGroundImage&&(cc.Node.prototype.removeChild.call(this,this._backGroundImage,!0),this._backGroundImage=null,this._backGroundImageFileName="",this._backGroundImageTextureSize=cc.size(0,0))},setBackGroundColorType:function(a){if(this._colorType!=a){switch(this._colorType){case ccui.Layout.BG_COLOR_NONE:this._colorRender&&(cc.Node.prototype.removeChild.call(this,this._colorRender,
!0),this._colorRender=null);this._gradientRender&&(cc.Node.prototype.removeChild.call(this,this._gradientRender,!0),this._gradientRender=null);break;case ccui.Layout.BG_COLOR_SOLID:this._colorRender&&(cc.Node.prototype.removeChild.call(this,this._colorRender,!0),this._colorRender=null);break;case ccui.Layout.BG_COLOR_GRADIENT:this._gradientRender&&(cc.Node.prototype.removeChild.call(this,this._gradientRender,!0),this._gradientRender=null)}this._colorType=a;switch(this._colorType){case ccui.Layout.BG_COLOR_SOLID:this._colorRender=
cc.LayerColor.create();this._colorRender.setContentSize(this._size);this._colorRender.setOpacity(this._opacity);this._colorRender.setColor(this._color);cc.Node.prototype.addChild.call(this,this._colorRender,ccui.Layout.BACKGROUND_RENDERER_ZORDER,-1);break;case ccui.Layout.BG_COLOR_GRADIENT:this._gradientRender=cc.LayerGradient.create(cc.color(255,0,0,255),cc.color(0,255,0,255)),this._gradientRender.setContentSize(this._size),this._gradientRender.setOpacity(this._opacity),this._gradientRender.setStartColor(this._startColor),
this._gradientRender.setEndColor(this._endColor),this._gradientRender.setVector(this._alongVector),cc.Node.prototype.addChild.call(this,this._gradientRender,ccui.Layout.BACKGROUND_RENDERER_ZORDER,-1)}}},getBackGroundColorType:function(){return this._colorType},setBackGroundColor:function(a,b){b?(this._startColor.r=a.r,this._startColor.g=a.g,this._startColor.b=a.b,this._gradientRender&&this._gradientRender.setStartColor(a),this._endColor=b,this._gradientRender&&this._gradientRender.setEndColor(b)):
(this._color.r=a.r,this._color.g=a.g,this._color.b=a.b,this._colorRender&&this._colorRender.setColor(a))},getBackGroundColor:function(){var a=this._color;return cc.color(a.r,a.g,a.b,a.a)},getBackGroundStartColor:function(){var a=this._startColor;return cc.color(a.r,a.g,a.b,a.a)},getBackGroundEndColor:function(){var a=this._endColor;return cc.color(a.r,a.g,a.b,a.a)},setBackGroundColorOpacity:function(a){this._opacity=a;switch(this._colorType){case ccui.Layout.BG_COLOR_SOLID:this._colorRender.setOpacity(a);
break;case ccui.Layout.BG_COLOR_GRADIENT:this._gradientRender.setOpacity(a)}},getBackGroundColorOpacity:function(){return this._opacity},setBackGroundColorVector:function(a){this._alongVector.x=a.x;this._alongVector.y=a.y;this._gradientRender&&this._gradientRender.setVector(a)},getBackGroundColorVector:function(){return this._alongVector},setBackGroundImageColor:function(a){this._backGroundImageColor.r=a.r;this._backGroundImageColor.g=a.g;this._backGroundImageColor.b=a.b;this.updateBackGroundImageColor();
void 0!==a.a&&!a.a_undefined&&this.setBackGroundImageOpacity(a.a)},setBackGroundImageOpacity:function(a){this._backGroundImageColor.a=a;this.getBackGroundImageColor()},getBackGroundImageColor:function(){var a=this._backGroundImageColor;return cc.color(a.r,a.g,a.b,a.a)},getBackGroundImageOpacity:function(){return this._backGroundImageColor.a},updateBackGroundImageColor:function(){this._backGroundImage.setColor(this._backGroundImageColor)},getBackGroundImageTextureSize:function(){return this._backGroundImageTextureSize},
setLayoutType:function(a){this._layoutType=a;a=this._widgetChildren;for(var b=null,c=0;c<a.length;c++)b=a[c],this.supplyTheLayoutParameterLackToChild(b);this._doLayoutDirty=!0},getLayoutType:function(){return this._layoutType},requestDoLayout:function(){this._doLayoutDirty=!0},doLayout_LINEAR_VERTICAL:function(){for(var a=this._widgetChildren,b=this.getSize(),c=b.height,d=0;d<a.length;++d){var e=a[d],f=e.getLayoutParameter(ccui.LayoutParameter.LINEAR);if(f){var m=f.getGravity(),g=e.getAnchorPoint(),
l=e.getSize(),r=g.x*l.width,c=c-(1-g.y)*l.height;switch(m){case ccui.LINEAR_GRAVITY_RIGHT:r=b.width-(1-g.x)*l.width;break;case ccui.LINEAR_GRAVITY_CENTER_HORIZONTAL:r=b.width/2-l.width*(0.5-g.x)}f=f.getMargin();r+=f.left;c-=f.top;e.setPosition(r,c);c=e.getBottomInParent()-f.bottom}}},doLayout_LINEAR_HORIZONTAL:function(){for(var a=this._widgetChildren,b=this.getSize(),c=0,d=0;d<a.length;++d){var e=a[d],f=e.getLayoutParameter(ccui.LayoutParameter.LINEAR);if(f){var m=f.getGravity(),g=e.getAnchorPoint(),
l=e.getSize(),c=c+g.x*l.width,r=b.height-(1-g.y)*l.height;switch(m){case ccui.LINEAR_GRAVITY_BOTTOM:r=g.y*l.height;break;case ccui.LINEAR_GRAVITY_CENTER_VERTICAL:r=b.height/2-l.height*(0.5-g.y)}f=f.getMargin();c+=f.left;r-=f.top;e.setPosition(c,r);c=e.getRightInParent()+f.right}}},doLayout_RELATIVE:function(){for(var a=this._widgetChildren,b=a.length,c=b,d=this.getSize(),e=0;e<b;e++){var f=a[e],m=f.getLayoutParameter(ccui.LayoutParameter.RELATIVE);m._put=!1}for(;0<c;)for(e=0;e<b;e++)if(f=a[e],(m=
f.getLayoutParameter(ccui.LayoutParameter.RELATIVE))&&!m._put){var g=f.getAnchorPoint(),l=f.getSize(),r=m.getAlign(),t=m.getRelativeToWidgetName(),n=null,q=null,k=0,h=0;t&&(n=ccui.helper.seekWidgetByRelativeName(this,t))&&(q=n.getLayoutParameter(ccui.LayoutParameter.RELATIVE));switch(r){case ccui.RELATIVE_ALIGN_NONE:case ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT:k=g.x*l.width;h=d.height-(1-g.y)*l.height;break;case ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL:k=0.5*d.width-l.width*(0.5-g.x);h=d.height-
(1-g.y)*l.height;break;case ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT:k=d.width-(1-g.x)*l.width;h=d.height-(1-g.y)*l.height;break;case ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL:k=g.x*l.width;h=0.5*d.height-l.height*(0.5-g.y);break;case ccui.RELATIVE_ALIGN_PARENT_CENTER:k=0.5*d.width-l.width*(0.5-g.x);h=0.5*d.height-l.height*(0.5-g.y);break;case ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL:k=d.width-(1-g.x)*l.width;h=0.5*d.height-l.height*(0.5-g.y);break;case ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM:k=
g.x*l.width;h=g.y*l.height;break;case ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL:k=0.5*d.width-l.width*(0.5-g.x);h=g.y*l.height;break;case ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM:k=d.width-(1-g.x)*l.width;h=g.y*l.height;break;case ccui.RELATIVE_ALIGN_LOCATION_ABOVE_LEFT:if(n){if(q&&!q._put)continue;h=n.getTopInParent();k=n.getLeftInParent();h+=g.y*l.height;k+=g.x*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_ABOVE_CENTER:if(n){if(q&&!q._put)continue;t=n.getSize();h=n.getTopInParent();h+=
g.y*l.height;k=n.getLeftInParent()+0.5*t.width+g.x*l.width-0.5*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_ABOVE_RIGHT:if(n){if(q&&!q._put)continue;h=n.getTopInParent();k=n.getRightInParent();h+=g.y*l.height;k-=(1-g.x)*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_LEFT_TOP:if(n){if(q&&!q._put)continue;h=n.getTopInParent();k=n.getLeftInParent();h-=(1-g.y)*l.height;k-=(1-g.x)*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_LEFT_CENTER:if(n){if(q&&!q._put)continue;t=n.getSize();k=n.getLeftInParent();
k-=(1-g.x)*l.width;h=n.getBottomInParent()+0.5*t.height+g.y*l.height-0.5*l.height}break;case ccui.RELATIVE_ALIGN_LOCATION_LEFT_BOTTOM:if(n){if(q&&!q._put)continue;h=n.getBottomInParent();k=n.getLeftInParent();h+=g.y*l.height;k-=(1-g.x)*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_RIGHT_TOP:if(n){if(q&&!q._put)continue;h=n.getTopInParent();k=n.getRightInParent();h-=(1-g.y)*l.height;k+=g.x*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_RIGHT_CENTER:if(n){if(q&&!q._put)continue;t=n.getSize();k=n.getRightInParent();
k+=g.x*l.width;h=n.getBottomInParent()+0.5*t.height+g.y*l.height-0.5*l.height}break;case ccui.RELATIVE_ALIGN_LOCATION_RIGHT_BOTTOM:if(n){if(q&&!q._put)continue;h=n.getBottomInParent();k=n.getRightInParent();h+=g.y*l.height;k+=g.x*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_BELOW_TOP:if(n){if(q&&!q._put)continue;h=n.getBottomInParent();k=n.getLeftInParent();h-=(1-g.y)*l.height;k+=g.x*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_BELOW_CENTER:if(n){if(q&&!q._put)continue;t=n.getSize();h=n.getBottomInParent();
h-=(1-g.y)*l.height;k=n.getLeftInParent()+0.5*t.width+g.x*l.width-0.5*l.width}break;case ccui.RELATIVE_ALIGN_LOCATION_BELOW_BOTTOM:if(n){if(q&&!q._put)continue;h=n.getBottomInParent();k=n.getRightInParent();h-=(1-g.y)*l.height;k-=(1-g.x)*l.width}}var s,p,g=m.getMargin();q&&(s=q.getMargin(),p=q.getAlign());switch(r){case ccui.RELATIVE_ALIGN_NONE:case ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT:k+=g.left;h-=g.top;break;case ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL:h-=g.top;break;case ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT:k-=
g.right;h-=g.top;break;case ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL:k+=g.left;break;case ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL:k-=g.right;break;case ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM:k+=g.left;h+=g.bottom;break;case ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL:h+=g.bottom;break;case ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM:k-=g.right;h+=g.bottom;break;case ccui.RELATIVE_ALIGN_LOCATION_ABOVE_LEFT:h+=g.bottom;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL&&(p!=ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT&&
p!=ccui.RELATIVE_ALIGN_NONE&&p!=ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT)&&(h+=s.top);h+=g.left;break;case ccui.RELATIVE_ALIGN_LOCATION_ABOVE_CENTER:h+=g.bottom;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL&&(p!=ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT&&p!=ccui.RELATIVE_ALIGN_NONE&&p!=ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT)&&(h+=s.top);break;case ccui.RELATIVE_ALIGN_LOCATION_ABOVE_RIGHT:h+=g.bottom;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL&&(p!=ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT&&p!=ccui.RELATIVE_ALIGN_NONE&&
p!=ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT)&&(h+=s.top);k-=g.right;break;case ccui.RELATIVE_ALIGN_LOCATION_LEFT_TOP:k-=g.right;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT&&(p!=ccui.RELATIVE_ALIGN_NONE&&p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL)&&(k-=s.left);h-=g.top;break;case ccui.RELATIVE_ALIGN_LOCATION_LEFT_CENTER:k-=g.right;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT&&(p!=ccui.RELATIVE_ALIGN_NONE&&p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL)&&
(k-=s.left);break;case ccui.RELATIVE_ALIGN_LOCATION_LEFT_BOTTOM:k-=g.right;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT&&(p!=ccui.RELATIVE_ALIGN_NONE&&p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL)&&(k-=s.left);h+=g.bottom;break;case ccui.RELATIVE_ALIGN_LOCATION_RIGHT_TOP:k+=g.left;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT&&(p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL)&&(k+=s.right);h-=g.top;break;case ccui.RELATIVE_ALIGN_LOCATION_RIGHT_CENTER:k+=
g.left;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT&&(p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL)&&(k+=s.right);break;case ccui.RELATIVE_ALIGN_LOCATION_RIGHT_BOTTOM:k+=g.left;p!=ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT&&(p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL)&&(k+=s.right);h+=g.bottom;break;case ccui.RELATIVE_ALIGN_LOCATION_BELOW_TOP:h-=g.top;p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM&&(p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM&&
p!=ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL)&&(h-=s.bottom);k+=g.left;break;case ccui.RELATIVE_ALIGN_LOCATION_BELOW_CENTER:h-=g.top;p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM&&(p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL)&&(h-=s.bottom);break;case ccui.RELATIVE_ALIGN_LOCATION_BELOW_BOTTOM:h-=g.top,p!=ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM&&(p!=ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM&&p!=ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL)&&
(h-=s.bottom),k-=g.right}f.setPosition(k,h);m._put=!0;c--}},_doLayout:function(){if(this._doLayoutDirty){switch(this._layoutType){case ccui.Layout.LINEAR_VERTICAL:this.doLayout_LINEAR_VERTICAL();break;case ccui.Layout.LINEAR_HORIZONTAL:this.doLayout_LINEAR_HORIZONTAL();break;case ccui.Layout.RELATIVE:this.doLayout_RELATIVE()}this._doLayoutDirty=!1}},getDescription:function(){return"Layout"},createCloneInstance:function(){return ccui.Layout.create()},copyClonedWidgetChildren:function(a){ccui.Widget.prototype.copyClonedWidgetChildren.call(this,
a)},copySpecialProperties:function(a){this.setBackGroundImageScale9Enabled(a._backGroundScale9Enabled);this.setBackGroundImage(a._backGroundImageFileName,a._bgImageTexType);this.setBackGroundImageCapInsets(a._backGroundImageCapInsets);this.setBackGroundColorType(a._colorType);this.setBackGroundColor(a._color);this.setBackGroundColor(a._startColor,a._endColor);this.setBackGroundColorOpacity(a._opacity);this.setBackGroundColorVector(a._alongVector);this.setLayoutType(a._layoutType);this.setClippingEnabled(a._clippingEnabled);
this.setClippingType(a._clippingType)}});ccui.Layout._init_once=null;ccui.Layout._visit_once=null;ccui.Layout._layer=null;ccui.Layout._sharedCache=null;
cc._renderType==cc._RENDER_TYPE_WEBGL?(ccui.Layout.prototype.initStencil=ccui.Layout.prototype._initStencilForWebGL,ccui.Layout.prototype.stencilClippingVisit=ccui.Layout.prototype._stencilClippingVisitForWebGL,ccui.Layout.prototype.scissorClippingVisit=ccui.Layout.prototype._scissorClippingVisitForWebGL):(ccui.Layout.prototype.initStencil=ccui.Layout.prototype._initStencilForCanvas,ccui.Layout.prototype.stencilClippingVisit=ccui.Layout.prototype._stencilClippingVisitForCanvas,ccui.Layout.prototype.scissorClippingVisit=
ccui.Layout.prototype._stencilClippingVisitForCanvas);ccui.Layout._getSharedCache=function(){return cc.ClippingNode._sharedCache||(cc.ClippingNode._sharedCache=cc.newElement("canvas"))};_p=ccui.Layout.prototype;cc.defineGetterSetter(_p,"clippingEnabled",_p.isClippingEnabled,_p.setClippingEnabled);cc.defineGetterSetter(_p,"clippingType",null,_p.setClippingType);cc.defineGetterSetter(_p,"layoutType",_p.getLayoutType,_p.setLayoutType);_p=null;ccui.Layout.create=function(){return new ccui.Layout};
ccui.Layout.BG_COLOR_NONE=0;ccui.Layout.BG_COLOR_SOLID=1;ccui.Layout.BG_COLOR_GRADIENT=2;ccui.Layout.ABSOLUTE=0;ccui.Layout.LINEAR_VERTICAL=1;ccui.Layout.LINEAR_HORIZONTAL=2;ccui.Layout.RELATIVE=3;ccui.Layout.CLIPPING_STENCIL=0;ccui.Layout.CLIPPING_SCISSOR=1;ccui.Layout.BACKGROUND_IMAGE_ZORDER=-2;ccui.Layout.BACKGROUND_RENDERER_ZORDER=-2;ccui.LayoutParameter=ccui.Class.extend({_margin:null,_layoutParameterType:null,ctor:function(){this._margin=new ccui.Margin;this._layoutParameterType=ccui.LayoutParameter.NONE},setMargin:function(a){this._margin.left=a.left;this._margin.top=a.top;this._margin.right=a.right;this._margin.bottom=a.bottom},getMargin:function(){return this._margin},getLayoutType:function(){return this._layoutParameterType},clone:function(){var a=this.createCloneInstance();a.copyProperties(this);return a},createCloneInstance:function(){return ccui.LayoutParameter.create()},
copyProperties:function(a){this._margin.left=a._margin.left;this._margin.top=a._margin.top;this._margin.right=a._margin.right;this._margin.bottom=a._margin.bottom}});ccui.LayoutParameter.create=function(){return new ccui.LayoutParameter};
ccui.LinearLayoutParameter=ccui.LayoutParameter.extend({_linearGravity:null,ctor:function(){ccui.LayoutParameter.prototype.ctor.call(this);this._linearGravity=ccui.LINEAR_GRAVITY_NONE;this._layoutParameterType=ccui.LayoutParameter.LINEAR},setGravity:function(a){this._linearGravity=a},getGravity:function(){return this._linearGravity},createCloneInstance:function(){return ccui.LinearLayoutParameter.create()},copyProperties:function(a){ccui.LayoutParameter.prototype.copyProperties.call(this,a);this.setGravity(a._linearGravity)}});
ccui.LinearLayoutParameter.create=function(){return new ccui.LinearLayoutParameter};
ccui.RelativeLayoutParameter=ccui.LayoutParameter.extend({_relativeAlign:null,_relativeWidgetName:"",_relativeLayoutName:"",_put:!1,ctor:function(){ccui.LayoutParameter.prototype.ctor.call(this);this._relativeAlign=ccui.RELATIVE_ALIGN_NONE;this._relativeLayoutName=this._relativeWidgetName="";this._put=!1;this._layoutParameterType=ccui.LayoutParameter.RELATIVE},setAlign:function(a){this._relativeAlign=a},getAlign:function(){return this._relativeAlign},setRelativeToWidgetName:function(a){this._relativeWidgetName=
a},getRelativeToWidgetName:function(){return this._relativeWidgetName},setRelativeName:function(a){this._relativeLayoutName=a},getRelativeName:function(){return this._relativeLayoutName},createCloneInstance:function(){return ccui.LinearLayoutParameter.create()},copyProperties:function(a){ccui.LayoutParameter.prototype.copyProperties.call(this,a);this.setAlign(a._relativeAlign);this.setRelativeToWidgetName(a._relativeWidgetName);this.setRelativeName(a._relativeLayoutName)}});
ccui.RelativeLayoutParameter.create=function(){return new ccui.RelativeLayoutParameter};ccui.LayoutParameter.NONE=0;ccui.LayoutParameter.LINEAR=1;ccui.LayoutParameter.RELATIVE=2;ccui.LINEAR_GRAVITY_NONE=0;ccui.LINEAR_GRAVITY_LEFT=1;ccui.LINEAR_GRAVITY_TOP=2;ccui.LINEAR_GRAVITY_RIGHT=3;ccui.LINEAR_GRAVITY_BOTTOM=4;ccui.LINEAR_GRAVITY_CENTER_VERTICAL=5;ccui.LINEAR_GRAVITY_CENTER_HORIZONTAL=6;ccui.RELATIVE_ALIGN_NONE=0;ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT=1;ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL=2;ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT=3;ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL=4;ccui.RELATIVE_ALIGN_PARENT_CENTER=5;
ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL=6;ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM=7;ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL=8;ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM=9;ccui.RELATIVE_ALIGN_LOCATION_ABOVE_LEFT=10;ccui.RELATIVE_ALIGN_LOCATION_ABOVE_CENTER=11;ccui.RELATIVE_ALIGN_LOCATION_ABOVE_RIGHT=12;ccui.RELATIVE_ALIGN_LOCATION_LEFT_TOP=13;ccui.RELATIVE_ALIGN_LOCATION_LEFT_CENTER=14;ccui.RELATIVE_ALIGN_LOCATION_LEFT_BOTTOM=15;ccui.RELATIVE_ALIGN_LOCATION_RIGHT_TOP=16;
ccui.RELATIVE_ALIGN_LOCATION_RIGHT_CENTER=17;ccui.RELATIVE_ALIGN_LOCATION_RIGHT_BOTTOM=18;ccui.RELATIVE_ALIGN_LOCATION_BELOW_TOP=19;ccui.RELATIVE_ALIGN_LOCATION_BELOW_CENTER=20;ccui.RELATIVE_ALIGN_LOCATION_BELOW_BOTTOM=21;
ccui.Margin=ccui.Class.extend({left:0,top:0,right:0,bottom:0,ctor:function(a,b,c,d){a&&void 0===b&&(this.left=a.left,this.top=a.top,this.right=a.right,this.bottom=a.bottom);void 0!==d&&(this.left=a,this.top=b,this.right=c,this.bottom=d)},setMargin:function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d},equals:function(a){return this.left==a.left&&this.top==a.top&&this.right==a.right&&this.bottom==a.bottom}});ccui.MarginZero=function(){return new ccui.Margin(0,0,0,0)};ccui.helper={seekWidgetByTag:function(a,b){if(!a)return null;if(a.getTag()==b)return a;for(var c=a.getChildren(),d=c.length,e=0;e<d;e++){var f=this.seekWidgetByTag(c[e],b);if(null!=f)return f}return null},seekWidgetByName:function(a,b){if(!a)return null;if(a.getName()==b)return a;for(var c=a.getChildren(),d=c.length,e=0;e<d;e++){var f=this.seekWidgetByName(c[e],b);if(null!=f)return f}return null},seekWidgetByRelativeName:function(a,b){if(!a)return null;for(var c=a.getChildren(),d=c.length,e=0;e<d;e++){var f=
c[e],m=f.getLayoutParameter(ccui.LayoutParameter.RELATIVE);if(m&&m.getRelativeName()==b)return f}return null},seekActionWidgetByActionTag:function(a,b){if(!a)return null;if(a.getActionTag()==b)return a;for(var c=a.getChildren(),d=0;d<c.length;d++){var e=this.seekActionWidgetByActionTag(c[d],b);if(null!=e)return e}return null}};ccui.helper;ccui.Button=ccui.Widget.extend({_buttonNormalRenderer:null,_buttonClickedRenderer:null,_buttonDisableRenderer:null,_titleRenderer:null,_normalFileName:"",_clickedFileName:"",_disabledFileName:"",_prevIgnoreSize:!0,_scale9Enabled:!1,_capInsetsNormal:null,_capInsetsPressed:null,_capInsetsDisabled:null,_normalTexType:ccui.Widget.LOCAL_TEXTURE,_pressedTexType:ccui.Widget.LOCAL_TEXTURE,_disabledTexType:ccui.Widget.LOCAL_TEXTURE,_normalTextureSize:null,_pressedTextureSize:null,_disabledTextureSize:null,
pressedActionEnabled:!1,_titleColor:cc.color.WHITE,_normalTextureScaleXInSize:1,_normalTextureScaleYInSize:1,_pressedTextureScaleXInSize:1,_pressedTextureScaleYInSize:1,_normalTextureLoaded:!1,_pressedTextureLoaded:!1,_disabledTextureLoaded:!1,_cascadeOpacityEnabled:!0,_className:"Button",ctor:function(){this._capInsetsNormal=cc.rect(0,0,0,0);this._capInsetsPressed=cc.rect(0,0,0,0);this._capInsetsDisabled=cc.rect(0,0,0,0);var a=this._size;this._normalTextureSize=cc.size(a.width,a.height);this._pressedTextureSize=
cc.size(a.width,a.height);this._disabledTextureSize=cc.size(a.width,a.height);ccui.Widget.prototype.ctor.call(this)},init:function(){return ccui.Widget.prototype.init.call(this)?(this.setTouchEnabled(!0),!0):!1},initRenderer:function(){this._buttonNormalRenderer=cc.Sprite.create();this._buttonClickedRenderer=cc.Sprite.create();this._buttonDisableRenderer=cc.Sprite.create();this._titleRenderer=cc.LabelTTF.create("");cc.Node.prototype.addChild.call(this,this._buttonNormalRenderer,ccui.Button.NORMAL_RENDERER_ZORDER);
cc.Node.prototype.addChild.call(this,this._buttonClickedRenderer,ccui.Button.PRESSED_RENDERER_ZORDER);cc.Node.prototype.addChild.call(this,this._buttonDisableRenderer,ccui.Button.DISABLED_RENDERER_ZORDER);cc.Node.prototype.addChild.call(this,this._titleRenderer,ccui.Button.TITLE_RENDERER_ZORDER)},setScale9Enabled:function(a){this._scale9Enabled!=a&&(this._brightStyle=ccui.Widget.BRIGHT_STYLE_NONE,this._scale9Enabled=a,cc.Node.prototype.removeChild.call(this,this._buttonNormalRenderer,!0),cc.Node.prototype.removeChild.call(this,
this._buttonClickedRenderer,!0),cc.Node.prototype.removeChild.call(this,this._buttonDisableRenderer,!0),this._scale9Enabled?(this._buttonNormalRenderer=cc.Scale9Sprite.create(),this._buttonClickedRenderer=cc.Scale9Sprite.create(),this._buttonDisableRenderer=cc.Scale9Sprite.create()):(this._buttonNormalRenderer=cc.Sprite.create(),this._buttonClickedRenderer=cc.Sprite.create(),this._buttonDisableRenderer=cc.Sprite.create()),this.loadTextureNormal(this._normalFileName,this._normalTexType),this.loadTexturePressed(this._clickedFileName,
this._pressedTexType),this.loadTextureDisabled(this._disabledFileName,this._disabledTexType),cc.Node.prototype.addChild.call(this,this._buttonNormalRenderer,ccui.Button.NORMAL_RENDERER_ZORDER),cc.Node.prototype.addChild.call(this,this._buttonClickedRenderer,ccui.Button.PRESSED_RENDERER_ZORDER),cc.Node.prototype.addChild.call(this,this._buttonDisableRenderer,ccui.Button.DISABLED_RENDERER_ZORDER),this._scale9Enabled?(a=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=a):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),
this.setCapInsetsNormalRenderer(this._capInsetsNormal),this.setCapInsetsPressedRenderer(this._capInsetsPressed),this.setCapInsetsDisabledRenderer(this._capInsetsDisabled),this.setBright(this._bright))},isScale9Enabled:function(){return this._scale9Enabled},ignoreContentAdaptWithSize:function(a){if(!this._scale9Enabled||this._scale9Enabled&&!a)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,a),this._prevIgnoreSize=a},loadTextures:function(a,b,c,d){this.loadTextureNormal(a,d);this.loadTexturePressed(b,
d);this.loadTextureDisabled(c,d)},loadTextureNormal:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._normalFileName=a;this._normalTexType=b;var c=this._buttonNormalRenderer;switch(this._normalTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}var d=c.getContentSize();c.textureLoaded()?(this._normalTextureSize.width=d.width,this._normalTextureSize.height=d.height):(c.addLoadedEventListener(function(){this._normalTextureSize=
c.getContentSize();c.setCapInsets&&c.setCapInsets(this._capInsetsNormal);this.normalTextureScaleChangedWithSize()},this),this._normalTextureSize.width=this._customSize.width,this._normalTextureSize.height=this._customSize.height);this._scale9Enabled&&c.setCapInsets(this._capInsetsNormal);this.updateColorToRenderer(c);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.normalTextureScaleChangedWithSize();this._normalTextureLoaded=!0}},loadTexturePressed:function(a,b){if(a){b=
b||ccui.Widget.LOCAL_TEXTURE;this._clickedFileName=a;this._pressedTexType=b;var c=this._buttonClickedRenderer;switch(this._pressedTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}c.textureLoaded()?this._pressedTextureSize=c.getContentSize():(c.addLoadedEventListener(function(){this._pressedTextureSize=c.getContentSize();c.setCapInsets&&c.setCapInsets(this._capInsetsNormal);this.pressedTextureScaleChangedWithSize()},this),this._pressedTextureSize.width=
this._customSize.width,this._pressedTextureSize.height=this._customSize.height);this._scale9Enabled&&c.setCapInsets(this._capInsetsNormal);this.updateColorToRenderer(c);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.pressedTextureScaleChangedWithSize();this._pressedTextureLoaded=!0}},loadTextureDisabled:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._disabledFileName=a;this._disabledTexType=b;var c=this._buttonDisableRenderer;switch(this._disabledTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);
break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}c.textureLoaded()?this._disabledTextureSize=c.getContentSize():(c.addLoadedEventListener(function(){this._disabledTextureSize=c.getContentSize();c.setCapInsets&&c.setCapInsets(this._capInsetsNormal);this.disabledTextureScaleChangedWithSize()},this),this._disabledTextureSize.width=this._customSize.width,this._disabledTextureSize.height=this._customSize.height);this._scale9Enabled&&c.setCapInsets(this._capInsetsNormal);this.updateColorToRenderer(c);
this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.disabledTextureScaleChangedWithSize();this._disabledTextureLoaded=!0}},setCapInsets:function(a){this.setCapInsetsNormalRenderer(a);this.setCapInsetsPressedRenderer(a);this.setCapInsetsDisabledRenderer(a)},setCapInsetsNormalRenderer:function(a){this._capInsetsNormal=a;this._scale9Enabled&&this._buttonNormalRenderer.setCapInsets(a)},getCapInsetNormalRenderer:function(){return this._capInsetsNormal},setCapInsetsPressedRenderer:function(a){this._capInsetsPressed=
a;this._scale9Enabled&&this._buttonClickedRenderer.setCapInsets(a)},getCapInsetPressedRenderer:function(){return this._capInsetsPressed},setCapInsetsDisabledRenderer:function(a){this._capInsetsDisabled=a;this._scale9Enabled&&this._buttonDisableRenderer.setCapInsets(a)},getCapInsetDisabledRenderer:function(){return this._capInsetsDisabled},onPressStateChangedToNormal:function(){this._buttonNormalRenderer.setVisible(!0);this._buttonClickedRenderer.setVisible(!1);this._buttonDisableRenderer.setVisible(!1);
if(this._pressedTextureLoaded){if(this.pressedActionEnabled){this._buttonNormalRenderer.stopAllActions();this._buttonClickedRenderer.stopAllActions();this._buttonDisableRenderer.stopAllActions();var a=cc.ScaleTo.create(0.05,1),b=cc.ScaleTo.create(0.05,1),c=cc.ScaleTo.create(0.05,1);this._buttonNormalRenderer.runAction(a);this._buttonClickedRenderer.runAction(b);this._buttonDisableRenderer.runAction(c)}}else this._buttonNormalRenderer.stopAllActions(),this._buttonNormalRenderer.setScale(this._normalTextureScaleXInSize,
this._normalTextureScaleYInSize)},onPressStateChangedToPressed:function(){if(this._pressedTextureLoaded){if(this._buttonNormalRenderer.setVisible(!1),this._buttonClickedRenderer.setVisible(!0),this._buttonDisableRenderer.setVisible(!1),this.pressedActionEnabled){this._buttonNormalRenderer.stopAllActions();this._buttonClickedRenderer.stopAllActions();this._buttonDisableRenderer.stopAllActions();var a=cc.ScaleTo.create(0.05,1.1),b=cc.ScaleTo.create(0.05,1.1),c=cc.ScaleTo.create(0.05,1.1);this._buttonNormalRenderer.runAction(a);
this._buttonClickedRenderer.runAction(b);this._buttonDisableRenderer.runAction(c)}}else this._buttonNormalRenderer.setVisible(!0),this._buttonClickedRenderer.setVisible(!0),this._buttonDisableRenderer.setVisible(!1),this._buttonNormalRenderer.stopAllActions(),this._buttonClickedRenderer.setScale(this._pressedTextureScaleXInSize,this._pressedTextureScaleYInSize)},onPressStateChangedToDisabled:function(){this._buttonNormalRenderer.setVisible(!1);this._buttonClickedRenderer.setVisible(!1);this._buttonDisableRenderer.setVisible(!0);
this._buttonNormalRenderer.setScale(this._normalTextureScaleXInSize,this._normalTextureScaleYInSize);this._buttonClickedRenderer.setScale(this._pressedTextureScaleXInSize,this._pressedTextureScaleYInSize)},updateFlippedX:function(){this._titleRenderer.setFlippedX(this._flippedX);this._scale9Enabled?this._flippedX?(this._buttonNormalRenderer.setScaleX(-1),this._buttonClickedRenderer.setScaleX(-1),this._buttonDisableRenderer.setScaleX(-1)):(this._buttonNormalRenderer.setScaleX(1),this._buttonClickedRenderer.setScaleX(1),
this._buttonDisableRenderer.setScaleX(1)):(this._buttonNormalRenderer.setFlippedX(this._flippedX),this._buttonClickedRenderer.setFlippedX(this._flippedX),this._buttonDisableRenderer.setFlippedX(this._flippedX))},updateFlippedY:function(){this._titleRenderer.setFlippedY(this._flippedY);this._scale9Enabled?this._flippedX?(this._buttonNormalRenderer.setScaleY(-1),this._buttonClickedRenderer.setScaleX(-1),this._buttonDisableRenderer.setScaleX(-1)):(this._buttonNormalRenderer.setScaleY(1),this._buttonClickedRenderer.setScaleY(1),
this._buttonDisableRenderer.setScaleY(1)):(this._buttonNormalRenderer.setFlippedY(this._flippedY),this._buttonClickedRenderer.setFlippedY(this._flippedY),this._buttonDisableRenderer.setFlippedY(this._flippedY))},setAnchorPoint:function(a,b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._buttonNormalRenderer.setAnchorPoint(a),this._buttonClickedRenderer.setAnchorPoint(a),this._buttonDisableRenderer.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._buttonNormalRenderer.setAnchorPoint(a,
b),this._buttonClickedRenderer.setAnchorPoint(a,b),this._buttonDisableRenderer.setAnchorPoint(a,b));this._titleRenderer.setPosition(this._size.width*(0.5-this._anchorPoint.x),this._size.height*(0.5-this._anchorPoint.y))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,a);this._buttonNormalRenderer._setAnchorX(a);this._buttonClickedRenderer._setAnchorX(a);this._buttonDisableRenderer._setAnchorX(a);this._titleRenderer.setPositionX(this._size.width*(0.5-this._anchorPoint.x))},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,
a);this._buttonNormalRenderer._setAnchorY(a);this._buttonClickedRenderer._setAnchorY(a);this._buttonDisableRenderer._setAnchorY(a);this._titleRenderer.setPositionY(this._size.height*(0.5-this._anchorPoint.y))},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.normalTextureScaleChangedWithSize();this.pressedTextureScaleChangedWithSize();this.disabledTextureScaleChangedWithSize()},getContentSize:function(){return this._normalTextureSize},_getWidth:function(){return this._scale9Enabled?
this._size.width:this._normalTextureSize.width},_getHeight:function(){return this._scale9Enabled?this._size.height:this._normalTextureSize.height},getVirtualRenderer:function(){if(this._bright)switch(this._brightStyle){case ccui.Widget.BRIGHT_STYLE_NORMAL:return this._buttonNormalRenderer;case ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT:return this._buttonClickedRenderer;default:return null}else return this._buttonDisableRenderer},normalTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||
(this._buttonNormalRenderer.setScale(1),this._normalTextureScaleXInSize=this._normalTextureScaleYInSize=1,this._size.width=this._normalTextureSize.width,this._size.height=this._normalTextureSize.height);else if(this._scale9Enabled)this._buttonNormalRenderer.setPreferredSize(this._size),this._normalTextureScaleXInSize=this._normalTextureScaleYInSize=1;else{var a=this._normalTextureSize;if(0>=a.width||0>=a.height)this._buttonNormalRenderer.setScale(1);else{var b=this._size.width/a.width,a=this._size.height/
a.height;this._buttonNormalRenderer.setScaleX(b);this._buttonNormalRenderer.setScaleY(a);this._normalTextureScaleXInSize=b;this._normalTextureScaleYInSize=a}}},pressedTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||(this._buttonClickedRenderer.setScale(1),this._pressedTextureScaleXInSize=this._pressedTextureScaleYInSize=1);else if(this._scale9Enabled)this._buttonClickedRenderer.setPreferredSize(this._size),this._pressedTextureScaleXInSize=this._pressedTextureScaleYInSize=
1;else{var a=this._pressedTextureSize;if(0>=a.width||0>=a.height)this._buttonClickedRenderer.setScale(1);else{var b=this._size.width/a.width,a=this._size.height/a.height;this._buttonClickedRenderer.setScaleX(b);this._buttonClickedRenderer.setScaleY(a);this._pressedTextureScaleXInSize=b;this._pressedTextureScaleYInSize=a}}},disabledTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||this._buttonDisableRenderer.setScale(1);else if(this._scale9Enabled)this._buttonDisableRenderer.setPreferredSize(this._size);
else{var a=this._disabledTextureSize;if(0>=a.width||0>=a.height)this._buttonDisableRenderer.setScale(1);else{var b=this._size.height/a.height;this._buttonDisableRenderer.setScaleX(this._size.width/a.width);this._buttonDisableRenderer.setScaleY(b)}}},setPressedActionEnabled:function(a){this.pressedActionEnabled=a},setTitleText:function(a){this._titleRenderer.setString(a)},getTitleText:function(){return this._titleRenderer.getString()},setTitleColor:function(a){this._titleColor.r=a.r;this._titleColor.g=
a.g;this._titleColor.b=a.b;this._titleRenderer.setColor(a)},getTitleColor:function(){return this._titleRenderer.getColor()},setTitleFontSize:function(a){this._titleRenderer.setFontSize(a)},getTitleFontSize:function(){return this._titleRenderer.getFontSize()},setTitleFontName:function(a){this._titleRenderer.setFontName(a)},getTitleFontName:function(){return this._titleRenderer.getFontName()},_setTitleFont:function(a){this._titleRenderer.font=a},_getTitleFont:function(){return this._titleRenderer.font},
updateTextureColor:function(){this.updateColorToRenderer(this._buttonNormalRenderer);this.updateColorToRenderer(this._buttonClickedRenderer);this.updateColorToRenderer(this._buttonDisableRenderer)},getDescription:function(){return"Button"},createCloneInstance:function(){return ccui.Button.create()},copySpecialProperties:function(a){this._prevIgnoreSize=a._prevIgnoreSize;this.setScale9Enabled(a._scale9Enabled);this.loadTextureNormal(a._normalFileName,a._normalTexType);this.loadTexturePressed(a._clickedFileName,
a._pressedTexType);this.loadTextureDisabled(a._disabledFileName,a._disabledTexType);this.setCapInsetsNormalRenderer(a._capInsetsNormal);this.setCapInsetsPressedRenderer(a._capInsetsPressed);this.setCapInsetsDisabledRenderer(a._capInsetsDisabled);this.setTitleText(a.getTitleText());this.setTitleFontName(a.getTitleFontName());this.setTitleFontSize(a.getTitleFontSize());this.setTitleColor(a.getTitleColor());this.setPressedActionEnabled(a.pressedActionEnabled)}});_p=ccui.Button.prototype;
cc.defineGetterSetter(_p,"titleText",_p.getTitleText,_p.setTitleText);cc.defineGetterSetter(_p,"titleFont",_p._getTitleFont,_p._setTitleFont);cc.defineGetterSetter(_p,"titleFontSize",_p.getTitleFontSize,_p.setTitleFontSize);cc.defineGetterSetter(_p,"titleFontName",_p.getTitleFontName,_p.setTitleFontName);cc.defineGetterSetter(_p,"titleColor",_p.getTitleColor,_p.setTitleColor);_p=null;ccui.Button.create=function(){return new ccui.Button};ccui.Button.NORMAL_RENDERER_ZORDER=-2;
ccui.Button.PRESSED_RENDERER_ZORDER=-2;ccui.Button.DISABLED_RENDERER_ZORDER=-2;ccui.Button.TITLE_RENDERER_ZORDER=-1;ccui.CheckBox=ccui.Widget.extend({_backGroundBoxRenderer:null,_backGroundSelectedBoxRenderer:null,_frontCrossRenderer:null,_backGroundBoxDisabledRenderer:null,_frontCrossDisabledRenderer:null,_isSelected:!0,_checkBoxEventListener:null,_checkBoxEventSelector:null,_backGroundTexType:ccui.Widget.LOCAL_TEXTURE,_backGroundSelectedTexType:ccui.Widget.LOCAL_TEXTURE,_frontCrossTexType:ccui.Widget.LOCAL_TEXTURE,_backGroundDisabledTexType:ccui.Widget.LOCAL_TEXTURE,_frontCrossDisabledTexType:ccui.Widget.LOCAL_TEXTURE,
_backGroundFileName:"",_backGroundSelectedFileName:"",_frontCrossFileName:"",_backGroundDisabledFileName:"",_frontCrossDisabledFileName:"",_className:"CheckBox",ctor:function(){ccui.Widget.prototype.ctor.call(this)},init:function(){return ccui.Widget.prototype.init.call(this)?(this.setTouchEnabled(!0),this.setSelectedState(!1),!0):!1},initRenderer:function(){this._backGroundBoxRenderer=cc.Sprite.create();this._backGroundSelectedBoxRenderer=cc.Sprite.create();this._frontCrossRenderer=cc.Sprite.create();
this._backGroundBoxDisabledRenderer=cc.Sprite.create();this._frontCrossDisabledRenderer=cc.Sprite.create();cc.Node.prototype.addChild.call(this,this._backGroundBoxRenderer,ccui.CheckBox.BOX_RENDERER_ZORDER,-1);cc.Node.prototype.addChild.call(this,this._backGroundSelectedBoxRenderer,ccui.CheckBox.BOX_SELECTED_RENDERER_ZORDER,-1);cc.Node.prototype.addChild.call(this,this._frontCrossRenderer,ccui.CheckBox.FRONT_CROSS_RENDERER_ZORDER,-1);cc.Node.prototype.addChild.call(this,this._backGroundBoxDisabledRenderer,
ccui.CheckBox.BOX_DISABLED_RENDERER_ZORDER,-1);cc.Node.prototype.addChild.call(this,this._frontCrossDisabledRenderer,ccui.CheckBox.FRONT_CROSS_DISABLED_RENDERER_ZORDER,-1)},loadTextures:function(a,b,c,d,e,f){this.loadTextureBackGround(a,f);this.loadTextureBackGroundSelected(b,f);this.loadTextureFrontCross(c,f);this.loadTextureBackGroundDisabled(d,f);this.loadTextureFrontCrossDisabled(e,f)},loadTextureBackGround:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._backGroundFileName=a;this._backGroundTexType=
b;var c=this._backGroundBoxRenderer;switch(this._backGroundTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}this.updateColorToRenderer(c);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();c.textureLoaded()||(this._backGroundBoxRenderer.setContentSize(this._customSize),c.addLoadedEventListener(function(){this.backGroundTextureScaleChangedWithSize()},this));this.backGroundTextureScaleChangedWithSize()}},loadTextureBackGroundSelected:function(a,
b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._backGroundSelectedFileName=a;this._backGroundSelectedTexType=b;switch(this._backGroundSelectedTexType){case ccui.Widget.LOCAL_TEXTURE:this._backGroundSelectedBoxRenderer.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._backGroundSelectedBoxRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._backGroundSelectedBoxRenderer);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.backGroundSelectedTextureScaleChangedWithSize()}},
loadTextureFrontCross:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._frontCrossFileName=a;this._frontCrossTexType=b;switch(this._frontCrossTexType){case ccui.Widget.LOCAL_TEXTURE:this._frontCrossRenderer.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._frontCrossRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._frontCrossRenderer);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.frontCrossTextureScaleChangedWithSize()}},loadTextureBackGroundDisabled:function(a,
b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._backGroundDisabledFileName=a;this._backGroundDisabledTexType=b;switch(this._backGroundDisabledTexType){case ccui.Widget.LOCAL_TEXTURE:this._backGroundBoxDisabledRenderer.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._backGroundBoxDisabledRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._backGroundBoxDisabledRenderer);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.backGroundDisabledTextureScaleChangedWithSize()}},
loadTextureFrontCrossDisabled:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._frontCrossDisabledFileName=a;this._frontCrossDisabledTexType=b;switch(this._frontCrossDisabledTexType){case ccui.Widget.LOCAL_TEXTURE:this._frontCrossDisabledRenderer.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._frontCrossDisabledRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._frontCrossDisabledRenderer);this.updateAnchorPoint();this.updateFlippedX();this.updateFlippedY();this.frontCrossDisabledTextureScaleChangedWithSize()}},
onTouchEnded:function(a,b){var c=a.getLocation();this._touchEndPos.x=c.x;this._touchEndPos.y=c.y;this._focus&&(this.releaseUpEvent(),this._isSelected?(this.setSelectedState(!1),this.unSelectedEvent()):(this.setSelectedState(!0),this.selectedEvent()));this.setFocused(!1);var d=this.getWidgetParent();d&&d.checkChildInfo(2,this,c)},onPressStateChangedToNormal:function(){this._backGroundBoxRenderer.setVisible(!0);this._backGroundSelectedBoxRenderer.setVisible(!1);this._backGroundBoxDisabledRenderer.setVisible(!1);
this._frontCrossDisabledRenderer.setVisible(!1)},onPressStateChangedToPressed:function(){this._backGroundBoxRenderer.setVisible(!1);this._backGroundSelectedBoxRenderer.setVisible(!0);this._backGroundBoxDisabledRenderer.setVisible(!1);this._frontCrossDisabledRenderer.setVisible(!1)},onPressStateChangedToDisabled:function(){this._backGroundBoxRenderer.setVisible(!1);this._backGroundSelectedBoxRenderer.setVisible(!1);this._backGroundBoxDisabledRenderer.setVisible(!0);this._frontCrossRenderer.setVisible(!1);
this._isSelected&&this._frontCrossDisabledRenderer.setVisible(!0)},setSelectedState:function(a){a!=this._isSelected&&(this._isSelected=a,this._frontCrossRenderer.setVisible(this._isSelected))},getSelectedState:function(){return this._isSelected},selectedEvent:function(){this._checkBoxEventListener&&this._checkBoxEventSelector&&this._checkBoxEventSelector.call(this._checkBoxEventListener,this,ccui.CheckBox.EVENT_SELECTED)},unSelectedEvent:function(){this._checkBoxEventListener&&this._checkBoxEventSelector&&
this._checkBoxEventSelector.call(this._checkBoxEventListener,this,ccui.CheckBox.EVENT_UNSELECTED)},addEventListenerCheckBox:function(a,b){this._checkBoxEventSelector=a;this._checkBoxEventListener=b},updateFlippedX:function(){this._backGroundBoxRenderer.setFlippedX(this._flippedX);this._backGroundSelectedBoxRenderer.setFlippedX(this._flippedX);this._frontCrossRenderer.setFlippedX(this._flippedX);this._backGroundBoxDisabledRenderer.setFlippedX(this._flippedX);this._frontCrossDisabledRenderer.setFlippedX(this._flippedX)},
updateFlippedY:function(){this._backGroundBoxRenderer.setFlippedY(this._flippedY);this._backGroundSelectedBoxRenderer.setFlippedY(this._flippedY);this._frontCrossRenderer.setFlippedY(this._flippedY);this._backGroundBoxDisabledRenderer.setFlippedY(this._flippedY);this._frontCrossDisabledRenderer.setFlippedY(this._flippedY)},setAnchorPoint:function(a,b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._backGroundBoxRenderer.setAnchorPoint(a),this._backGroundSelectedBoxRenderer.setAnchorPoint(a),
this._backGroundBoxDisabledRenderer.setAnchorPoint(a),this._frontCrossRenderer.setAnchorPoint(a),this._frontCrossDisabledRenderer.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._backGroundBoxRenderer.setAnchorPoint(a,b),this._backGroundSelectedBoxRenderer.setAnchorPoint(a,b),this._backGroundBoxDisabledRenderer.setAnchorPoint(a,b),this._frontCrossRenderer.setAnchorPoint(a,b),this._frontCrossDisabledRenderer.setAnchorPoint(a,b))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,
a);this._backGroundBoxRenderer._setAnchorX(a);this._backGroundSelectedBoxRenderer._setAnchorX(a);this._backGroundBoxDisabledRenderer._setAnchorX(a);this._frontCrossRenderer._setAnchorX(a);this._frontCrossDisabledRenderer._setAnchorX(a)},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,a);this._backGroundBoxRenderer._setAnchorY(a);this._backGroundSelectedBoxRenderer._setAnchorY(a);this._backGroundBoxDisabledRenderer._setAnchorY(a);this._frontCrossRenderer._setAnchorY(a);this._frontCrossDisabledRenderer._setAnchorY(a)},
onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.backGroundTextureScaleChangedWithSize();this.backGroundSelectedTextureScaleChangedWithSize();this.frontCrossTextureScaleChangedWithSize();this.backGroundDisabledTextureScaleChangedWithSize();this.frontCrossDisabledTextureScaleChangedWithSize()},getContentSize:function(){return this._backGroundBoxRenderer.getContentSize()},_getWidth:function(){return this._backGroundBoxRenderer._getWidth()},_getHeight:function(){return this._backGroundBoxRenderer._getHeight()},
getVirtualRenderer:function(){return this._backGroundBoxRenderer},backGroundTextureScaleChangedWithSize:function(){if(this._ignoreSize){this._backGroundBoxRenderer.setScale(1);var a=this._backGroundBoxRenderer.getContentSize();this._size.width=a.width;this._size.height=a.height}else if(a=this._backGroundBoxRenderer.getContentSize(),0>=a.width||0>=a.height)this._backGroundBoxRenderer.setScale(1);else{var b=this._size.height/a.height;this._backGroundBoxRenderer.setScaleX(this._size.width/a.width);this._backGroundBoxRenderer.setScaleY(b)}},
backGroundSelectedTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._backGroundSelectedBoxRenderer.setScale(1);else{var a=this._backGroundSelectedBoxRenderer.getContentSize();if(0>=a.width||0>=a.height)this._backGroundSelectedBoxRenderer.setScale(1);else{var b=this._size.height/a.height;this._backGroundSelectedBoxRenderer.setScaleX(this._size.width/a.width);this._backGroundSelectedBoxRenderer.setScaleY(b)}}},frontCrossTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._frontCrossRenderer.setScale(1);
else{var a=this._frontCrossRenderer.getContentSize();if(0>=a.width||0>=a.height)this._frontCrossRenderer.setScale(1);else{var b=this._size.height/a.height;this._frontCrossRenderer.setScaleX(this._size.width/a.width);this._frontCrossRenderer.setScaleY(b)}}},backGroundDisabledTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._backGroundBoxDisabledRenderer.setScale(1);else{var a=this._backGroundBoxDisabledRenderer.getContentSize();if(0>=a.width||0>=a.height)this._backGroundBoxDisabledRenderer.setScale(1);
else{var b=this._size.height/a.height;this._backGroundBoxDisabledRenderer.setScaleX(this._size.width/a.width);this._backGroundBoxDisabledRenderer.setScaleY(b)}}},frontCrossDisabledTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._frontCrossDisabledRenderer.setScale(1);else{var a=this._frontCrossDisabledRenderer.getContentSize();if(0>=a.width||0>=a.height)this._frontCrossDisabledRenderer.setScale(1);else{var b=this._size.height/a.height;this._frontCrossDisabledRenderer.setScaleX(this._size.width/
a.width);this._frontCrossDisabledRenderer.setScaleY(b)}}},updateTextureColor:function(){this.updateColorToRenderer(this._backGroundBoxRenderer);this.updateColorToRenderer(this._backGroundSelectedBoxRenderer);this.updateColorToRenderer(this._frontCrossRenderer);this.updateColorToRenderer(this._backGroundBoxDisabledRenderer);this.updateColorToRenderer(this._frontCrossDisabledRenderer)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._backGroundBoxRenderer);this.updateOpacityToRenderer(this._backGroundSelectedBoxRenderer);
this.updateOpacityToRenderer(this._frontCrossRenderer);this.updateOpacityToRenderer(this._backGroundBoxDisabledRenderer);this.updateOpacityToRenderer(this._frontCrossDisabledRenderer)},getDescription:function(){return"CheckBox"},createCloneInstance:function(){return ccui.CheckBox.create()},copySpecialProperties:function(a){this.loadTextureBackGround(a._backGroundFileName,a._backGroundTexType);this.loadTextureBackGroundSelected(a._backGroundSelectedFileName,a._backGroundSelectedTexType);this.loadTextureFrontCross(a._frontCrossFileName,
a._frontCrossTexType);this.loadTextureBackGroundDisabled(a._backGroundDisabledFileName,a._backGroundDisabledTexType);this.loadTextureFrontCrossDisabled(a._frontCrossDisabledFileName,a._frontCrossDisabledTexType);this.setSelectedState(a._isSelected)}});_p=ccui.CheckBox.prototype;cc.defineGetterSetter(_p,"selected",_p.getSelectedState,_p.setSelectedState);_p=null;ccui.CheckBox.create=function(){return new ccui.CheckBox};ccui.CheckBox.EVENT_SELECTED=0;ccui.CheckBox.EVENT_UNSELECTED=1;
ccui.CheckBox.BOX_RENDERER_ZORDER=-1;ccui.CheckBox.BOX_SELECTED_RENDERER_ZORDER=-1;ccui.CheckBox.BOX_DISABLED_RENDERER_ZORDER=-1;ccui.CheckBox.FRONT_CROSS_RENDERER_ZORDER=-1;ccui.CheckBox.FRONT_CROSS_DISABLED_RENDERER_ZORDER=-1;ccui.ImageView=ccui.Widget.extend({_scale9Enabled:!1,_prevIgnoreSize:!0,_capInsets:null,_imageRenderer:null,_textureFile:"",_imageTexType:ccui.Widget.LOCAL_TEXTURE,_imageTextureSize:null,_className:"ImageView",ctor:function(){this._capInsets=cc.rect(0,0,0,0);this._imageTextureSize=cc.size(this._size.width,this._size.height);ccui.Widget.prototype.ctor.call(this)},initRenderer:function(){this._imageRenderer=cc.Sprite.create();cc.Node.prototype.addChild.call(this,this._imageRenderer,ccui.ImageView.RENDERER_ZORDER,
-1)},loadTexture:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._textureFile=a;this._imageTexType=b;var c=this._imageRenderer;switch(this._imageTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}var d=c.getContentSize();c.textureLoaded()?(this._imageTextureSize.width=this._customSize.width?this._customSize.width:d.width,this._imageTextureSize.height=this._customSize.height?this._customSize.height:d.height):(c.addLoadedEventListener(function(){var a=
c.getContentSize();this._imageTextureSize.width=this._customSize.width?this._customSize.width:a.width;this._imageTextureSize.height=this._customSize.height?this._customSize.height:a.height;c.setCapInsets&&c.setCapInsets(this._capInsets);this.imageTextureScaleChangedWithSize()},this),this._imageTextureSize.width=this._customSize.width,this._imageTextureSize.height=this._customSize.height);this._scale9Enabled&&c.setCapInsets(this._capInsets);this.updateColorToRenderer(c);this.updateAnchorPoint();this.updateFlippedX();
this.updateFlippedY();this.imageTextureScaleChangedWithSize()}},setTextureRect:function(a){this._scale9Enabled||(this._imageRenderer.setTextureRect(a),a=this._imageRenderer.getContentSize(),this._imageTextureSize.width=a.width,this._imageTextureSize.height=a.height,this.imageTextureScaleChangedWithSize())},updateFlippedX:function(){this._scale9Enabled?this._imageRenderer.setScaleX(this._flippedX?-1:1):this._imageRenderer.setFlippedX(this._flippedX)},updateFlippedY:function(){this._scale9Enabled?this._imageRenderer.setScaleY(this._flippedY?
-1:1):this._imageRenderer.setFlippedY(this._flippedY)},setScale9Enabled:function(a){this._scale9Enabled!=a&&(this._scale9Enabled=a,cc.Node.prototype.removeChild.call(this,this._imageRenderer,!0),this._imageRenderer=null,this._imageRenderer=this._scale9Enabled?cc.Scale9Sprite.create():cc.Sprite.create(),this.loadTexture(this._textureFile,this._imageTexType),cc.Node.prototype.addChild.call(this,this._imageRenderer,ccui.ImageView.RENDERER_ZORDER,-1),this._scale9Enabled?(a=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),
this._prevIgnoreSize=a):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),this.setCapInsets(this._capInsets))},isScale9Enabled:function(){return this._scale9Enabled},ignoreContentAdaptWithSize:function(a){if(!this._scale9Enabled||this._scale9Enabled&&!a)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,a),this._prevIgnoreSize=a},setCapInsets:function(a){this._capInsets=a;this._scale9Enabled&&this._imageRenderer.setCapInsets(a)},getCapInsets:function(){return this._capInsets},setAnchorPoint:function(a,
b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._imageRenderer.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._imageRenderer.setAnchorPoint(a,b))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,a);this._imageRenderer._setAnchorX(a)},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,a);this._imageRenderer._setAnchorY(a)},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.imageTextureScaleChangedWithSize()},
getContentSize:function(){return this._imageTextureSize},_getWidth:function(){return this._imageTextureSize.width},_getHeight:function(){return this._imageTextureSize.height},getVirtualRenderer:function(){return this._imageRenderer},imageTextureScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||(this._imageRenderer.setScale(1),this._size=this._imageTextureSize);else if(this._scale9Enabled)this._imageRenderer.setPreferredSize(this._size);else{var a=this._imageRenderer.getContentSize();
if(0>=a.width||0>=a.height)this._imageRenderer.setScale(1);else{var b=this._size.height/a.height;this._imageRenderer.setScaleX(this._size.width/a.width);this._imageRenderer.setScaleY(b)}}},updateTextureColor:function(){this.updateColorToRenderer(this._imageRenderer)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._imageRenderer)},getDescription:function(){return"ImageView"},createCloneInstance:function(){return ccui.ImageView.create()},copySpecialProperties:function(a){this._prevIgnoreSize=
a._prevIgnoreSize;this.setScale9Enabled(a._scale9Enabled);this.loadTexture(a._textureFile,a._imageTexType);this.setCapInsets(a._capInsets)}});ccui.ImageView.create=function(){return new ccui.ImageView};ccui.ImageView.RENDERER_ZORDER=-1;ccui.LoadingBar=ccui.Widget.extend({_barType:null,_percent:100,_totalLength:0,_barRenderer:null,_renderBarTexType:ccui.Widget.LOCAL_TEXTURE,_barRendererTextureSize:null,_scale9Enabled:!1,_prevIgnoreSize:!0,_capInsets:null,_textureFile:"",_isTextureLoaded:!1,_className:"LoadingBar",ctor:function(){this._barType=ccui.LoadingBar.TYPE_LEFT;this._barRendererTextureSize=cc.size(0,0);this._capInsets=cc.rect(0,0,0,0);ccui.Widget.prototype.ctor.call(this)},initRenderer:function(){this._barRenderer=cc.Sprite.create();
cc.Node.prototype.addChild.call(this,this._barRenderer,ccui.LoadingBar.RENDERER_ZORDER,-1);this._barRenderer.setAnchorPoint(0,0.5)},setDirection:function(a){if(this._barType!=a)switch(this._barType=a,this._barType){case ccui.LoadingBar.TYPE_LEFT:this._barRenderer.setAnchorPoint(0,0.5);this._barRenderer.setPosition(0.5*-this._totalLength,0);this._scale9Enabled||this._barRenderer.setFlippedX(!1);break;case ccui.LoadingBar.TYPE_RIGHT:this._barRenderer.setAnchorPoint(1,0.5),this._barRenderer.setPosition(0.5*
this._totalLength,0),this._scale9Enabled||this._barRenderer.setFlippedX(!0)}},getDirection:function(){return this._barType},loadTexture:function(a,b){if(a){this._renderBarTexType=b=b||ccui.Widget.LOCAL_TEXTURE;this._textureFile=a;var c=this._barRenderer;switch(this._renderBarTexType){case ccui.Widget.LOCAL_TEXTURE:this._scale9Enabled?c.initWithFile(a):c.init(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}this._scale9Enabled&&c.setCapInsets(this._capInsets);this.updateColorToRenderer(c);
var d=c.textureLoaded();(this._isTextureLoaded=d)?(d=c.getContentSize(),this._barRendererTextureSize.width=d.width,this._barRendererTextureSize.height=d.height):(this._barRendererTextureSize.width=this._customSize.width,this._barRendererTextureSize.height=this._customSize.height,c.addLoadedEventListener(function(){this._isTextureLoaded=!0;c.setCapInsets&&c.setCapInsets(this._capInsets);var a=c.getContentSize();this._barRendererTextureSize.width=a.width;this._barRendererTextureSize.height=a.height;
this.barRendererScaleChangedWithSize();this.setPercent(this._percent)},this));switch(this._barType){case ccui.LoadingBar.TYPE_LEFT:c.setAnchorPoint(0,0.5);this._scale9Enabled||c.setFlippedX(!1);break;case ccui.LoadingBar.TYPE_RIGHT:c.setAnchorPoint(1,0.5),this._scale9Enabled||c.setFlippedX(!0)}this.barRendererScaleChangedWithSize()}},setScale9Enabled:function(a){this._scale9Enabled!=a&&(this._scale9Enabled=a,cc.Node.prototype.removeChild.call(this,this._barRenderer,!0),this._barRenderer=null,this._barRenderer=
this._scale9Enabled?cc.Scale9Sprite.create():cc.Sprite.create(),this.loadTexture(this._textureFile,this._renderBarTexType),cc.Node.prototype.addChild.call(this,this._barRenderer,ccui.LoadingBar.RENDERER_ZORDER,-1),this._scale9Enabled?(a=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=a):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),this.setCapInsets(this._capInsets),this.setPercent(this._percent))},isScale9Enabled:function(){return this._scale9Enabled},setCapInsets:function(a){this._capInsets=
a;this._scale9Enabled&&this._barRenderer.setCapInsets(a)},getCapInsets:function(){return this._capInsets},setPercent:function(a){if(!(0>a||100<a)&&!(0>=this._totalLength))if(this._percent=a,this._isTextureLoaded){a=this._percent/100;var b=0,c=0;if(this._renderBarTexType==ccui.Widget.PLIST_TEXTURE){var d=this._barRenderer;d&&(c=d.getTextureRect(),b=c.x,c=c.y)}this._scale9Enabled?this.setScale9Scale():this._barRenderer.setTextureRect(cc.rect(b,c,this._barRendererTextureSize.width*a,this._barRendererTextureSize.height))}},
getPercent:function(){return this._percent},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.barRendererScaleChangedWithSize()},ignoreContentAdaptWithSize:function(a){if(!this._scale9Enabled||this._scale9Enabled&&!a)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,a),this._prevIgnoreSize=a},getContentSize:function(){return this._barRendererTextureSize},_getWidth:function(){return this._barRendererTextureSize.width},_getHeight:function(){return this._barRendererTextureSize.height},
getVirtualRenderer:function(){return this._barRenderer},barRendererScaleChangedWithSize:function(){if(this._ignoreSize)this._scale9Enabled||(this._totalLength=this._barRendererTextureSize.width,this._barRenderer.setScale(1),this._size.width=this._barRendererTextureSize.width,this._size.height=this._barRendererTextureSize.height);else if(this._totalLength=this._size.width,this._scale9Enabled)this.setScale9Scale();else{var a=this._barRendererTextureSize;if(0>=a.width||0>=a.height){this._barRenderer.setScale(1);
return}var b=this._size.height/a.height;this._barRenderer.setScaleX(this._size.width/a.width);this._barRenderer.setScaleY(b)}switch(this._barType){case ccui.LoadingBar.TYPE_LEFT:this._barRenderer.setPosition(0.5*-this._totalLength,0);break;case ccui.LoadingBar.TYPE_RIGHT:this._barRenderer.setPosition(0.5*this._totalLength,0)}},setScale9Scale:function(){this._barRenderer.setPreferredSize(cc.size(this._percent/100*this._totalLength,this._size.height))},updateTextureColor:function(){this.updateColorToRenderer(this._barRenderer)},
updateTextureOpacity:function(){this.updateOpacityToRenderer(this._barRenderer)},getDescription:function(){return"LoadingBar"},createCloneInstance:function(){return ccui.LoadingBar.create()},copySpecialProperties:function(a){this._prevIgnoreSize=a._prevIgnoreSize;this.setScale9Enabled(a._scale9Enabled);this.loadTexture(a._textureFile,a._renderBarTexType);this.setCapInsets(a._capInsets);this.setPercent(a._percent);this.setDirection(a._barType)}});_p=ccui.LoadingBar.prototype;
cc.defineGetterSetter(_p,"direction",_p.getDirection,_p.setDirection);cc.defineGetterSetter(_p,"percent",_p.getPercent,_p.setPercent);_p=null;ccui.LoadingBar.create=function(){return new ccui.LoadingBar};ccui.LoadingBar.TYPE_LEFT=0;ccui.LoadingBar.TYPE_RIGHT=1;ccui.LoadingBar.RENDERER_ZORDER=-1;ccui.Slider=ccui.Widget.extend({_barRenderer:null,_progressBarRenderer:null,_progressBarTextureSize:null,_slidBallNormalRenderer:null,_slidBallPressedRenderer:null,_slidBallDisabledRenderer:null,_slidBallRenderer:null,_barLength:0,_percent:0,_scale9Enabled:!1,_prevIgnoreSize:!0,_textureFile:"",_progressBarTextureFile:"",_slidBallNormalTextureFile:"",_slidBallPressedTextureFile:"",_slidBallDisabledTextureFile:"",_capInsetsBarRenderer:null,_capInsetsProgressBarRenderer:null,_sliderEventListener:null,
_sliderEventSelector:null,_barTexType:ccui.Widget.LOCAL_TEXTURE,_progressBarTexType:ccui.Widget.LOCAL_TEXTURE,_ballNTexType:ccui.Widget.LOCAL_TEXTURE,_ballPTexType:ccui.Widget.LOCAL_TEXTURE,_ballDTexType:ccui.Widget.LOCAL_TEXTURE,_isTextureLoaded:!1,_className:"Slider",ctor:function(){this._progressBarTextureSize=cc.size(0,0);this._capInsetsBarRenderer=cc.rect(0,0,0,0);this._capInsetsProgressBarRenderer=cc.rect(0,0,0,0);ccui.Widget.prototype.ctor.call(this)},init:function(){return ccui.Widget.prototype.init.call(this)?
(this.setTouchEnabled(!0),!0):!1},initRenderer:function(){this._barRenderer=cc.Sprite.create();this._progressBarRenderer=cc.Sprite.create();this._progressBarRenderer.setAnchorPoint(0,0.5);cc.Node.prototype.addChild.call(this,this._barRenderer,ccui.Slider.BASEBAR_RENDERER_ZORDER,-1);cc.Node.prototype.addChild.call(this,this._progressBarRenderer,ccui.Slider.PROGRESSBAR_RENDERER_ZORDER,-1);this._slidBallNormalRenderer=cc.Sprite.create();this._slidBallPressedRenderer=cc.Sprite.create();this._slidBallPressedRenderer.setVisible(!1);
this._slidBallDisabledRenderer=cc.Sprite.create();this._slidBallDisabledRenderer.setVisible(!1);this._slidBallRenderer=cc.Node.create();this._slidBallRenderer.addChild(this._slidBallNormalRenderer);this._slidBallRenderer.addChild(this._slidBallPressedRenderer);this._slidBallRenderer.addChild(this._slidBallDisabledRenderer);cc.Node.prototype.addChild.call(this,this._slidBallRenderer,ccui.Slider.BALL_RENDERER_ZORDER,-1)},loadBarTexture:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._textureFile=
a;this._barTexType=b;var c=this._barRenderer;switch(this._barTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}this.updateColorToRenderer(c);this.barRendererScaleChangedWithSize();c.textureLoaded()||c.addLoadedEventListener(function(){this.barRendererScaleChangedWithSize()},this)}},loadProgressBarTexture:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._progressBarTextureFile=a;this._progressBarTexType=b;var c=this._progressBarRenderer;
switch(this._progressBarTexType){case ccui.Widget.LOCAL_TEXTURE:c.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:c.initWithSpriteFrameName(a)}this.updateColorToRenderer(c);c.setAnchorPoint(0,0.5);var d=c.getContentSize();this._progressBarTextureSize.width=d.width;this._progressBarTextureSize.height=d.height;this.progressBarRendererScaleChangedWithSize();(this._isTextureLoaded=d=c.textureLoaded())||c.addLoadedEventListener(function(){this._isTextureLoaded=!0;var a=c.getContentSize();this._progressBarTextureSize.width=
a.width;this._progressBarTextureSize.height=a.height;this.progressBarRendererScaleChangedWithSize()},this)}},setScale9Enabled:function(a){this._scale9Enabled!=a&&(this._scale9Enabled=a,cc.Node.prototype.removeChild.call(this,this._barRenderer,!0),cc.Node.prototype.removeChild.call(this,this._progressBarRenderer,!0),this._progressBarRenderer=this._barRenderer=null,this._scale9Enabled?(this._barRenderer=cc.Scale9Sprite.create(),this._progressBarRenderer=cc.Scale9Sprite.create()):(this._barRenderer=
cc.Sprite.create(),this._progressBarRenderer=cc.Sprite.create()),this.loadBarTexture(this._textureFile,this._barTexType),this.loadProgressBarTexture(this._progressBarTextureFile,this._progressBarTexType),cc.Node.prototype.addChild.call(this,this._barRenderer,ccui.Slider.BASEBAR_RENDERER_ZORDER,-1),cc.Node.prototype.addChild.call(this,this._progressBarRenderer,ccui.Slider.PROGRESSBAR_RENDERER_ZORDER,-1),this._scale9Enabled?(a=this._ignoreSize,this.ignoreContentAdaptWithSize(!1),this._prevIgnoreSize=
a):this.ignoreContentAdaptWithSize(this._prevIgnoreSize),this.setCapInsetsBarRenderer(this._capInsetsBarRenderer),this.setCapInsetProgressBarRenderer(this._capInsetsProgressBarRenderer))},isScale9Enabled:function(){return this._scale9Enabled},ignoreContentAdaptWithSize:function(a){if(!this._scale9Enabled||this._scale9Enabled&&!a)ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,a),this._prevIgnoreSize=a},setCapInsets:function(a){this.setCapInsetsBarRenderer(a);this.setCapInsetProgressBarRenderer(a)},
setCapInsetsBarRenderer:function(a){this._capInsetsBarRenderer=a;this._scale9Enabled&&this._barRenderer.setCapInsets(a)},getCapInsetBarRenderer:function(){return this._capInsetsBarRenderer},setCapInsetProgressBarRenderer:function(a){this._capInsetsProgressBarRenderer=a;this._scale9Enabled&&this._progressBarRenderer.setCapInsets(a)},getCapInsetProgressBarRenderer:function(){return this._capInsetsProgressBarRenderer},loadSlidBallTextures:function(a,b,c,d){this.loadSlidBallTextureNormal(a,d);this.loadSlidBallTexturePressed(b,
d);this.loadSlidBallTextureDisabled(c,d)},loadSlidBallTextureNormal:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._slidBallNormalTextureFile=a;this._ballNTexType=b;switch(this._ballNTexType){case ccui.Widget.LOCAL_TEXTURE:this._slidBallNormalRenderer.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._slidBallNormalRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._slidBallNormalRenderer)}},loadSlidBallTexturePressed:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;
this._slidBallPressedTextureFile=a;this._ballPTexType=b;switch(this._ballPTexType){case ccui.Widget.LOCAL_TEXTURE:this._slidBallPressedRenderer.initWithFile(a);break;case ccui.Widget.PLIST_TEXTURE:this._slidBallPressedRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._slidBallPressedRenderer)}},loadSlidBallTextureDisabled:function(a,b){if(a){b=b||ccui.Widget.LOCAL_TEXTURE;this._slidBallDisabledTextureFile=a;this._ballDTexType=b;switch(this._ballDTexType){case ccui.Widget.LOCAL_TEXTURE:this._slidBallDisabledRenderer.initWithFile(a);
break;case ccui.Widget.PLIST_TEXTURE:this._slidBallDisabledRenderer.initWithSpriteFrameName(a)}this.updateColorToRenderer(this._slidBallDisabledRenderer)}},setPercent:function(a){100<a&&(a=100);0>a&&(a=0);this._percent=a;if(this._isTextureLoaded){var b=this._barLength*(a/100);this._slidBallRenderer.setPosition(-this._barLength/2+b,0);if(this._scale9Enabled)this._progressBarRenderer.setPreferredSize(cc.size(b,this._progressBarTextureSize.height));else{var c=b=0;if(this._progressBarTexType==ccui.Widget.PLIST_TEXTURE){var d=
this._progressBarRenderer;d&&(c=d.getTextureRect(),b=c.x,c=c.y)}this._progressBarRenderer.setTextureRect(cc.rect(b,c,this._progressBarTextureSize.width*(a/100),this._progressBarTextureSize.height))}}},onTouchBegan:function(a,b){var c=ccui.Widget.prototype.onTouchBegan.call(this,a,b);if(this._hitted){var d=this.convertToNodeSpace(this._touchStartPos);this.setPercent(this.getPercentWithBallPos(d.x));this.percentChangedEvent()}return c},onTouchMoved:function(a,b){var c=a.getLocation();this._touchMovePos.x=
c.x;this._touchMovePos.y=c.y;c=this.convertToNodeSpace(c);this._slidBallRenderer.setPosition(c.x,0);this.setPercent(this.getPercentWithBallPos(c.x));this.percentChangedEvent()},onTouchEnded:function(a,b){ccui.Widget.prototype.onTouchEnded.call(this,a,b)},onTouchCancelled:function(a,b){ccui.Widget.prototype.onTouchCancelled.call(this,a,b)},getPercentWithBallPos:function(a){return 100*((a- -this._barLength/2)/this._barLength)},addEventListenerSlider:function(a,b){this._sliderEventSelector=a;this._sliderEventListener=
b},percentChangedEvent:function(){this._sliderEventListener&&this._sliderEventSelector&&this._sliderEventSelector.call(this._sliderEventListener,this,ccui.Slider.EVENT_PERCENT_CHANGED)},getPercent:function(){return this._percent},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.barRendererScaleChangedWithSize();this.progressBarRendererScaleChangedWithSize()},getContentSize:function(){var a=this._barRenderer.getContentSize();return cc.size(a.width,a.height)},_getWidth:function(){return this._barRenderer._getWidth()},
_getHeight:function(){return this._barRenderer._getHeight()},getVirtualRenderer:function(){return this._barRenderer},barRendererScaleChangedWithSize:function(){if(this._ignoreSize){this._barRenderer.setScale(1);var a=this._barRenderer.getContentSize();this._size.width=a.width;this._size.height=a.height;this._barLength=a.width}else if(this._barLength=this._size.width,this._scale9Enabled)this._barRenderer.setPreferredSize(cc.size(this._size.width,this._size.height));else{a=this._barRenderer.getContentSize();
if(0>=a.width||0>=a.height){this._barRenderer.setScale(1);return}var b=this._size.height/a.height;this._barRenderer.setScaleX(this._size.width/a.width);this._barRenderer.setScaleY(b)}this.setPercent(this._percent)},progressBarRendererScaleChangedWithSize:function(){if(this._ignoreSize){if(!this._scale9Enabled){var a=this._progressBarTextureSize,b=this._size.width/a.width,a=this._size.height/a.height;this._progressBarRenderer.setScaleX(b);this._progressBarRenderer.setScaleY(a)}}else if(this._scale9Enabled)this._progressBarRenderer.setPreferredSize(cc.size(this._size.width,
this._size.height));else{a=this._progressBarTextureSize;if(0>=a.width||0>=a.height){this._progressBarRenderer.setScale(1);return}b=this._size.width/a.width;a=this._size.height/a.height;this._progressBarRenderer.setScaleX(b);this._progressBarRenderer.setScaleY(a)}this._progressBarRenderer.setPosition(0.5*-this._barLength,0);this.setPercent(this._percent)},onPressStateChangedToNormal:function(){this._slidBallNormalRenderer.setVisible(!0);this._slidBallPressedRenderer.setVisible(!1);this._slidBallDisabledRenderer.setVisible(!1)},
onPressStateChangedToPressed:function(){this._slidBallNormalRenderer.setVisible(!1);this._slidBallPressedRenderer.setVisible(!0);this._slidBallDisabledRenderer.setVisible(!1)},onPressStateChangedToDisabled:function(){this._slidBallNormalRenderer.setVisible(!1);this._slidBallPressedRenderer.setVisible(!1);this._slidBallDisabledRenderer.setVisible(!0)},updateTextureColor:function(){this.updateColorToRenderer(this._barRenderer);this.updateColorToRenderer(this._progressBarRenderer);this.updateColorToRenderer(this._slidBallNormalRenderer);
this.updateColorToRenderer(this._slidBallPressedRenderer);this.updateColorToRenderer(this._slidBallDisabledRenderer)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._barRenderer);this.updateOpacityToRenderer(this._progressBarRenderer);this.updateOpacityToRenderer(this._slidBallNormalRenderer);this.updateOpacityToRenderer(this._slidBallPressedRenderer);this.updateOpacityToRenderer(this._slidBallDisabledRenderer)},getDescription:function(){return"Slider"},createCloneInstance:function(){return ccui.Slider.create()},
copySpecialProperties:function(a){this._prevIgnoreSize=a._prevIgnoreSize;this.setScale9Enabled(a._scale9Enabled);this.loadBarTexture(a._textureFile,a._barTexType);this.loadProgressBarTexture(a._progressBarTextureFile,a._progressBarTexType);this.loadSlidBallTextureNormal(a._slidBallNormalTextureFile,a._ballNTexType);this.loadSlidBallTexturePressed(a._slidBallPressedTextureFile,a._ballPTexType);this.loadSlidBallTextureDisabled(a._slidBallDisabledTextureFile,a._ballDTexType);this.setPercent(a.getPercent())}});
_p=ccui.Slider.prototype;cc.defineGetterSetter(_p,"percent",_p.getPercent,_p.setPercent);_p=null;ccui.Slider.create=function(){return new ccui.Slider};ccui.Slider.EVENT_PERCENT_CHANGED=0;ccui.Slider.BASEBAR_RENDERER_ZORDER=-3;ccui.Slider.PROGRESSBAR_RENDERER_ZORDER=-2;ccui.Slider.BALL_RENDERER_ZORDER=-1;ccui.Text=ccui.Widget.extend({touchScaleEnabled:!1,_normalScaleValueX:0,_normalScaleValueY:0,_fontName:"Thonburi",_fontSize:10,_onSelectedScaleOffset:0.5,_labelRenderer:"",_textAreaSize:null,_textVerticalAlignment:0,_textHorizontalAlignment:0,_className:"Text",ctor:function(){this._textAreaSize=cc.size(0,0);ccui.Widget.prototype.ctor.call(this)},init:function(){return ccui.Widget.prototype.init.call(this)?!0:!1},initRenderer:function(){this._labelRenderer=cc.LabelTTF.create();cc.Node.prototype.addChild.call(this,
this._labelRenderer,ccui.Text.RENDERER_ZORDER,-1)},setText:function(a){cc.log("Please use the setString");this._labelRenderer.setString(a);this.labelScaleChangedWithSize()},setString:function(a){this._labelRenderer.setString(a);this.labelScaleChangedWithSize()},getStringValue:function(){cc.log("Please use the getString");return this._labelRenderer.getString()},getString:function(){return this._labelRenderer.getString()},getStringLength:function(){return this._labelRenderer.getString().length},setFontSize:function(a){this._fontSize=
a;this._labelRenderer.setFontSize(a);this.labelScaleChangedWithSize()},getFontSize:function(){return this._fontSize},setFontName:function(a){this._fontName=a;this._labelRenderer.setFontName(a);this.labelScaleChangedWithSize()},getFontName:function(){return this._fontName},_setFont:function(a){var b=cc.LabelTTF._fontStyleRE.exec(a);b&&(this._fontSize=parseInt(b[1]),this._fontName=b[2],this._labelRenderer._setFont(a),this.labelScaleChangedWithSize())},_getFont:function(){return this._labelRenderer._getFont()},
setTextAreaSize:function(a){this._textAreaSize.width=a.width;this._textAreaSize.height=a.height;this._labelRenderer.setDimensions(a);this.labelScaleChangedWithSize()},_setBoundingWidth:function(a){this._textAreaSize.width=a;this._labelRenderer._setBoundingWidth(a);this.labelScaleChangedWithSize()},_setBoundingHeight:function(a){this._textAreaSize.height=a;this._labelRenderer._setBoundingHeight(a);this.labelScaleChangedWithSize()},_getBoundingWidth:function(){return this._textAreaSize.width},_getBoundingHeight:function(){return this._textAreaSize.height},
setTextHorizontalAlignment:function(a){this._textHorizontalAlignment=a;this._labelRenderer.setHorizontalAlignment(a);this.labelScaleChangedWithSize()},getTextHorizontalAlignment:function(){return this._textHorizontalAlignment},setTextVerticalAlignment:function(a){this._textVerticalAlignment=a;this._labelRenderer.setVerticalAlignment(a);this.labelScaleChangedWithSize()},getTextVerticalAlignment:function(){return this._textVerticalAlignment},getTouchScaleChangeAble:function(){return this.isTouchScaleChangeEnabled()},
setTouchScaleChangeEnabled:function(a){this.touchScaleEnabled=a},isTouchScaleChangeEnabled:function(){return this.touchScaleEnabled},onPressStateChangedToNormal:function(){this.touchScaleEnabled&&(this._labelRenderer.setScaleX(this._normalScaleValueX),this._labelRenderer.setScaleY(this._normalScaleValueY))},onPressStateChangedToPressed:function(){this.touchScaleEnabled&&(this._labelRenderer.setScaleX(this._normalScaleValueX+this._onSelectedScaleOffset),this._labelRenderer.setScaleY(this._normalScaleValueY+
this._onSelectedScaleOffset))},onPressStateChangedToDisabled:function(){},updateFlippedX:function(){this._labelRenderer.setFlippedX(this._flippedX)},updateFlippedY:function(){this._labelRenderer.setFlippedY(this._flippedY)},setAnchorPoint:function(a,b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._labelRenderer.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._labelRenderer.setAnchorPoint(a,b))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,
a);this._labelRenderer._setAnchorX(a)},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,a);this._labelRenderer._setAnchorY(a)},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.labelScaleChangedWithSize()},getContentSize:function(){return this._labelRenderer.getContentSize()},_getWidth:function(){return this._labelRenderer._getWidth()},_getHeight:function(){return this._labelRenderer._getHeight()},getVirtualRenderer:function(){return this._labelRenderer},
labelScaleChangedWithSize:function(){if(this._ignoreSize){this._labelRenderer.setScale(1);var a=this._labelRenderer.getContentSize();this._size.width=a.width;this._size.height=a.height;this._normalScaleValueX=this._normalScaleValueY=1}else{var b=this._labelRenderer.getContentSize();0>=b.width||0>=b.height?this._labelRenderer.setScale(1):(a=this._size.width/b.width,b=this._size.height/b.height,this._labelRenderer.setScaleX(a),this._labelRenderer.setScaleY(b),this._normalScaleValueX=a,this._normalScaleValueY=
b)}},updateTextureColor:function(){this.updateColorToRenderer(this._labelRenderer)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._labelRenderer)},getDescription:function(){return"Label"},createCloneInstance:function(){return ccui.Text.create()},copySpecialProperties:function(a){this.setFontName(a._fontName);this.setFontSize(a._labelRenderer.getFontSize());this.setString(a.getString());this.setTouchScaleChangeEnabled(a.touchScaleEnabled);this.setTextAreaSize(a._size);this.setTextHorizontalAlignment(a._textHorizontalAlignment);
this.setTextVerticalAlignment(a._textVerticalAlignment)}});_p=ccui.Text.prototype;cc.defineGetterSetter(_p,"boundingWidth",_p._getBoundingWidth,_p._setBoundingWidth);cc.defineGetterSetter(_p,"boundingHeight",_p._getBoundingHeight,_p._setBoundingHeight);cc.defineGetterSetter(_p,"string",_p.getString,_p.setString);cc.defineGetterSetter(_p,"stringLength",_p.getStringLength);cc.defineGetterSetter(_p,"font",_p._getFont,_p._setFont);cc.defineGetterSetter(_p,"fontSize",_p.getFontSize,_p.setFontSize);
cc.defineGetterSetter(_p,"fontName",_p.getFontName,_p.setFontName);cc.defineGetterSetter(_p,"textAlign",_p.getTextHorizontalAlignment,_p.setTextHorizontalAlignment);cc.defineGetterSetter(_p,"verticalAlign",_p.getTextVerticalAlignment,_p.setTextVerticalAlignment);_p=null;ccui.Text.create=function(){return new ccui.Text};ccui.Text.RENDERER_ZORDER=-1;ccui.TextAtlas=ccui.Widget.extend({_labelAtlasRenderer:null,_stringValue:"",_charMapFileName:"",_itemWidth:0,_itemHeight:0,_startCharMap:"",_className:"TextAtlas",ctor:function(){ccui.Widget.prototype.ctor.call(this)},initRenderer:function(){this._labelAtlasRenderer=new cc.LabelAtlas;cc.Node.prototype.addChild.call(this,this._labelAtlasRenderer,ccui.TextAtlas.RENDERER_ZORDER,-1)},setProperty:function(a,b,c,d,e){this._stringValue=a;this._charMapFileName=b;this._itemWidth=c;this._itemHeight=d;this._startCharMap=
e;var f=this._labelAtlasRenderer;f.initWithString(a,b,c,d,e[0]);this.updateAnchorPoint();this.labelAtlasScaleChangedWithSize();f.textureLoaded()||f.addLoadedEventListener(function(){this.labelAtlasScaleChangedWithSize()},this)},setStringValue:function(a){this._stringValue=a;this._labelAtlasRenderer.setString(a);this.labelAtlasScaleChangedWithSize()},getStringValue:function(){cc.log("Please use the getString");return this._labelAtlasRenderer.getString()},getString:function(){return this._labelAtlasRenderer.getString()},
setAnchorPoint:function(a,b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._labelAtlasRenderer.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._labelAtlasRenderer.setAnchorPoint(a,b))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,a);this._labelAtlasRenderer._setAnchorX(a)},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,a);this._labelAtlasRenderer._setAnchorY(a)},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);
this.labelAtlasScaleChangedWithSize()},getContentSize:function(){return this._labelAtlasRenderer.getContentSize()},_getWidth:function(){return this._labelAtlasRenderer._getWidth()},_getHeight:function(){return this._labelAtlasRenderer._getHeight()},getVirtualRenderer:function(){return this._labelAtlasRenderer},labelAtlasScaleChangedWithSize:function(){if(this._ignoreSize){this._labelAtlasRenderer.setScale(1);var a=this._labelAtlasRenderer.getContentSize();this._size.width=a.width;this._size.height=
a.height}else if(a=this._labelAtlasRenderer.getContentSize(),0>=a.width||0>=a.height)this._labelAtlasRenderer.setScale(1);else{var b=this._size.height/a.height;this._labelAtlasRenderer.setScaleX(this._size.width/a.width);this._labelAtlasRenderer.setScaleY(b)}},updateTextureColor:function(){this.updateColorToRenderer(this._labelAtlasRenderer)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._labelAtlasRenderer)},getDescription:function(){return"LabelAtlas"},createCloneInstance:function(){return ccui.TextAtlas.create()},
copySpecialProperties:function(a){this.setProperty(a._stringValue,a._charMapFileName,a._itemWidth,a._itemHeight,a._startCharMap)}});_p=ccui.TextAtlas.prototype;cc.defineGetterSetter(_p,"string",_p.getString,_p.setStringValue);_p=null;ccui.TextAtlas.create=function(){return new ccui.TextAtlas};ccui.TextAtlas.RENDERER_ZORDER=-1;ccui.TextBMFont=ccui.Widget.extend({_labelBMFontRenderer:null,_fileHasInit:!1,_fntFileName:"",_stringValue:"",_className:"TextBMFont",ctor:function(){ccui.Widget.prototype.ctor.call(this)},initRenderer:function(){this._labelBMFontRenderer=cc.LabelBMFont.create();cc.Node.prototype.addChild.call(this,this._labelBMFontRenderer,ccui.TextBMFont.RENDERER_ZORDER,-1)},setFntFile:function(a){a&&(this._fntFileName=a,this._labelBMFontRenderer.initWithString("",a),this.updateAnchorPoint(),this.labelBMFontScaleChangedWithSize(),
this._fileHasInit=!0,this.setString(this._stringValue),this._labelBMFontRenderer.textureLoaded()||this._labelBMFontRenderer.addLoadedEventListener(function(){this.labelBMFontScaleChangedWithSize()},this))},setText:function(a){cc.log("Please use the setString");a&&(this._stringValue=a,this._labelBMFontRenderer.setString(a),this.labelBMFontScaleChangedWithSize())},setString:function(a){a&&(this._stringValue=a,this._labelBMFontRenderer.setString(a),this.labelBMFontScaleChangedWithSize())},getString:function(){return this._stringValue},
setAnchorPoint:function(a,b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._labelBMFontRenderer.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._labelBMFontRenderer.setAnchorPoint(a,b))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,a);this._labelBMFontRenderer._setAnchorX(a)},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,a);this._labelBMFontRenderer._setAnchorY(a)},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);
this.labelBMFontScaleChangedWithSize()},getContentSize:function(){return this._labelBMFontRenderer.getContentSize()},_getWidth:function(){return this._labelBMFontRenderer._getWidth()},_getHeight:function(){return this._labelBMFontRenderer._getHeight()},getVirtualRenderer:function(){return this._labelBMFontRenderer},labelBMFontScaleChangedWithSize:function(){if(this._ignoreSize){this._labelBMFontRenderer.setScale(1);var a=this._labelBMFontRenderer.getContentSize();this._size.width=a.width;this._size.height=
a.height}else if(a=this._labelBMFontRenderer.getContentSize(),0>=a.width||0>=a.height)this._labelBMFontRenderer.setScale(1);else{var b=this._size.height/a.height;this._labelBMFontRenderer.setScaleX(this._size.width/a.width);this._labelBMFontRenderer.setScaleY(b)}},updateTextureColor:function(){this.updateColorToRenderer(this._labelBMFontRenderer)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._labelBMFontRenderer)},getDescription:function(){return"LabelBMFont"},createCloneInstance:function(){return ccui.TextBMFont.create()},
copySpecialProperties:function(a){this.setFntFile(a._fntFileName);this.setText(a._stringValue)}});_p=ccui.TextBMFont.prototype;cc.defineGetterSetter(_p,"string",_p.getString,_p.setStringValue);_p=null;ccui.TextBMFont.create=function(){return new ccui.TextBMFont};ccui.TextBMFont.RENDERER_ZORDER=-1;ccui.UICCTextField=cc.TextFieldTTF.extend({maxLengthEnabled:!1,maxLength:0,passwordEnabled:!1,_passwordStyleText:"",_attachWithIME:!1,_detachWithIME:!1,_insertText:!1,_deleteBackward:!1,_className:"UICCTextField",ctor:function(){cc.TextFieldTTF.prototype.ctor.call(this);this.maxLengthEnabled=!1;this.maxLength=0;this.passwordEnabled=!1;this._passwordStyleText="*";this._deleteBackward=this._insertText=this._detachWithIME=this._attachWithIME=!1},init:function(){return ccui.Widget.prototype.init.call(this)?
(this.setTouchEnabled(!0),!0):!1},onEnter:function(){cc.TextFieldTTF.prototype.onEnter.call(this);cc.TextFieldTTF.prototype.setDelegate.call(this,this)},onTextFieldAttachWithIME:function(a){this.setAttachWithIME(!0);return!1},onTextFieldInsertText:function(a,b,c){if(1==c&&"\n"==b)return!1;this.setInsertText(!0);return this.maxLengthEnabled&&cc.TextFieldTTF.prototype.getCharCount.call(this)>=this.maxLength?!0:!1},onTextFieldDeleteBackward:function(a,b,c){this.setDeleteBackward(!0);return!1},onTextFieldDetachWithIME:function(a){this.setDetachWithIME(!0);
return!1},insertText:function(a,b){var c=a,d=cc.TextFieldTTF.prototype.getString.call(this).length,e,f;if("\n"!=a&&this.maxLengthEnabled){e=1;f=a.charCodeAt(0);if(0>f||127<f)e=3;d+b>this.maxLength*e&&(c=c.substr(0,this.maxLength*e),b=this.maxLength*e)}cc.TextFieldTTF.prototype.insertText.call(this,c,b);this.passwordEnabled&&0<cc.TextFieldTTF.prototype.getCharCount.call(this)&&this.setPasswordText(this._inputText)},deleteBackward:function(){cc.TextFieldTTF.prototype.deleteBackward.call(this);0<cc.TextFieldTTF.prototype.getCharCount.call(this)&&
this.passwordEnabled&&this.setPasswordText(this._inputText)},openIME:function(){cc.TextFieldTTF.prototype.attachWithIME.call(this)},closeIME:function(){cc.TextFieldTTF.prototype.detachWithIME.call(this)},onDraw:function(a){return!1},setMaxLengthEnabled:function(a){this.maxLengthEnabled=a},isMaxLengthEnabled:function(){return this.maxLengthEnabled},setMaxLength:function(a){this.maxLength=a},getMaxLength:function(){return this.maxLength},getCharCount:function(){return cc.TextFieldTTF.prototype.getCharCount.call(this)},
setPasswordEnabled:function(a){this.passwordEnabled=a},isPasswordEnabled:function(){return this.passwordEnabled},setPasswordStyleText:function(a){if(!(1<a.length)){var b=a.charCodeAt(0);33>b||126<b||(this._passwordStyleText=a)}},setPasswordText:function(a){for(var b="",c=0;c<a.length;++c)b+=this._passwordStyleText;cc.LabelTTF.prototype.setString.call(this,b)},setAttachWithIME:function(a){this._attachWithIME=a},getAttachWithIME:function(){return this._attachWithIME},setDetachWithIME:function(a){this._detachWithIME=
a},getDetachWithIME:function(){return this._detachWithIME},setInsertText:function(a){this._insertText=a},getInsertText:function(){return this._insertText},setDeleteBackward:function(a){this._deleteBackward=a},getDeleteBackward:function(){return this._deleteBackward}});ccui.UICCTextField.create=function(a,b,c){var d=new ccui.UICCTextField;return d&&d.initWithString("",b,c)?(a&&d.setPlaceHolder(a),d):null};
ccui.TextField=ccui.Widget.extend({_textFieldRender:null,_touchWidth:0,_touchHeight:0,_useTouchArea:!1,_textFieldEventListener:null,_textFieldEventSelector:null,_attachWithIMEListener:null,_detachWithIMEListener:null,_insertTextListener:null,_deleteBackwardListener:null,_attachWithIMESelector:null,_detachWithIMESelector:null,_insertTextSelector:null,_deleteBackwardSelector:null,_passwordStyleText:"",ctor:function(){ccui.Widget.prototype.ctor.call(this)},onEnter:function(){ccui.Widget.prototype.onEnter.call(this);
this.setUpdateEnabled(!0)},initRenderer:function(){this._textFieldRender=ccui.UICCTextField.create("input words here","Thonburi",20);cc.Node.prototype.addChild.call(this,this._textFieldRender,ccui.TextField.RENDERER_ZORDER,-1)},setTouchSize:function(a){this._useTouchArea=!0;this._touchWidth=a.width;this._touchHeight=a.height},getTouchSize:function(){return cc.size(this._touchWidth,this._touchHeight)},setText:function(a){cc.log("Please use the setString");a&&(a=String(a),this.isMaxLengthEnabled()&&
(a=a.substr(0,this.getMaxLength())),this.isPasswordEnabled()?(this._textFieldRender.setPasswordText(a),this._textFieldRender.insertText(a,a.length)):this._textFieldRender.setString(a),this._textFieldRender.setString(a),this.textfieldRendererScaleChangedWithSize())},setString:function(a){a&&(a=String(a),this.isMaxLengthEnabled()&&(a=a.substr(0,this.getMaxLength())),this.isPasswordEnabled()?(this._textFieldRender.setPasswordText(a),this._textFieldRender.insertText(a,a.length)):this._textFieldRender.setString(a),
this._textFieldRender.setString(a),this.textfieldRendererScaleChangedWithSize())},setPlaceHolder:function(a){this._textFieldRender.setPlaceHolder(a);this.textfieldRendererScaleChangedWithSize()},getPlaceHolder:function(){return this._textFieldRender.getPlaceHolder()},_setFont:function(a){this._textFieldRender._setFont(a);this.textfieldRendererScaleChangedWithSize()},_getFont:function(){return this._textFieldRender._getFont()},setFontSize:function(a){this._textFieldRender.setFontSize(a);this.textfieldRendererScaleChangedWithSize()},
getFontSize:function(){return this._textFieldRender.getFontSize()},setFontName:function(a){this._textFieldRender.setFontName(a);this.textfieldRendererScaleChangedWithSize()},getFontName:function(){return this._textFieldRender.getFontName()},didNotSelectSelf:function(){this._textFieldRender.detachWithIME()},getStringValue:function(){cc.log("Please use the getString");return this._textFieldRender.getString()},getString:function(){return this._textFieldRender.getString()},onTouchBegan:function(a){return ccui.Widget.prototype.onTouchBegan.call(this,
a)},onTouchEnded:function(a){ccui.Widget.prototype.onTouchEnded.call(this,a);this._textFieldRender.attachWithIME()},setMaxLengthEnabled:function(a){this._textFieldRender.setMaxLengthEnabled(a)},isMaxLengthEnabled:function(){return this._textFieldRender.isMaxLengthEnabled()},setMaxLength:function(a){this._textFieldRender.setMaxLength(a)},getMaxLength:function(){return this._textFieldRender.getMaxLength()},setPasswordEnabled:function(a){this._textFieldRender.setPasswordEnabled(a)},isPasswordEnabled:function(){return this._textFieldRender.isPasswordEnabled()},
setPasswordStyleText:function(a){this._textFieldRender.setPasswordStyleText(a);this._passwordStyleText=a},getPasswordStyleText:function(){return this._passwordStyleText},update:function(a){this.getAttachWithIME()&&(this.attachWithIMEEvent(),this.setAttachWithIME(!1));this.getDetachWithIME()&&(this.detachWithIMEEvent(),this.setDetachWithIME(!1));this.getInsertText()&&(this.insertTextEvent(),this.setInsertText(!1),this.textfieldRendererScaleChangedWithSize());this.getDeleteBackward()&&(this.deleteBackwardEvent(),
this.setDeleteBackward(!1))},getAttachWithIME:function(){return this._textFieldRender.getAttachWithIME()},setAttachWithIME:function(a){this._textFieldRender.setAttachWithIME(a)},getDetachWithIME:function(){return this._textFieldRender.getDetachWithIME()},setDetachWithIME:function(a){this._textFieldRender.setDetachWithIME(a)},getInsertText:function(){return this._textFieldRender.getInsertText()},setInsertText:function(a){this._textFieldRender.setInsertText(a)},getDeleteBackward:function(){return this._textFieldRender.getDeleteBackward()},
setDeleteBackward:function(a){this._textFieldRender.setDeleteBackward(a)},attachWithIMEEvent:function(){this._textFieldEventListener&&this._textFieldEventSelector&&this._textFieldEventSelector.call(this._textFieldEventListener,this,ccui.TextField.EVENT_ATTACH_WITH_ME)},detachWithIMEEvent:function(){this._textFieldEventListener&&this._textFieldEventSelector&&this._textFieldEventSelector.call(this._textFieldEventListener,this,ccui.TextField.EVENT_DETACH_WITH_ME)},insertTextEvent:function(){this._textFieldEventListener&&
this._textFieldEventSelector&&this._textFieldEventSelector.call(this._textFieldEventListener,this,ccui.TextField.EVENT_INSERT_TEXT)},deleteBackwardEvent:function(){this._textFieldEventListener&&this._textFieldEventSelector&&this._textFieldEventSelector.call(this._textFieldEventListener,this,ccui.TextField.EVENT_DELETE_BACKWARD)},addEventListenerTextField:function(a,b){this._textFieldEventSelector=a;this._textFieldEventListener=b},hitTest:function(a){a=this.convertToNodeSpace(a);var b=this._textFieldRender.getContentSize(),
b=cc.rect(-b.width*this._anchorPoint.x,-b.height*this._anchorPoint.y,b.width,b.height);return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height?!0:!1},setAnchorPoint:function(a,b){void 0===b?(ccui.Widget.prototype.setAnchorPoint.call(this,a),this._textFieldRender.setAnchorPoint(a)):(ccui.Widget.prototype.setAnchorPoint.call(this,a,b),this._textFieldRender.setAnchorPoint(a,b))},_setAnchorX:function(a){ccui.Widget.prototype._setAnchorX.call(this,a);this._textFieldRender._setAnchorX(a)},_setAnchorY:function(a){ccui.Widget.prototype._setAnchorY.call(this,
a);this._textFieldRender._setAnchorY(a)},onSizeChanged:function(){ccui.Widget.prototype.onSizeChanged.call(this);this.textfieldRendererScaleChangedWithSize()},textfieldRendererScaleChangedWithSize:function(){if(this._ignoreSize){this._textFieldRender.setScale(1);var a=this.getContentSize();this._size.width=a.width;this._size.height=a.height}else if(a=this.getContentSize(),0>=a.width||0>=a.height)this._textFieldRender.setScale(1);else{var b=this._size.height/a.height;this._textFieldRender.setScaleX(this._size.width/
a.width);this._textFieldRender.setScaleY(b)}},getContentSize:function(){return this._textFieldRender.getContentSize()},_getWidth:function(){return this._textFieldRender._getWidth()},_getHeight:function(){return this._textFieldRender._getHeight()},getVirtualRenderer:function(){return this._textFieldRender},updateTextureColor:function(){this.updateColorToRenderer(this._textFieldRender)},updateTextureOpacity:function(){this.updateOpacityToRenderer(this._textFieldRender)},getDescription:function(){return"TextField"},
attachWithIME:function(){this._textFieldRender.attachWithIME()},createCloneInstance:function(){return ccui.TextField.create()},copySpecialProperties:function(a){this.setString(a._textFieldRender.getString());this.setPlaceHolder(a.getString());this.setFontSize(a._textFieldRender.getFontSize());this.setFontName(a._textFieldRender.getFontName());this.setMaxLengthEnabled(a.isMaxLengthEnabled());this.setMaxLength(a.getMaxLength());this.setPasswordEnabled(a.isPasswordEnabled());this.setPasswordStyleText(a._passwordStyleText);
this.setAttachWithIME(a.getAttachWithIME());this.setDetachWithIME(a.getDetachWithIME());this.setInsertText(a.getInsertText());this.setDeleteBackward(a.getDeleteBackward())}});_p=ccui.TextField.prototype;cc.defineGetterSetter(_p,"string",_p.getString,_p.setText);cc.defineGetterSetter(_p,"placeHolder",_p.getPlaceHolder,_p.setPlaceHolder);cc.defineGetterSetter(_p,"font",_p._getFont,_p._setFont);cc.defineGetterSetter(_p,"fontSize",_p.getFontSize,_p.setFontSize);
cc.defineGetterSetter(_p,"fontName",_p.getFontName,_p.setFontName);cc.defineGetterSetter(_p,"maxLengthEnabled",_p.isMaxLengthEnabled,_p.setMaxLengthEnabled);cc.defineGetterSetter(_p,"maxLength",_p.getMaxLength,_p.setMaxLength);cc.defineGetterSetter(_p,"passwordEnabled",_p.isPasswordEnabled,_p.setPasswordEnabled);_p=null;ccui.TextField.create=function(){return new ccui.TextField};ccui.TextField.EVENT_ATTACH_WITH_ME=0;ccui.TextField.EVENT_DETACH_WITH_ME=1;ccui.TextField.EVENT_INSERT_TEXT=2;
ccui.TextField.EVENT_DELETE_BACKWARD=3;ccui.TextField.RENDERER_ZORDER=-1;ccui.RichElement=ccui.Class.extend({type:0,tag:0,color:null,ctor:function(){this.tag=0;this.color=cc.color(255,255,255,255)},init:function(a,b,c){this.tag=a;this.color.r=b.r;this.color.g=b.g;this.color.b=b.b;this.color.a=c}});
ccui.RichElementText=ccui.RichElement.extend({text:"",fontName:"",fontSize:0,ctor:function(){ccui.RichElement.prototype.ctor.call(this);this.type=ccui.RichElement.TYPE_TEXT;this.fontName=this.text="";this.fontSize=0},init:function(a,b,c,d,e,f){ccui.RichElement.prototype.init.call(this,a,b,c);this.text=d;this.fontName=e;this.fontSize=f}});ccui.RichElementText.create=function(a,b,c,d,e,f){var m=new ccui.RichElementText;m.init(a,b,c,d,e,f);return m};
ccui.RichElementImage=ccui.RichElement.extend({filePath:"",textureRect:null,textureType:0,ctor:function(){ccui.RichElement.prototype.ctor.call(this);this.type=ccui.RichElement.TYPE_IMAGE;this.filePath="";this.textureRect=cc.rect(0,0,0,0);this.textureType=0},init:function(a,b,c,d){ccui.RichElement.prototype.init.call(this,a,b,c);this.filePath=d}});ccui.RichElementImage.create=function(a,b,c,d){var e=new ccui.RichElementImage;e.init(a,b,c,d);return e};
ccui.RichElementCustomNode=ccui.RichElement.extend({customNode:null,ctor:function(){ccui.RichElement.prototype.ctor.call(this);this.type=ccui.RichElement.TYPE_CUSTOM;this.customNode=null},init:function(a,b,c,d){ccui.RichElement.prototype.init.call(this,a,b,c);this.customNode=d}});ccui.RichElementCustomNode.create=function(a,b,c,d){var e=new ccui.RichElementCustomNode;e.init(a,b,c,d);return e};
ccui.RichText=ccui.Widget.extend({_formatTextDirty:!1,_richElements:null,_elementRenders:null,_leftSpaceWidth:0,_verticalSpace:0,_elementRenderersContainer:null,ctor:function(){ccui.Widget.prototype.ctor.call(this);this._formatTextDirty=!1;this._richElements=[];this._elementRenders=[];this._verticalSpace=this._leftSpaceWidth=0;this._elementRenderersContainer=null;this.init()},initRenderer:function(){this._elementRenderersContainer=cc.Node.create();this._elementRenderersContainer.setAnchorPoint(cc.p(0.5,
0.5));cc.Node.prototype.addChild.call(this,this._elementRenderersContainer,0,-1)},insertElement:function(a,b){this._richElements.splice(b,0,a);this._formatTextDirty=!0},pushBackElement:function(a){this._richElements.push(a);this._formatTextDirty=!0},removeElement:function(a){"number"===typeof a?this._richElements.splice(a,1):cc.arrayRemoveObject(this._richElements,a);this._formatTextDirty=!0},formatText:function(){if(this._formatTextDirty){this._elementRenderersContainer.removeAllChildren();this._elementRenders.length=
0;if(this._ignoreSize){this.addNewLine();for(var a=0;a<this._richElements.length;a++){var b=this._richElements[a],c=null;switch(b.type){case ccui.RichElement.TYPE_TEXT:c=cc.LabelTTF.create(b.text,b.fontName,b.fontSize);break;case ccui.RichElement.TYPE_IMAGE:c=cc.Sprite.create(b.filePath);break;case ccui.RichElement.TYPE_CUSTOM:c=b.customNode}c.setColor(b.color);this.pushToContainer(c)}}else{this.addNewLine();for(a=0;a<this._richElements.length;a++)switch(b=this._richElements[a],b.type){case ccui.RichElement.TYPE_TEXT:this.handleTextRenderer(b.text,
b.fontName,b.fontSize,b.color);break;case ccui.RichElement.TYPE_IMAGE:this.handleImageRenderer(b.filePath,b.color);break;case ccui.RichElement.TYPE_CUSTOM:this.handleCustomRenderer(b.customNode)}}this.formatRenderers();this._formatTextDirty=!1}},handleTextRenderer:function(a,b,c,d){var e=cc.LabelTTF.create(a,b,c),f=e.getContentSize().width;this._leftSpaceWidth-=f;0>this._leftSpaceWidth?(e=a.length*(1- -this._leftSpaceWidth/f),f=a.substr(0,e),a=a.substr(e,a.length-1),0<e&&(e=cc.LabelTTF.create(f.substr(0,
e),b,c),e.setColor(d),this.pushToContainer(e)),this.addNewLine(),this.handleTextRenderer(a,b,c,d)):(e.setColor(d),this.pushToContainer(e))},handleImageRenderer:function(a,b,c){a=cc.Sprite.create(a);this.handleCustomRenderer(a)},handleCustomRenderer:function(a){var b=a.getContentSize();this._leftSpaceWidth-=b.width;0>this._leftSpaceWidth?(this.addNewLine(),this.pushToContainer(a),this._leftSpaceWidth-=b.width):this.pushToContainer(a)},addNewLine:function(){this._leftSpaceWidth=this._customSize.width;
this._elementRenders.push([])},formatRenderers:function(){if(this._ignoreSize){for(var a=0,b=0,c=this._elementRenders[0],d=0,e=0;e<c.length;e++){var f=c[e];f.setAnchorPoint(cc.p(0,0));f.setPosition(cc.p(d,0));this._elementRenderersContainer.addChild(f,1,e);f=f.getContentSize();a+=f.width;b=Math.max(b,f.height);d+=f.width}this._elementRenderersContainer.setContentSize(cc.size(a,b))}else{for(var b=0,a=[],m=0;m<this._elementRenders.length;m++){c=this._elementRenders[m];for(e=d=0;e<c.length;e++)f=c[e],
d=Math.max(f.getContentSize().height,d);a[m]=d;b+=a[m]}b=this._customSize.height;for(m=0;m<this._elementRenders.length;m++){c=this._elementRenders[m];d=0;b-=a[m]+this._verticalSpace;for(e=0;e<c.length;e++)f=c[e],f.setAnchorPoint(cc.p(0,0)),f.setPosition(cc.p(d,b)),this._elementRenderersContainer.addChild(f,1,10*m+e),d+=f.getContentSize().width}this._elementRenderersContainer.setContentSize(this._size)}this._elementRenders.length=0;this._ignoreSize?(c=this.getContentSize(),this._size.width=c.width,
this._size.height=c.height):(this._size.width=this._customSize.width,this._size.height=this._customSize.height)},pushToContainer:function(a){0>=this._elementRenders.length||this._elementRenders[this._elementRenders.length-1].push(a)},visit:function(a){this._enabled&&(this.formatText(),ccui.Widget.prototype.visit.call(this,a))},setVerticalSpace:function(a){this._verticalSpace=a},setAnchorPoint:function(a){ccui.Widget.prototype.setAnchorPoint.call(this,a);this._elementRenderersContainer.setAnchorPoint(a)},
getContentSize:function(){return this._elementRenderersContainer.getContentSize()},ignoreContentAdaptWithSize:function(a){this._ignoreSize!=a&&(this._formatTextDirty=!0,ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,a))}});ccui.RichText.create=function(){return new ccui.RichText};ccui.RichElement.TYPE_TEXT=0;ccui.RichElement.TYPE_IMAGE=1;ccui.RichElement.TYPE_CUSTOM=2;ccui.ScrollView=ccui.Layout.extend({_innerContainer:null,direction:null,_touchBeganPoint:null,_touchMovedPoint:null,_touchEndedPoint:null,_touchMovingPoint:null,_autoScrollDir:null,_topBoundary:0,_bottomBoundary:0,_leftBoundary:0,_rightBoundary:0,_bounceTopBoundary:0,_bounceBottomBoundary:0,_bounceLeftBoundary:0,_bounceRightBoundary:0,_autoScroll:!1,_autoScrollAddUpTime:0,_autoScrollOriginalSpeed:0,_autoScrollAcceleration:0,_isAutoScrollSpeedAttenuated:!1,_needCheckAutoScrollDestination:!1,_autoScrollDestination:null,
_bePressed:!1,_slidTime:0,_moveChildPoint:null,_childFocusCancelOffset:0,_leftBounceNeeded:!1,_topBounceNeeded:!1,_rightBounceNeeded:!1,_bottomBounceNeeded:!1,bounceEnabled:!1,_bouncing:!1,_bounceDir:null,_bounceOriginalSpeed:0,inertiaScrollEnabled:!1,_scrollViewEventListener:null,_scrollViewEventSelector:null,_className:"ScrollView",ctor:function(){ccui.Layout.prototype.ctor.call(this);this._innerContainer=null;this.direction=ccui.ScrollView.DIR_NONE;this._touchBeganPoint=cc.p(0,0);this._touchMovedPoint=
cc.p(0,0);this._touchEndedPoint=cc.p(0,0);this._touchMovingPoint=cc.p(0,0);this._autoScrollDir=cc.p(0,0);this._bounceRightBoundary=this._bounceLeftBoundary=this._bounceBottomBoundary=this._bounceTopBoundary=this._rightBoundary=this._leftBoundary=this._bottomBoundary=this._topBoundary=0;this._autoScroll=!1;this._autoScrollOriginalSpeed=this._autoScrollAddUpTime=0;this._autoScrollAcceleration=-1E3;this._needCheckAutoScrollDestination=this._isAutoScrollSpeedAttenuated=!1;this._autoScrollDestination=
cc.p(0,0);this._bePressed=!1;this._slidTime=0;this._moveChildPoint=cc.p(0,0);this._childFocusCancelOffset=5;this._bouncing=this.bounceEnabled=this._bottomBounceNeeded=this._rightBounceNeeded=this._topBounceNeeded=this._leftBounceNeeded=!1;this._bounceDir=cc.p(0,0);this._bounceOriginalSpeed=0;this.inertiaScrollEnabled=!0;this._scrollViewEventSelector=this._scrollViewEventListener=null;this.init()},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setTouchEnabled(!0),this.setClippingEnabled(!0),
this._innerContainer.setTouchEnabled(!1),!0):!1},onEnter:function(){ccui.Layout.prototype.onEnter.call(this);this.setUpdateEnabled(!0)},initRenderer:function(){ccui.Layout.prototype.initRenderer.call(this);this._innerContainer=ccui.Layout.create();ccui.Layout.prototype.addChild.call(this,this._innerContainer)},onSizeChanged:function(){ccui.Layout.prototype.onSizeChanged.call(this);var a=this._size;this._topBoundary=a.height;this._rightBoundary=a.width;var b=a.width/3,c=a.height/3;this._bounceTopBoundary=
a.height-c;this._bounceBottomBoundary=c;this._bounceLeftBoundary=b;this._bounceRightBoundary=this._size.width-b;c=this._innerContainer.getSize();b=c.height;c=Math.max(c.width,a.width);b=Math.max(b,a.height);this._innerContainer.setSize(cc.size(c,b));this._innerContainer.setPosition(0,a.height-this._innerContainer.getSize().height)},setInnerContainerSize:function(a){var b=this._size,c=b.width,d=b.height,e=this._innerContainer.getSize();a.width<b.width?cc.log("Inner width \x3c\x3d scrollview width, it will be force sized!"):
c=a.width;a.height<b.height?cc.log("Inner height \x3c\x3d scrollview height, it will be force sized!"):d=a.height;this._innerContainer.setSize(cc.size(c,d));switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:a=this._innerContainer.getSize();e=e.height-a.height;this.scrollChildren(0,e);break;case ccui.ScrollView.DIR_HORIZONTAL:this._innerContainer.getRightInParent()<=b.width&&(a=this._innerContainer.getSize(),e=e.width-a.width,this.scrollChildren(e,0));break;case ccui.ScrollView.DIR_BOTH:a=this._innerContainer.getSize(),
c=e.height-a.height,d=0,this._innerContainer.getRightInParent()<=b.width&&(d=e.width-a.width),this.scrollChildren(d,c)}e=this._innerContainer;a=e.getSize();c=e.getPosition();d=e.getAnchorPoint();0<e.getLeftInParent()&&e.setPosition(d.x*a.width,c.y);e.getRightInParent()<b.width&&e.setPosition(b.width-(1-d.x)*a.width,c.y);0<c.y&&e.setPosition(c.x,d.y*a.height);e.getTopInParent()<b.height&&e.setPosition(c.x,b.height-(1-d.y)*a.height)},_setInnerWidth:function(a){var b=this._size.width,c=b,d=this._innerContainer,
e=d.width;a<b?cc.log("Inner width \x3c\x3d scrollview width, it will be force sized!"):c=a;d.width=c;switch(this.direction){case ccui.ScrollView.DIR_HORIZONTAL:case ccui.ScrollView.DIR_BOTH:d.getRightInParent()<=b&&this.scrollChildren(e-d.width,0)}a=d.anchorX;0<d.getLeftInParent()&&(d.x=a*c);d.getRightInParent()<b&&(d.x=b-(1-a)*c)},_setInnerHeight:function(a){var b=this._size.height,c=b,d=this._innerContainer,e=d.height;a<b?cc.log("Inner height \x3c\x3d scrollview height, it will be force sized!"):
c=a;d.height=c;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:case ccui.ScrollView.DIR_BOTH:this.scrollChildren(0,e-c)}a=d.anchorY;0<d.getLeftInParent()&&(d.y=a*c);d.getRightInParent()<b&&(d.y=b-(1-a)*c)},getInnerContainerSize:function(){return this._innerContainer.getSize()},_getInnerWidth:function(){return this._innerContainer.width},_getInnerHeight:function(){return this._innerContainer.height},addChild:function(a,b,c){return this._innerContainer.addChild(a,b,c)},removeAllChildren:function(a){this._innerContainer.removeAllChildren(a)},
removeChild:function(a,b){return this._innerContainer.removeChild(a,b)},getChildren:function(){return this._innerContainer.getChildren()},getChildrenCount:function(){return this._innerContainer.getChildrenCount()},getChildByTag:function(a){return this._innerContainer.getChildByTag(a)},getChildByName:function(a){return this._innerContainer.getChildByName(a)},addNode:function(a,b,c){this._innerContainer.addNode(a,b,c)},getNodeByTag:function(a){return this._innerContainer.getNodeByTag(a)},getNodes:function(){return this._innerContainer.getNodes()},
removeNode:function(a){this._innerContainer.removeNode(a)},removeNodeByTag:function(a){this._innerContainer.removeNodeByTag(a)},removeAllNodes:function(){this._innerContainer.removeAllNodes()},moveChildren:function(a,b){var c=this._innerContainer.getPosition();this._moveChildPoint.x=c.x+a;this._moveChildPoint.y=c.y+b;this._innerContainer.setPosition(this._moveChildPoint)},autoScrollChildren:function(a){var b=this._autoScrollAddUpTime;this._autoScrollAddUpTime+=a;if(this._isAutoScrollSpeedAttenuated)0>=
this._autoScrollOriginalSpeed+this._autoScrollAcceleration*this._autoScrollAddUpTime?(this.stopAutoScrollChildren(),this.checkNeedBounce()):(b=(this._autoScrollOriginalSpeed+0.5*this._autoScrollAcceleration*(2*b+a))*a,this.scrollChildren(b*this._autoScrollDir.x,b*this._autoScrollDir.y)||(this.stopAutoScrollChildren(),this.checkNeedBounce()));else if(this._needCheckAutoScrollDestination){var b=this._autoScrollDir.x*a*this._autoScrollOriginalSpeed,c=this._autoScrollDir.y*a*this._autoScrollOriginalSpeed;
a=this.checkCustomScrollDestination(b,c);b=this.scrollChildren(b,c);if(!a||!b)this.stopAutoScrollChildren(),this.checkNeedBounce()}else this.scrollChildren(this._autoScrollDir.x*a*this._autoScrollOriginalSpeed,this._autoScrollDir.y*a*this._autoScrollOriginalSpeed)||(this.stopAutoScrollChildren(),this.checkNeedBounce())},bounceChildren:function(a){var b=this._bounceOriginalSpeed,c=this._bounceDir;0>=b&&this.stopBounceChildren();this.bounceScrollChildren(c.x*a*b,c.y*a*b)||this.stopBounceChildren()},
checkNeedBounce:function(){if(!this.bounceEnabled)return!1;this.checkBounceBoundary();if(this._topBounceNeeded||this._bottomBounceNeeded||this._leftBounceNeeded||this._rightBounceNeeded){if(this._topBounceNeeded&&this._leftBounceNeeded){var a=cc.pSub(cc.p(0,this._size.height),cc.p(this._innerContainer.getLeftInParent(),this._innerContainer.getTopInParent())),b=cc.pLength(a)/0.2;this._bounceDir=cc.pNormalize(a);this.startBounceChildren(b)}else this._topBounceNeeded&&this._rightBounceNeeded?(a=cc.pSub(cc.p(this._size.width,
this._size.height),cc.p(this._innerContainer.getRightInParent(),this._innerContainer.getTopInParent())),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),this.startBounceChildren(b)):this._bottomBounceNeeded&&this._leftBounceNeeded?(a=cc.pSub(cc.p(0,0),cc.p(this._innerContainer.getLeftInParent(),this._innerContainer.getBottomInParent())),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),this.startBounceChildren(b)):this._bottomBounceNeeded&&this._rightBounceNeeded?(a=cc.pSub(cc.p(this._size.width,
0),cc.p(this._innerContainer.getRightInParent(),this._innerContainer.getBottomInParent())),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),this.startBounceChildren(b)):this._topBounceNeeded?(a=cc.pSub(cc.p(0,this._size.height),cc.p(0,this._innerContainer.getTopInParent())),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),this.startBounceChildren(b)):this._bottomBounceNeeded?(a=cc.pSub(cc.p(0,0),cc.p(0,this._innerContainer.getBottomInParent())),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),
this.startBounceChildren(b)):this._leftBounceNeeded?(a=cc.pSub(cc.p(0,0),cc.p(this._innerContainer.getLeftInParent(),0)),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),this.startBounceChildren(b)):this._rightBounceNeeded&&(a=cc.pSub(cc.p(this._size.width,0),cc.p(this._innerContainer.getRightInParent(),0)),b=cc.pLength(a)/0.2,this._bounceDir=cc.pNormalize(a),this.startBounceChildren(b));return!0}return!1},checkBounceBoundary:function(){this._innerContainer.getBottomInParent()>this._bottomBoundary?
(this.scrollToBottomEvent(),this._bottomBounceNeeded=!0):this._bottomBounceNeeded=!1;this._innerContainer.getTopInParent()<this._topBoundary?(this.scrollToTopEvent(),this._topBounceNeeded=!0):this._topBounceNeeded=!1;this._innerContainer.getRightInParent()<this._rightBoundary?(this.scrollToRightEvent(),this._rightBounceNeeded=!0):this._rightBounceNeeded=!1;this._innerContainer.getLeftInParent()>this._leftBoundary?(this.scrollToLeftEvent(),this._leftBounceNeeded=!0):this._leftBounceNeeded=!1},startBounceChildren:function(a){this._bounceOriginalSpeed=
a;this._bouncing=!0},stopBounceChildren:function(){this._bouncing=!1;this._bounceOriginalSpeed=0;this._bottomBounceNeeded=this._topBounceNeeded=this._rightBounceNeeded=this._leftBounceNeeded=!1},startAutoScrollChildrenWithOriginalSpeed:function(a,b,c,d){this.stopAutoScrollChildren();this._autoScrollDir=a;this._isAutoScrollSpeedAttenuated=c;this._autoScrollOriginalSpeed=b;this._autoScroll=!0;this._autoScrollAcceleration=d},startAutoScrollChildrenWithDestination:function(a,b,c){this._needCheckAutoScrollDestination=
!1;this._autoScrollDestination=a;var d=cc.pSub(a,this._innerContainer.getPosition());a=cc.pNormalize(d);var e=0,f=-1E3,d=cc.pLength(d);c?(f=-(2*d)/(b*b),e=2*d/b):(this._needCheckAutoScrollDestination=!0,e=d/b);this.startAutoScrollChildrenWithOriginalSpeed(a,e,c,f)},jumpToDestination:function(a,b){void 0!==a.x&&(b=a.y,a=a.x);var c=a,d=b;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:0>=b&&(d=Math.max(b,this._size.height-this._innerContainer.getSize().height));break;case ccui.ScrollView.DIR_HORIZONTAL:0>=
a&&(c=Math.max(a,this._size.width-this._innerContainer.getSize().width));break;case ccui.ScrollView.DIR_BOTH:0>=b&&(d=Math.max(b,this._size.height-this._innerContainer.getSize().height)),0>=a&&(c=Math.max(a,this._size.width-this._innerContainer.getSize().width))}this._innerContainer.setPosition(c,d)},stopAutoScrollChildren:function(){this._autoScroll=!1;this._autoScrollAddUpTime=this._autoScrollOriginalSpeed=0},bounceScrollChildren:function(a,b){var c=!0;if(0<a&&0<b){var d=a,e=b,f=this._innerContainer.getRightInParent();
f+d>=this._rightBoundary&&(d=this._rightBoundary-f,this.bounceRightEvent(),c=!1);f=this._innerContainer.getTopInParent();f+b>=this._topBoundary&&(e=this._topBoundary-f,this.bounceTopEvent(),c=!1);this.moveChildren(d,e)}else 0>a&&0<b?(d=a,e=b,f=this._innerContainer.getLeftInParent(),f+d<=this._leftBoundary&&(d=this._leftBoundary-f,this.bounceLeftEvent(),c=!1),f=this._innerContainer.getTopInParent(),f+b>=this._topBoundary&&(e=this._topBoundary-f,this.bounceTopEvent(),c=!1),this.moveChildren(d,e)):0>
a&&0>b?(d=a,e=b,f=this._innerContainer.getLeftInParent(),f+d<=this._leftBoundary&&(d=this._leftBoundary-f,this.bounceLeftEvent(),c=!1),f=this._innerContainer.getBottomInParent(),f+b<=this._bottomBoundary&&(e=this._bottomBoundary-f,this.bounceBottomEvent(),c=!1),this.moveChildren(d,e)):0<a&&0>b?(d=a,e=b,f=this._innerContainer.getRightInParent(),f+d>=this._rightBoundary&&(d=this._rightBoundary-f,this.bounceRightEvent(),c=!1),f=this._innerContainer.getBottomInParent(),f+b<=this._bottomBoundary&&(e=this._bottomBoundary-
f,this.bounceBottomEvent(),c=!1),this.moveChildren(d,e)):0==a&&0<b?(e=b,f=this._innerContainer.getTopInParent(),f+b>=this._topBoundary&&(e=this._topBoundary-f,this.bounceTopEvent(),c=!1),this.moveChildren(0,e)):0==a&&0>b?(e=b,f=this._innerContainer.getBottomInParent(),f+b<=this._bottomBoundary&&(e=this._bottomBoundary-f,this.bounceBottomEvent(),c=!1),this.moveChildren(0,e)):0<a&&0==b?(d=a,f=this._innerContainer.getRightInParent(),f+d>=this._rightBoundary&&(d=this._rightBoundary-f,this.bounceRightEvent(),
c=!1),this.moveChildren(d,0)):0>a&&0==b&&(d=a,e=this._innerContainer.getLeftInParent(),e+d<=this._leftBoundary&&(d=this._leftBoundary-e,this.bounceLeftEvent(),c=!1),this.moveChildren(d,0));return c},checkCustomScrollDestination:function(a,b){var c=!0;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:if(0<this._autoScrollDir.y){var d=this._innerContainer.getBottomInParent();d+b>=this._autoScrollDestination.y&&(c=!1)}else d=this._innerContainer.getBottomInParent(),d+b<=this._autoScrollDestination.y&&
(c=!1);break;case ccui.ScrollView.DIR_HORIZONTAL:0<this._autoScrollDir.x?(d=this._innerContainer.getLeftInParent(),d+a>=this._autoScrollDestination.x&&(c=!1)):(d=this._innerContainer.getLeftInParent(),d+a<=this._autoScrollDestination.x&&(c=!1));break;case ccui.ScrollView.DIR_BOTH:0<a&&0<b?(d=this._innerContainer.getLeftInParent(),d+a>=this._autoScrollDestination.x&&(c=!1),d=this._innerContainer.getBottomInParent(),d+b>=this._autoScrollDestination.y&&(c=!1)):0>a&&0<b?(d=this._innerContainer.getRightInParent(),
d+a<=this._autoScrollDestination.x&&(c=!1),d=this._innerContainer.getBottomInParent(),d+b>=this._autoScrollDestination.y&&(c=!1)):0>a&&0>b?(d=this._innerContainer.getRightInParent(),d+a<=this._autoScrollDestination.x&&(c=!1),d=this._innerContainer.getTopInParent(),d+b<=this._autoScrollDestination.y&&(c=!1)):0<a&&0>b?(d=this._innerContainer.getLeftInParent(),d+a>=this._autoScrollDestination.x&&(c=!1),d=this._innerContainer.getTopInParent(),d+b<=this._autoScrollDestination.y&&(c=!1)):0==a&&0<b?(d=this._innerContainer.getBottomInParent(),
d+b>=this._autoScrollDestination.y&&(c=!1)):0>a&&0==b?(d=this._innerContainer.getRightInParent(),d+a<=this._autoScrollDestination.x&&(c=!1)):0==a&&0>b?(d=this._innerContainer.getTopInParent(),d+b<=this._autoScrollDestination.y&&(c=!1)):0<a&&0==b&&(d=this._innerContainer.getLeftInParent(),d+a>=this._autoScrollDestination.x&&(c=!1))}return c},getCurAutoScrollDistance:function(a){this._autoScrollOriginalSpeed-=this._autoScrollAcceleration*a;return this._autoScrollOriginalSpeed*a},scrollChildren:function(a,
b){var c=!0;this.scrollingEvent();switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:var d=b;if(this.bounceEnabled){var e=this._innerContainer.getBottomInParent();e+b>=this._bounceBottomBoundary&&(d=this._bounceBottomBoundary-e,this.scrollToBottomEvent(),c=!1);e=this._innerContainer.getTopInParent();e+b<=this._bounceTopBoundary&&(d=this._bounceTopBoundary-e,this.scrollToTopEvent(),c=!1)}else e=this._innerContainer.getBottomInParent(),e+b>=this._bottomBoundary&&(d=this._bottomBoundary-e,this.scrollToBottomEvent(),
c=!1),e=this._innerContainer.getTopInParent(),e+b<=this._topBoundary&&(d=this._topBoundary-e,this.scrollToTopEvent(),c=!1);this.moveChildren(0,d);break;case ccui.ScrollView.DIR_HORIZONTAL:d=a;this.bounceEnabled?(e=this._innerContainer.getRightInParent(),e+a<=this._bounceRightBoundary&&(d=this._bounceRightBoundary-e,this.scrollToRightEvent(),c=!1),e=this._innerContainer.getLeftInParent(),e+a>=this._bounceLeftBoundary&&(d=this._bounceLeftBoundary-e,this.scrollToLeftEvent(),c=!1)):(e=this._innerContainer.getRightInParent(),
e+a<=this._rightBoundary&&(d=this._rightBoundary-e,this.scrollToRightEvent(),c=!1),e=this._innerContainer.getLeftInParent(),e+a>=this._leftBoundary&&(d=this._leftBoundary-e,this.scrollToLeftEvent(),c=!1));this.moveChildren(d,0);break;case ccui.ScrollView.DIR_BOTH:var d=a,f=b;this.bounceEnabled?0<a&&0<b?(e=this._innerContainer.getLeftInParent(),e+a>=this._bounceLeftBoundary&&(d=this._bounceLeftBoundary-e,this.scrollToLeftEvent(),c=!1),e=this._innerContainer.getBottomInParent(),e+b>=this._bounceBottomBoundary&&
(f=this._bounceBottomBoundary-e,this.scrollToBottomEvent(),c=!1)):0>a&&0<b?(e=this._innerContainer.getRightInParent(),e+a<=this._bounceRightBoundary&&(d=this._bounceRightBoundary-e,this.scrollToRightEvent(),c=!1),e=this._innerContainer.getBottomInParent(),e+b>=this._bounceBottomBoundary&&(f=this._bounceBottomBoundary-e,this.scrollToBottomEvent(),c=!1)):0>a&&0>b?(e=this._innerContainer.getRightInParent(),e+a<=this._bounceRightBoundary&&(d=this._bounceRightBoundary-e,this.scrollToRightEvent(),c=!1),
e=this._innerContainer.getTopInParent(),e+b<=this._bounceTopBoundary&&(f=this._bounceTopBoundary-e,this.scrollToTopEvent(),c=!1)):0<a&&0>b?(e=this._innerContainer.getLeftInParent(),e+a>=this._bounceLeftBoundary&&(d=this._bounceLeftBoundary-e,this.scrollToLeftEvent(),c=!1),e=this._innerContainer.getTopInParent(),e+b<=this._bounceTopBoundary&&(f=this._bounceTopBoundary-e,this.scrollToTopEvent(),c=!1)):0==a&&0<b?(e=this._innerContainer.getBottomInParent(),e+b>=this._bounceBottomBoundary&&(f=this._bounceBottomBoundary-
e,this.scrollToBottomEvent(),c=!1)):0>a&&0==b?(e=this._innerContainer.getRightInParent(),e+a<=this._bounceRightBoundary&&(d=this._bounceRightBoundary-e,this.scrollToRightEvent(),c=!1)):0==a&&0>b?(e=this._innerContainer.getTopInParent(),e+b<=this._bounceTopBoundary&&(f=this._bounceTopBoundary-e,this.scrollToTopEvent(),c=!1)):0<a&&0==b&&(e=this._innerContainer.getLeftInParent(),e+a>=this._bounceLeftBoundary&&(d=this._bounceLeftBoundary-e,this.scrollToLeftEvent(),c=!1)):0<a&&0<b?(e=this._innerContainer.getLeftInParent(),
e+a>=this._leftBoundary&&(d=this._leftBoundary-e,this.scrollToLeftEvent(),c=!1),e=this._innerContainer.getBottomInParent(),e+b>=this._bottomBoundary&&(f=this._bottomBoundary-e,this.scrollToBottomEvent(),c=!1)):0>a&&0<b?(e=this._innerContainer.getRightInParent(),e+a<=this._rightBoundary&&(d=this._rightBoundary-e,this.scrollToRightEvent(),c=!1),e=this._innerContainer.getBottomInParent(),e+b>=this._bottomBoundary&&(f=this._bottomBoundary-e,this.scrollToBottomEvent(),c=!1)):0>a&&0>b?(e=this._innerContainer.getRightInParent(),
e+a<=this._rightBoundary&&(d=this._rightBoundary-e,this.scrollToRightEvent(),c=!1),e=this._innerContainer.getTopInParent(),e+b<=this._topBoundary&&(f=this._topBoundary-e,this.scrollToTopEvent(),c=!1)):0<a&&0>b?(e=this._innerContainer.getLeftInParent(),e+a>=this._leftBoundary&&(d=this._leftBoundary-e,this.scrollToLeftEvent(),c=!1),e=this._innerContainer.getTopInParent(),e+b<=this._topBoundary&&(f=this._topBoundary-e,this.scrollToTopEvent(),c=!1)):0==a&&0<b?(e=this._innerContainer.getBottomInParent(),
e+b>=this._bottomBoundary&&(f=this._bottomBoundary-e,this.scrollToBottomEvent(),c=!1)):0>a&&0==b?(e=this._innerContainer.getRightInParent(),e+a<=this._rightBoundary&&(d=this._rightBoundary-e,this.scrollToRightEvent(),c=!1)):0==a&&0>b?(e=this._innerContainer.getTopInParent(),e+b<=this._topBoundary&&(f=this._topBoundary-e,this.scrollToTopEvent(),c=!1)):0<a&&0==b&&(e=this._innerContainer.getLeftInParent(),e+a>=this._leftBoundary&&(d=this._leftBoundary-e,this.scrollToLeftEvent(),c=!1));this.moveChildren(d,
f)}return c},scrollToBottom:function(a,b){this.startAutoScrollChildrenWithDestination(cc.p(this._innerContainer.getPositionX(),0),a,b)},scrollToTop:function(a,b){this.startAutoScrollChildrenWithDestination(cc.p(this._innerContainer.getPositionX(),this._size.height-this._innerContainer.getSize().height),a,b)},scrollToLeft:function(a,b){this.startAutoScrollChildrenWithDestination(cc.p(0,this._innerContainer.getPositionY()),a,b)},scrollToRight:function(a,b){this.startAutoScrollChildrenWithDestination(cc.p(this._size.width-
this._innerContainer.getSize().width,this._innerContainer.getPositionY()),a,b)},scrollToTopLeft:function(a,b){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.startAutoScrollChildrenWithDestination(cc.p(0,this._size.height-this._innerContainer.getSize().height),a,b)},scrollToTopRight:function(a,b){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.startAutoScrollChildrenWithDestination(cc.p(this._size.width-this._innerContainer.getSize().width,
this._size.height-this._innerContainer.getSize().height),a,b)},scrollToBottomLeft:function(a,b){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.startAutoScrollChildrenWithDestination(cc.p(0,0),a,b)},scrollToBottomRight:function(a,b){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.startAutoScrollChildrenWithDestination(cc.p(this._size.width-this._innerContainer.getSize().width,0),a,b)},scrollToPercentVertical:function(a,b,c){var d=
this._size.height-this._innerContainer.getSize().height,e=-d;this.startAutoScrollChildrenWithDestination(cc.p(this._innerContainer.getPositionX(),d+a*e/100),b,c)},scrollToPercentHorizontal:function(a,b,c){var d=this._innerContainer.getSize().width-this._size.width;this.startAutoScrollChildrenWithDestination(cc.p(-(a*d/100),this._innerContainer.getPositionY()),b,c)},scrollToPercentBothDirection:function(a,b,c){if(this.direction==ccui.ScrollView.DIR_BOTH){var d=this._size.height-this._innerContainer.getSize().height,
e=-d,f=this._innerContainer.getSize().width-this._size.width;this.startAutoScrollChildrenWithDestination(cc.p(-(a.x*f/100),d+a.y*e/100),b,c)}},jumpToBottom:function(){this.jumpToDestination(this._innerContainer.getPositionX(),0)},jumpToTop:function(){this.jumpToDestination(this._innerContainer.getPositionX(),this._size.height-this._innerContainer.getSize().height)},jumpToLeft:function(){this.jumpToDestination(0,this._innerContainer.getPositionY())},jumpToRight:function(){this.jumpToDestination(this._size.width-
this._innerContainer.getSize().width,this._innerContainer.getPositionY())},jumpToTopLeft:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.jumpToDestination(0,this._size.height-this._innerContainer.getSize().height)},jumpToTopRight:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.jumpToDestination(this._size.width-this._innerContainer.getSize().width,this._size.height-this._innerContainer.getSize().height)},
jumpToBottomLeft:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.jumpToDestination(0,0)},jumpToBottomRight:function(){this.direction!=ccui.ScrollView.DIR_BOTH?cc.log("Scroll diretion is not both!"):this.jumpToDestination(this._size.width-this._innerContainer.getSize().width,0)},jumpToPercentVertical:function(a){var b=this._size.height-this._innerContainer.getSize().height,c=-b;this.jumpToDestination(this._innerContainer.getPositionX(),b+a*c/100)},jumpToPercentHorizontal:function(a){var b=
this._innerContainer.getSize().width-this._size.width;this.jumpToDestination(-(a*b/100),this._innerContainer.getPositionY())},jumpToPercentBothDirection:function(a){if(this.direction==ccui.ScrollView.DIR_BOTH){var b=this._size.height-this._innerContainer.getSize().height,c=-b,d=this._innerContainer.getSize().width-this._size.width;this.jumpToDestination(-(a.x*d/100),b+a.y*c/100)}},startRecordSlidAction:function(){this._autoScroll&&this.stopAutoScrollChildren();this._bouncing&&this.stopBounceChildren();
this._slidTime=0},endRecordSlidAction:function(){if(!this.checkNeedBounce()&&this.inertiaScrollEnabled&&!(0.016>=this._slidTime)){var a=0,b;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:a=this._touchEndedPoint.y-this._touchBeganPoint.y;b=0>a?ccui.ScrollView.SCROLLDIR_DOWN:ccui.ScrollView.SCROLLDIR_UP;break;case ccui.ScrollView.DIR_HORIZONTAL:a=this._touchEndedPoint.x-this._touchBeganPoint.x;b=0>a?ccui.ScrollView.SCROLLDIR_LEFT:ccui.ScrollView.SCROLLDIR_RIGHT;break;case ccui.ScrollView.DIR_BOTH:b=
cc.pSub(this._touchEndedPoint,this._touchBeganPoint),a=cc.pLength(b),b=cc.pNormalize(b)}a=Math.min(Math.abs(a)/this._slidTime,ccui.ScrollView.AUTO_SCROLL_MAX_SPEED);this.startAutoScrollChildrenWithOriginalSpeed(b,a,!0,-1E3);this._slidTime=0}},handlePressLogic:function(a){this._touchMovingPoint=this._touchBeganPoint=this.convertToNodeSpace(a);this.startRecordSlidAction();this._bePressed=!0},handleMoveLogic:function(a){this._touchMovedPoint=this.convertToNodeSpace(a);a=cc.pSub(this._touchMovedPoint,
this._touchMovingPoint);this._touchMovingPoint=this._touchMovedPoint;switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:this.scrollChildren(0,a.y);break;case ccui.ScrollView.DIR_HORIZONTAL:this.scrollChildren(a.x,0);break;case ccui.ScrollView.DIR_BOTH:this.scrollChildren(a.x,a.y)}},handleReleaseLogic:function(a){this._touchEndedPoint=this.convertToNodeSpace(a);this.endRecordSlidAction();this._bePressed=!1},onTouchBegan:function(a,b){var c=ccui.Layout.prototype.onTouchBegan.call(this,a,b);this._hitted&&
this.handlePressLogic(this._touchStartPos);return c},onTouchMoved:function(a,b){ccui.Layout.prototype.onTouchMoved.call(this,a,b);this.handleMoveLogic(this._touchMovePos)},onTouchEnded:function(a,b){ccui.Layout.prototype.onTouchEnded.call(this,a,b);this.handleReleaseLogic(this._touchEndPos)},onTouchCancelled:function(a,b){ccui.Layout.prototype.onTouchCancelled.call(this,a,b)},onTouchLongClicked:function(a){},update:function(a){this._autoScroll&&this.autoScrollChildren(a);this._bouncing&&this.bounceChildren(a);
this.recordSlidTime(a)},recordSlidTime:function(a){this._bePressed&&(this._slidTime+=a)},interceptTouchEvent:function(a,b,c){switch(a){case 0:this.handlePressLogic(c);break;case 1:a=cc.pSub(b.getTouchStartPos(),c);cc.pLength(a)>this._childFocusCancelOffset&&(b.setFocused(!1),this.handleMoveLogic(c));break;case 2:this.handleReleaseLogic(c);break;case 3:this.handleReleaseLogic(c)}},checkChildInfo:function(a,b,c){this._enabled&&this._touchEnabled&&this.interceptTouchEvent(a,b,c)},scrollToTopEvent:function(){this._scrollViewEventListener&&
this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_TOP)},scrollToBottomEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM)},scrollToLeftEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,
ccui.ScrollView.EVENT_SCROLL_TO_LEFT)},scrollToRightEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLL_TO_RIGHT)},scrollingEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_SCROLLING)},bounceTopEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&
this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_TOP)},bounceBottomEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_BOTTOM)},bounceLeftEvent:function(){this._scrollViewEventListener&&this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_LEFT)},bounceRightEvent:function(){this._scrollViewEventListener&&
this._scrollViewEventSelector&&this._scrollViewEventSelector.call(this._scrollViewEventListener,this,ccui.ScrollView.EVENT_BOUNCE_RIGHT)},addEventListenerScrollView:function(a,b){this._scrollViewEventSelector=a;this._scrollViewEventListener=b},setDirection:function(a){this.direction=a},getDirection:function(){return this.direction},setBounceEnabled:function(a){this.bounceEnabled=a},isBounceEnabled:function(){return this.bounceEnabled},setInertiaScrollEnabled:function(a){this.inertiaScrollEnabled=
a},isInertiaScrollEnabled:function(){return this.inertiaScrollEnabled},getInnerContainer:function(){return this._innerContainer},setLayoutType:function(a){this._innerContainer.setLayoutType(a)},getLayoutType:function(){return this._innerContainer.getLayoutType()},_doLayout:function(){this._doLayoutDirty&&(this._doLayoutDirty=!1)},getDescription:function(){return"ScrollView"},copyClonedWidgetChildren:function(a){ccui.Layout.prototype.copyClonedWidgetChildren.call(this,a)},copySpecialProperties:function(a){ccui.Layout.prototype.copySpecialProperties.call(this,
a);this.setInnerContainerSize(a.getInnerContainerSize());this.setDirection(a.direction);this.setBounceEnabled(a.bounceEnabled);this.setInertiaScrollEnabled(a.inertiaScrollEnabled)}});_p=ccui.ScrollView.prototype;cc.defineGetterSetter(_p,"innerWidth",_p._getInnerWidth,_p._setInnerWidth);cc.defineGetterSetter(_p,"innerHeight",_p._getInnerHeight,_p._setInnerHeight);_p=null;ccui.ScrollView.create=function(){return new ccui.ScrollView};ccui.ScrollView.DIR_NONE=0;ccui.ScrollView.DIR_VERTICAL=1;
ccui.ScrollView.DIR_HORIZONTAL=2;ccui.ScrollView.DIR_BOTH=3;ccui.ScrollView.EVENT_SCROLL_TO_TOP=0;ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM=1;ccui.ScrollView.EVENT_SCROLL_TO_LEFT=2;ccui.ScrollView.EVENT_SCROLL_TO_RIGHT=3;ccui.ScrollView.EVENT_SCROLLING=4;ccui.ScrollView.EVENT_BOUNCE_TOP=5;ccui.ScrollView.EVENT_BOUNCE_BOTTOM=6;ccui.ScrollView.EVENT_BOUNCE_LEFT=7;ccui.ScrollView.EVENT_BOUNCE_RIGHT=8;ccui.ScrollView.AUTO_SCROLL_MAX_SPEED=1E3;ccui.ScrollView.SCROLLDIR_UP=cc.p(0,1);
ccui.ScrollView.SCROLLDIR_DOWN=cc.p(0,-1);ccui.ScrollView.SCROLLDIR_LEFT=cc.p(-1,0);ccui.ScrollView.SCROLLDIR_RIGHT=cc.p(1,0);ccui.ListView=ccui.ScrollView.extend({_model:null,_items:null,_gravity:null,_itemsMargin:0,_listViewEventListener:null,_listViewEventSelector:null,_curSelectedIndex:0,_refreshViewDirty:!0,_className:"ListView",ctor:function(){ccui.ScrollView.prototype.ctor.call(this);this._model=null;this._items=[];this._gravity=ccui.ListView.GRAVITY_CENTER_HORIZONTAL;this._itemsMargin=0;this._listViewEventSelector=this._listViewEventListener=null;this._curSelectedIndex=0;this._refreshViewDirty=!0;this.init()},init:function(){return ccui.ScrollView.prototype.init.call(this)?
(this._items=[],this.setLayoutType(ccui.Layout.LINEAR_VERTICAL),!0):!1},setItemModel:function(a){a&&(this._model=a)},updateInnerContainerSize:function(){switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:for(var a=this._items.length,b=(a-1)*this._itemsMargin,c=0;c<a;c++)var d=this._items[c],b=b+d.getSize().height;a=this._size.width;this.setInnerContainerSize(cc.size(a,b));break;case ccui.ScrollView.DIR_HORIZONTAL:a=this._items.length;b=(a-1)*this._itemsMargin;for(c=0;c<a;c++)d=this._items[c],
b+=d.getSize().width;a=this._size.height;this.setInnerContainerSize(cc.size(b,a))}},remedyLayoutParameter:function(a){if(a)switch(this.direction){case ccui.ScrollView.DIR_VERTICAL:var b=a.getLayoutParameter(ccui.LayoutParameter.LINEAR);if(b)switch(0==this.getIndex(a)?b.setMargin(ccui.MarginZero()):b.setMargin(new ccui.Margin(0,this._itemsMargin,0,0)),this._gravity){case ccui.ListView.GRAVITY_LEFT:b.setGravity(ccui.LINEAR_GRAVITY_LEFT);break;case ccui.ListView.GRAVITY_RIGHT:b.setGravity(ccui.LINEAR_GRAVITY_RIGHT);
break;case ccui.ListView.GRAVITY_CENTER_HORIZONTAL:b.setGravity(ccui.LINEAR_GRAVITY_CENTER_HORIZONTAL)}else{b=ccui.LinearLayoutParameter.create();switch(this._gravity){case ccui.ListView.GRAVITY_LEFT:b.setGravity(ccui.LINEAR_GRAVITY_LEFT);break;case ccui.ListView.GRAVITY_RIGHT:b.setGravity(ccui.LINEAR_GRAVITY_RIGHT);break;case ccui.ListView.GRAVITY_CENTER_HORIZONTAL:b.setGravity(ccui.LINEAR_GRAVITY_CENTER_HORIZONTAL)}0==this.getIndex(a)?b.setMargin(ccui.MarginZero()):b.setMargin(new ccui.Margin(0,
this._itemsMargin,0,0));a.setLayoutParameter(b)}break;case ccui.ScrollView.DIR_HORIZONTAL:if(b=a.getLayoutParameter(ccui.LayoutParameter.LINEAR))switch(0==this.getIndex(a)?b.setMargin(ccui.MarginZero()):b.setMargin(new ccui.Margin(this._itemsMargin,0,0,0)),this._gravity){case ccui.ListView.GRAVITY_TOP:b.setGravity(ccui.LINEAR_GRAVITY_TOP);break;case ccui.ListView.GRAVITY_BOTTOM:b.setGravity(ccui.LINEAR_GRAVITY_BOTTOM);break;case ccui.ListView.GRAVITY_CENTER_VERTICAL:b.setGravity(ccui.LINEAR_GRAVITY_CENTER_VERTICAL)}else{b=
ccui.LinearLayoutParameter.create();switch(this._gravity){case ccui.ListView.GRAVITY_TOP:b.setGravity(ccui.LINEAR_GRAVITY_TOP);break;case ccui.ListView.GRAVITY_BOTTOM:b.setGravity(ccui.LINEAR_GRAVITY_BOTTOM);break;case ccui.ListView.GRAVITY_CENTER_VERTICAL:b.setGravity(ccui.LINEAR_GRAVITY_CENTER_VERTICAL)}0==this.getIndex(a)?b.setMargin(ccui.MarginZero()):b.setMargin(new ccui.Margin(this._itemsMargin,0,0,0));a.setLayoutParameter(b)}}},pushBackDefaultItem:function(){if(this._model){var a=this._model.clone();
this._items.push(a);this.remedyLayoutParameter(a);this.addChild(a);this._refreshViewDirty=!0}},insertDefaultItem:function(a){if(this._model){var b=this._model.clone();this._items.splice(a,0,b);this.remedyLayoutParameter(b);this.addChild(b);this._refreshViewDirty=!0}},pushBackCustomItem:function(a){this._items.push(a);this.remedyLayoutParameter(a);this.addChild(a);this._refreshViewDirty=!0},insertCustomItem:function(a,b){this._items.splice(b,0,a);this.remedyLayoutParameter(a);this.addChild(a);this._refreshViewDirty=
!0},removeItem:function(a){if(a=this.getItem(a))cc.arrayRemoveObject(this._items,a),this.removeChild(a),this._refreshViewDirty=!0},removeLastItem:function(){this.removeItem(this._items.length-1)},getItem:function(a){return 0>a||a>=this._items.length?null:this._items[a]},getItems:function(){return this._items},getIndex:function(a){return this._items.indexOf(a)},setGravity:function(a){this._gravity!=a&&(this._gravity=a,this._refreshViewDirty=!0)},setItemsMargin:function(a){this._itemsMargin!=a&&(this._itemsMargin=
a,this._refreshViewDirty=!0)},getItemsMargin:function(){return this._itemsMargin},setDirection:function(a){switch(a){case ccui.ScrollView.DIR_VERTICAL:this.setLayoutType(ccui.Layout.LINEAR_VERTICAL);break;case ccui.ScrollView.DIR_HORIZONTAL:this.setLayoutType(ccui.Layout.LINEAR_HORIZONTAL);break;case ccui.ScrollView.DIR_BOTH:return;default:return}ccui.ScrollView.prototype.setDirection.call(this,a)},addEventListenerListView:function(a,b){this._listViewEventListener=b;this._listViewEventSelector=a},
selectedItemEvent:function(){this._listViewEventSelector&&this._listViewEventListener&&this._listViewEventSelector.call(this._listViewEventListener,this,ccui.ListView.EVENT_SELECTED_ITEM)},interceptTouchEvent:function(a,b,c){ccui.ScrollView.prototype.interceptTouchEvent.call(this,a,b,c);if(1!=a){for(a=b;a;){if(a&&a.getParent()==this._innerContainer){this._curSelectedIndex=this.getIndex(a);break}a=a.getParent()}this.selectedItemEvent()}},getCurSelectedIndex:function(){return this._curSelectedIndex},
requestRefreshView:function(){this._refreshViewDirty=!0},refreshView:function(){for(var a=0;a<this._items.length;a++){var b=this._items[a];b.setLocalZOrder(a);this.remedyLayoutParameter(b)}this.updateInnerContainerSize()},sortAllChildren:function(){ccui.ScrollView.prototype.sortAllChildren.call(this);this._refreshViewDirty&&(this.refreshView(),this._refreshViewDirty=!1)},onSizeChanged:function(){ccui.ScrollView.prototype.onSizeChanged.call(this);this._refreshViewDirty=!0},getDescription:function(){return"ListView"},
createCloneInstance:function(){return ccui.ListView.create()},copyClonedWidgetChildren:function(a){a=a.getItems();for(var b=0;b<a.length;b++)this.pushBackCustomItem(a[b].clone())},copySpecialProperties:function(a){ccui.ScrollView.prototype.copySpecialProperties.call(this,a);this.setItemModel(a._model);this.setItemsMargin(a._itemsMargin);this.setGravity(a._gravity)}});ccui.ListView.create=function(){return new ccui.ListView};ccui.ListView.EVENT_SELECTED_ITEM=0;ccui.ListView.GRAVITY_LEFT=0;
ccui.ListView.GRAVITY_RIGHT=1;ccui.ListView.GRAVITY_CENTER_HORIZONTAL=2;ccui.ListView.GRAVITY_TOP=3;ccui.ListView.GRAVITY_BOTTOM=4;ccui.ListView.GRAVITY_CENTER_VERTICAL=5;ccui.PageView=ccui.Layout.extend({_curPageIdx:0,_pages:null,_touchMoveDir:null,_touchStartLocation:0,_touchMoveStartLocation:0,_movePagePoint:null,_leftChild:null,_rightChild:null,_leftBoundary:0,_rightBoundary:0,_isAutoScrolling:!1,_autoScrollDistance:0,_autoScrollSpeed:0,_autoScrollDir:0,_childFocusCancelOffset:0,_pageViewEventListener:null,_pageViewEventSelector:null,_className:"PageView",ctor:function(){ccui.Layout.prototype.ctor.call(this);this._curPageIdx=0;this._pages=[];this._touchMoveDir=
ccui.PageView.TOUCH_DIR_LEFT;this._touchMoveStartLocation=this._touchStartLocation=0;this._rightChild=this._leftChild=this._movePagePoint=null;this._rightBoundary=this._leftBoundary=0;this._isAutoScrolling=!1;this._autoScrollDir=this._autoScrollSpeed=this._autoScrollDistance=0;this._childFocusCancelOffset=5;this._pageViewEventSelector=this._pageViewEventListener=null;this.init()},init:function(){return ccui.Layout.prototype.init.call(this)?(this.setClippingEnabled(!0),this.setTouchEnabled(!0),!0):
!1},onEnter:function(){ccui.Layout.prototype.onEnter.call(this);this.setUpdateEnabled(!0)},addWidgetToPage:function(a,b,c){if(a&&!(0>b)){var d=this._pages.length;b>=d?c&&(b>d&&cc.log("pageIdx is %d, it will be added as page id [%d]",b,d),b=this.createPage(),b.addChild(a),this.addPage(b)):(b=this._pages[b])&&b.addChild(a)}},createPage:function(){var a=ccui.Layout.create();a.setSize(this.getSize());return a},addPage:function(a){if(a&&a.getWidgetType()==ccui.Widget.TYPE_CONTAINER&&-1==this._pages.indexOf(a)){var b=
a.getSize(),c=this.getSize();b.width==c.width&&b.height==c.height||(cc.log("page size does not match pageview size, it will be force sized!"),a.setSize(c));a.setPosition(this.getPositionXByIndex(this._pages.length),0);this._pages.push(a);this.addChild(a);this.updateBoundaryPages()}},insertPage:function(a,b){if(!(0>b)&&a&&a.getWidgetType()==ccui.Widget.TYPE_CONTAINER&&-1==this._pages.indexOf(a))if(b>=this._pages.length)this.addPage(a);else{this._pages.splice(b,0,a);a.setPosition(this.getPositionXByIndex(b),
0);this.addChild(a);var c=a.getSize(),d=this.getSize();c.equals(d)||(cc.log("page size does not match pageview size, it will be force sized!"),a.setSize(d));for(var c=this._pages,d=c.length,e=b+1;e<d;e++){var f=c[e],m=f.getPosition();f.setPosition(m.x+this.getSize().width,0)}this.updateBoundaryPages()}},removePage:function(a){a&&(this.removeChild(a),this.updateChildrenPosition(),this.updateBoundaryPages())},removePageAtIndex:function(a){0>a||a>=this._pages.length||(a=this._pages[a])&&this.removePage(a)},
updateBoundaryPages:function(){0>=this._pages.length?this._rightChild=this._leftChild=null:(this._leftChild=this._pages[0],this._rightChild=this._pages[this._pages.length-1])},getPositionXByIndex:function(a){return this.getSize().width*(a-this._curPageIdx)},addChild:function(a,b,c){return ccui.Layout.prototype.addChild.call(this,a,b,c)},removeChild:function(a,b){b&&cc.arrayRemoveObject(this._pages,a);ccui.Layout.prototype.removeChild.call(this,a,b)},onSizeChanged:function(){ccui.Layout.prototype.onSizeChanged.call(this);
this._rightBoundary=this.getSize().width;this.updateChildrenSize();this.updateChildrenPosition()},updateChildrenSize:function(){if(this._pages&&!(0>=!this._pages.length))for(var a=this.getSize(),b=0;b<this._pages.length;b++)this._pages[b].setSize(a)},updateChildrenPosition:function(){if(this._pages){var a=this._pages.length;if(0>=a)this._curPageIdx=0;else{this._curPageIdx>=a&&(this._curPageIdx=a-1);for(var b=this.getSize().width,c=this._pages,d=0;d<a;d++)c[d].setPosition((d-this._curPageIdx)*b,0)}}},
removeAllChildren:function(a){a&&(this._pages.length=0);ccui.Layout.prototype.removeAllChildren.call(this,a)},scrollToPage:function(a){0>a||a>=this._pages.length||(this._curPageIdx=a,this._autoScrollDistance=-this._pages[a].getPositionX(),this._autoScrollSpeed=Math.abs(this._autoScrollDistance)/0.2,this._autoScrollDir=0<this._autoScrollDistance?1:0,this._isAutoScrolling=!0)},update:function(a){if(this._isAutoScrolling)switch(this._autoScrollDir){case 0:a*=this._autoScrollSpeed;0<=this._autoScrollDistance+
a?(a=-this._autoScrollDistance,this._autoScrollDistance=0,this._isAutoScrolling=!1):this._autoScrollDistance+=a;this.scrollPages(-a);this._isAutoScrolling||this.pageTurningEvent();break;case 1:a*=this._autoScrollSpeed,0>=this._autoScrollDistance-a?(a=this._autoScrollDistance,this._autoScrollDistance=0,this._isAutoScrolling=!1):this._autoScrollDistance-=a,this.scrollPages(a),this._isAutoScrolling||this.pageTurningEvent()}},onTouchBegan:function(a,b){var c=ccui.Layout.prototype.onTouchBegan.call(this,
a,b);this._hitted&&this.handlePressLogic(a.getLocation());return c},onTouchMoved:function(a,b){var c=a.getLocation();this._touchMovePos.x=c.x;this._touchMovePos.y=c.y;this.handleMoveLogic(c);var d=this.getWidgetParent();d&&d.checkChildInfo(1,this,c);this.moveEvent();this.hitTest(c)||(this.setFocused(!1),this.onTouchEnded(a,b))},onTouchEnded:function(a,b){ccui.Layout.prototype.onTouchEnded.call(this,a,b);this.handleReleaseLogic(this._touchEndPos)},onTouchCancelled:function(a,b){var c=a.getLocation();
ccui.Layout.prototype.onTouchCancelled.call(this,a,b);this.handleReleaseLogic(c)},movePages:function(a){for(var b=this._pages,c=b.length,d=0;d<c;d++){var e=b[d],f=e.getPosition();e.setPosition(f.x+a,f.y)}},scrollPages:function(a){if(0>=this._pages.length||!this._leftChild||!this._rightChild)return!1;var b=a;switch(this._touchMoveDir){case ccui.PageView.TOUCH_DIR_LEFT:if(this._rightChild.getRightInParent()+a<=this._rightBoundary)return b=this._rightBoundary-this._rightChild.getRightInParent(),this.movePages(b),
!1;break;case ccui.PageView.TOUCH_DIR_RIGHT:if(this._leftChild.getLeftInParent()+a>=this._leftBoundary)return b=this._leftBoundary-this._leftChild.getLeftInParent(),this.movePages(b),!1}this.movePages(b);return!0},handlePressLogic:function(a){a=this.convertToNodeSpace(a);this._touchStartLocation=this._touchMoveStartLocation=a.x},handleMoveLogic:function(a){var b=0;a=this.convertToNodeSpace(a).x;b=a-this._touchMoveStartLocation;this._touchMoveStartLocation=a;0>b?this._touchMoveDir=ccui.PageView.TOUCH_DIR_LEFT:
0<b&&(this._touchMoveDir=ccui.PageView.TOUCH_DIR_RIGHT);this.scrollPages(b)},handleReleaseLogic:function(a){if(!(0>=this._pages.length)&&(a=this._pages[this._curPageIdx])){var b=a.getPosition();a=this._pages.length;var b=b.x,c=this.getSize().width/2;b<=-c?this._curPageIdx>=a-1?this.scrollPages(-b):this.scrollToPage(this._curPageIdx+1):b>=c?0>=this._curPageIdx?this.scrollPages(-b):this.scrollToPage(this._curPageIdx-1):this.scrollToPage(this._curPageIdx)}},checkChildInfo:function(a,b,c){this._enabled&&
this._touchEnabled&&this.interceptTouchEvent(a,b,c)},interceptTouchEvent:function(a,b,c){switch(a){case 0:this.handlePressLogic(c);break;case 1:a=0;a=Math.abs(b.getTouchStartPos().x-c.x);a>this._childFocusCancelOffset&&(b.setFocused(!1),this.handleMoveLogic(c));break;case 2:this.handleReleaseLogic(c)}},pageTurningEvent:function(){this._pageViewEventListener&&this._pageViewEventSelector&&this._pageViewEventSelector.call(this._pageViewEventListener,this,ccui.PageView.EVENT_TURNING)},addEventListenerPageView:function(a,
b){this._pageViewEventSelector=a;this._pageViewEventListener=b},getPages:function(){return this._pages},getCurPageIndex:function(){return this._curPageIdx},getDescription:function(){return"PageView"},createCloneInstance:function(){return ccui.PageView.create()},copyClonedWidgetChildren:function(a){a=a.getPages();for(var b=0;b<a.length;b++)this.addPage(a[b].clone())},copySpecialProperties:function(a){ccui.Layout.prototype.copySpecialProperties.call(this,a)},_doLayout:function(){this._doLayoutDirty&&
(this._doLayoutDirty=!1)}});ccui.PageView.create=function(){return new ccui.PageView};ccui.PageView.EVENT_TURNING=0;ccui.PageView.TOUCH_DIR_LEFT=0;ccui.PageView.TOUCH_DIR_RIGHT=1;